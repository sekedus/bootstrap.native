"use strict";const t=require("./base-component-2e8b2d4a.cjs"),P=require("./event-listener-09f2aa63.cjs"),u=require("./activeClass-a1284579.cjs"),E=require("./getTargetElement-3f39cec8.cjs"),p="carousel",S="Carousel",x=`[data-bs-ride="${p}"]`,l=`${p}-item`,H="data-bs-slide-to",g="data-bs-slide",v="paused",I={pause:"hover",keyboard:!1,touch:!0,interval:5e3},f=n=>t.Ln(n,S),X=n=>new q(n);let m=0,$=0,C=0;const M=t.Wn(`slide.bs.${p}`),y=t.Wn(`slid.bs.${p}`),B=n=>{const{index:i,direction:s,element:e,slides:c,options:a}=n;if(n.isAnimating&&f(e)){const r=A(n),o=s==="left"?"next":"prev",d=s==="left"?"start":"end";t.Mn(c[i],u.activeClass),t.Nn(c[i],`${l}-${o}`),t.Nn(c[i],`${l}-${d}`),t.Nn(c[r],u.activeClass),t.Nn(c[r],`${l}-${d}`),t.Q(e,y),t.Gn.clear(e,g),!t.d(e).hidden&&a.interval&&!n.isPaused&&n.cycle()}};function L(){const n=f(this);n&&!n.isPaused&&!t.Gn.get(this,v)&&t.Mn(this,v)}function j(){const n=f(this);n&&n.isPaused&&!t.Gn.get(this,v)&&n.cycle()}function w(n){n.preventDefault();const i=t.de(this,x)||E.getTargetElement(this),s=f(i);if(!s||s.isAnimating)return;const e=+(t.Zt(this,H)||0);this&&!t.kn(this,u.activeClass)&&!Number.isNaN(e)&&s.to(e)}function D(n){n.preventDefault();const i=t.de(this,x)||E.getTargetElement(this),s=f(i);if(!s||s.isAnimating)return;const e=t.Zt(this,g);e==="next"?s.next():e==="prev"&&s.prev()}const Q=({code:n,target:i})=>{const s=t.d(i),[e]=[...t.bo(x,s)].filter(d=>t.eo(d)),c=f(e);if(!c||c.isAnimating||/textarea|input/i.test(i.nodeName))return;const a=t.po(e),r=a?t.Ue:t.Fe,o=a?t.Fe:t.Ue;n===o?c.prev():n===r&&c.next()};function K(n){const{target:i}=n,s=f(this);if(!s||s.isAnimating||s.isTouch)return;const{controls:e,indicators:c}=s;[...e,...c].some(a=>a===i||a.contains(i))||(m=n.pageX,this.contains(i)&&(s.isTouch=!0,R(s,!0)))}const U=n=>{$=n.pageX},F=n=>{const{target:i}=n,s=t.d(i),e=[...t.bo(x,s)].map(o=>f(o)).find(o=>o.isTouch);if(!e)return;const{element:c,index:a}=e,r=t.po(c);if(e.isTouch=!1,R(e),s.getSelection()?.toString().length){m=0,$=0,C=0;return}if(C=n.pageX,!c.contains(i)||Math.abs(m-C)<120){m=0,$=0,C=0;return}$<m?e.to(a+(r?-1:1)):$>m&&e.to(a+(r?1:-1)),m=0,$=0,C=0},G=(n,i)=>{const{indicators:s}=n;[...s].forEach(e=>t.Nn(e,u.activeClass)),n.indicators[i]&&t.Mn(s[i],u.activeClass)},R=(n,i)=>{const{element:s}=n,e=i?P.E:P.d;e(t.d(s),t.kt,U,t.Rn),e(t.d(s),t.Tt,F,t.Rn)},k=(n,i)=>{const{element:s,options:e,slides:c,controls:a,indicators:r}=n,{touch:o,pause:d,interval:N,keyboard:T}=e,h=i?P.E:P.d;d&&N&&(h(s,t.mt,L),h(s,t.gt,j)),o&&c.length>2&&h(s,t.Mt,K,t.Rn),a.length&&a.forEach(b=>{b&&h(b,t.ut,D)}),r.length&&r.forEach(b=>{h(b,t.ut,w)}),T&&h(t.d(s),t.ct,Q)},A=n=>{const{slides:i,element:s}=n,e=t.go(`.${l}.${u.activeClass}`,s);return t.u(e)?[...i].indexOf(e):-1};class q extends t.BaseComponent{static selector=x;static init=X;static getInstance=f;constructor(i,s){super(i,s);const{element:e}=this;this.direction=t.po(e)?"right":"left",this.index=0,this.isTouch=!1,this.slides=t.ho(l,e);const{slides:c}=this;if(c.length<2)return;const a=t.d(e);this.controls=[...t.bo(`[${g}]`,e),...t.bo(`[${g}][${E.dataBsTarget}="#${e.id}"]`,a)],this.indicator=t.go(`.${p}-indicators`,e),this.indicators=[...this.indicator?t.bo(`[${H}]`,this.indicator):[],...t.bo(`[${H}][${E.dataBsTarget}="#${e.id}"]`,a)];const{options:r}=this;this.options.interval=r.interval===!0?I.interval:r.interval,A(this)<0&&(t.Mn(c[0],u.activeClass),this.indicators.length&&G(this,0)),k(this,!0),r.interval&&this.cycle()}get name(){return S}get defaults(){return I}get isPaused(){return t.kn(this.element,v)}get isAnimating(){return t.go(`.${l}-next,.${l}-prev`,this.element)!==null}cycle(){const{element:i,options:s,isPaused:e,index:c}=this;t.Gn.clear(i,p),e&&(t.Gn.clear(i,v),t.Nn(i,v)),t.Gn.set(i,()=>{this.element&&!this.isPaused&&!this.isTouch&&t.eo(i)&&this.to(c+1)},s.interval,p)}pause(){const{element:i,options:s}=this;!this.isPaused&&s.interval&&(t.Mn(i,v),t.Gn.set(i,()=>{},1,v))}next(){this.isAnimating||this.to(this.index+1)}prev(){this.isAnimating||this.to(this.index-1)}to(i){const{element:s,slides:e,options:c}=this,a=A(this),r=t.po(s);let o=i;if(this.isAnimating||a===o||t.Gn.get(s,g))return;a<o||a===0&&o===e.length-1?this.direction=r?"right":"left":(a>o||a===e.length-1&&o===0)&&(this.direction=r?"left":"right");const{direction:d}=this;o<0?o=e.length-1:o>=e.length&&(o=0);const N=d==="left"?"next":"prev",T=d==="left"?"start":"end",h={relatedTarget:e[o],from:a,to:o,direction:d};t.q(M,h),t.q(y,h),t.Q(s,M),!M.defaultPrevented&&(this.index=o,G(this,o),t.oe(e[o])&&t.kn(s,"slide")?t.Gn.set(s,()=>{t.Mn(e[o],`${l}-${N}`),t.Qn(e[o]),t.Mn(e[o],`${l}-${T}`),t.Mn(e[a],`${l}-${T}`),t.zn(e[o],()=>B(this))},0,g):(t.Mn(e[o],u.activeClass),t.Nn(e[a],u.activeClass),t.Gn.set(s,()=>{t.Gn.clear(s,g),s&&c.interval&&!this.isPaused&&this.cycle(),t.Q(s,y)},0,g)))}dispose(){const{slides:i}=this,s=["start","end","prev","next"];[...i].forEach((e,c)=>{t.kn(e,u.activeClass)&&G(this,c),s.forEach(a=>t.Nn(e,`${l}-${a}`))}),k(this),super.dispose()}}module.exports=q;
//# sourceMappingURL=carousel.cjs.map
