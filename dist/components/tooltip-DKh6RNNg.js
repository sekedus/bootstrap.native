"use strict";const t=require("./base-component-DaZCwW-u.js"),W=require("./event-listener-BQdA_KAC.js"),Tt=require("./index-DlQfhTUb.js"),wt=require("./dataBsToggle-Dj-Ng54N.js"),et=require("./showClass-D_Ms1FgG.js"),S=require("./popupContainer-CSoNJ-n6.js"),st=require("./fadeClass-Co6nOzNJ.js"),F="popover",ct="Popover",T="tooltip",ht=s=>{const e=s===T,o=e?`${s}-inner`:`${s}-body`,i=e?"":`<h3 class="${s}-header"></h3>`,l=`<div class="${s}-arrow"></div>`,r=`<div class="${o}"></div>`;return`<div class="${s}" role="${T}">${i+l+r}</div>`},dt={top:"top",bottom:"bottom",left:"start",right:"end"},ot=s=>{requestAnimationFrame(()=>{const e=/\b(top|bottom|start|end)+/,{element:o,tooltip:i,container:l,offsetParent:r,options:d,arrow:c}=s;if(!i)return;const f=t.Uo(o),{x:w,y:h}=t.ko(r);t.ho(i,{top:"",left:"",right:"",bottom:""});const{offsetWidth:u,offsetHeight:m}=i,{clientWidth:g,clientHeight:E,offsetWidth:A}=t.S(o);let{placement:n}=d;const{clientWidth:b,offsetWidth:z}=l,p=t.g(l,"position")==="fixed",Q=Math.abs(p?b-z:g-A),q=f&&p?Q:0,$=g-(f?0:Q)-1,Z=s._observer.getEntry(o),{width:a,height:v,left:j,right:bt,top:I}=Z?.boundingClientRect||t.w(o,!0),{x:G,y:R}=t.Co(o,r,{x:w,y:h});t.ho(c,{top:"",left:"",right:"",bottom:""});let x=0,O="",y=0,J="",L="",U="",K="";const H=c.offsetWidth||0,C=c.offsetHeight||0,X=H/2;let _=I-m-C<0,k=I+m+v+C>=E,D=j-u-H<q,M=j+u+a+H>=$;const V=["left","right"],tt=["top","bottom"];_=V.includes(n)?I+v/2-m/2-C<0:_,k=V.includes(n)?I+m/2+v/2+C>=E:k,D=tt.includes(n)?j+a/2-u/2<q:D,M=tt.includes(n)?j+u/2+a/2>=$:M,n=V.includes(n)&&D&&M?"top":n,n=n==="top"&&_?"bottom":n,n=n==="bottom"&&k?"top":n,n=n==="left"&&D?"right":n,n=n==="right"&&M?"left":n,i.className.includes(n)||(i.className=i.className.replace(e,dt[n])),V.includes(n)?(n==="left"?y=G-u-H:y=G+a+H,_&&k?(x=0,O=0,L=R+v/2-C/2):_?(x=R,O="",L=v/2-H):k?(x=R-m+v,O="",L=m-v/2-H):(x=R-m/2+v/2,L=m/2-C/2)):tt.includes(n)&&(n==="top"?x=R-m-C:x=R+v+C,D?(y=0,U=G+a/2-X):M?(y="auto",J=0,K=a/2+$-bt-X):(y=G-u/2+a/2,U=u/2-X)),t.ho(i,{top:`${x}px`,bottom:O===""?"":`${O}px`,left:y==="auto"?y:`${y}px`,right:J!==""?`${J}px`:""}),t.m(c)&&(L!==""&&(c.style.top=`${L}px`),U!==""?c.style.left=`${U}px`:K!==""&&(c.style.right=`${K}px`));const vt=t.vo(`updated.bs.${t.ue(s.name)}`);t.q(o,vt)})},it={template:ht(T),title:"",customClass:"",trigger:"hover focus",placement:"top",sanitizeFn:void 0,animation:!0,delay:200,container:document.body,content:"",dismissible:!1,btnClose:""},pt="data-original-title",N="Tooltip",P=(s,e,o)=>{if(t.k(e)&&e.length){let i=e.trim();t.zo(o)&&(i=o(i));const r=new DOMParser().parseFromString(i,"text/html");s.append(...r.body.childNodes)}else t.m(e)?s.append(e):(t.Vo(e)||t.Se(e)&&e.every(t.l))&&s.append(...e)},$t=s=>{const e=s.name===N,{id:o,element:i,options:l}=s,{title:r,placement:d,template:c,animation:f,customClass:w,sanitizeFn:h,dismissible:u,content:m,btnClose:g}=l,E=e?T:F,A={...dt};let n=[],b=[];t.Uo(i)&&(A.left="end",A.right="start");const z=`bs-${E}-${A[d]}`;let B;if(t.m(c))B=c;else{const a=t.oe("div");P(a,c,h),B=a.firstChild}if(!t.m(B))return;s.tooltip=B.cloneNode(!0);const{tooltip:p}=s;t.Qn(p,"id",o),t.Qn(p,"role",T);const Q=e?`${T}-inner`:`${F}-body`,q=e?null:t.Ro(`.${F}-header`,p),$=t.Ro(`.${Q}`,p);s.arrow=t.Ro(`.${E}-arrow`,p);const{arrow:Z}=s;if(t.m(r))n=[r.cloneNode(!0)];else{const a=t.oe("div");P(a,r,h),n=[...a.childNodes]}if(t.m(m))b=[m.cloneNode(!0)];else{const a=t.oe("div");P(a,m,h),b=[...a.childNodes]}if(u)if(r)if(t.m(g))n=[...n,g.cloneNode(!0)];else{const a=t.oe("div");P(a,g,h),n=[...n,a.firstChild]}else if(q&&q.remove(),t.m(g))b=[...b,g.cloneNode(!0)];else{const a=t.oe("div");P(a,g,h),b=[...b,a.firstChild]}e?r&&$&&P($,r,h):(r&&q&&P(q,n,h),m&&$&&P($,b,h),s.btn=t.Ro(".btn-close",p)||void 0),t.qn(p,"position-absolute"),t.qn(Z,"position-absolute"),t.Yn(p,E)||t.qn(p,E),f&&!t.Yn(p,st.fadeClass)&&t.qn(p,st.fadeClass),w&&!t.Yn(p,w)&&t.qn(p,w),t.Yn(p,z)||t.qn(p,z)},yt=s=>{const e=["HTML","BODY"],o=[];let{parentNode:i}=s;for(;i&&!e.includes(i.nodeName);)i=t.A(i),t.me(i)||t.be(i)||o.push(i);return o.find((l,r)=>(t.g(l,"position")!=="relative"||t.g(l,"position")==="relative"&&l.offsetHeight!==l.scrollHeight)&&o.slice(r+1).every(d=>t.g(d,"position")==="static")?l:null)||t.d(s).body},Ct=`[${wt.dataBsToggle}="${T}"],[data-tip="${T}"]`,ft="title";let nt=s=>t.to(s,N);const Pt=s=>new gt(s),Et=s=>{const{element:e,tooltip:o,container:i}=s;t.Gn(e,t.De),S.removePopup(o,i)},Y=s=>{const{tooltip:e,container:o}=s;return e&&S.hasPopup(e,o)},qt=(s,e)=>{const{element:o}=s;s._toggleEventListeners(),t.ne(o,pt)&&s.name===N&&ut(s),e&&e()},mt=(s,e)=>{const o=e?W.E:W.r,{element:i}=s;o(t.d(i),t.Rt,s.handleTouch,t.bo)},lt=s=>{const{element:e}=s,o=t.vo(`shown.bs.${t.ue(s.name)}`);mt(s,!0),t.q(e,o),t.yo.clear(e,"in")},rt=s=>{const{element:e}=s,o=t.vo(`hidden.bs.${t.ue(s.name)}`);mt(s),Et(s),t.q(e,o),t.yo.clear(e,"out")},at=(s,e)=>{const o=e?W.E:W.r,{element:i,tooltip:l}=s,r=t.ke(i,`.${S.modalString}`),d=t.ke(i,`.${S.offcanvasString}`);e?[i,l].forEach(c=>s._observer.observe(c)):s._observer.disconnect(),r&&o(r,`hide.bs.${S.modalString}`,s.handleHide),d&&o(d,`hide.bs.${S.offcanvasString}`,s.handleHide)},ut=(s,e)=>{const o=[pt,ft],{element:i}=s;t.Qn(i,o[e?0:1],e||t.j(i,o[0])||""),t.Gn(i,o[e?1:0])};class gt extends t.BaseComponent{static selector=Ct;static init=Pt;static getInstance=nt;static styleTip=ot;constructor(e,o){super(e,o);const{element:i}=this,l=this.name===N,r=l?T:F,d=l?N:ct;nt=h=>t.to(h,d),this.enabled=!0,this.id=`${r}-${t.Ae(i,r)}`;const{options:c}=this;if(!c.title&&l||!l&&!c.content)return;t.N(it,{titleAttr:""}),t.ne(i,ft)&&l&&typeof c.title=="string"&&ut(this,c.title);const f=yt(i),w=["sticky","fixed","relative"].some(h=>t.g(f,"position")===h)?f:t.ve(i);this.container=f,this.offsetParent=w,$t(this),this.tooltip&&(this._observer=new Tt.E(h=>{h.some(u=>u.isVisible)&&this.update()}),this._toggleEventListeners(!0))}get name(){return N}get defaults(){return it}handleFocus=()=>t.io(this.element);handleShow=()=>this.show();show(){const{options:e,tooltip:o,element:i,container:l,id:r}=this,{animation:d}=e,c=t.yo.get(i,"out");t.yo.clear(i,"out"),o&&!c&&!Y(this)&&t.yo.set(i,()=>{const f=t.vo(`show.bs.${t.ue(this.name)}`);t.q(i,f),f.defaultPrevented||(S.appendPopup(o,l),t.Qn(i,t.De,`#${r}`),this.update(),at(this,!0),t.Yn(o,et.showClass)||t.qn(o,et.showClass),d?t.ro(o,()=>lt(this)):lt(this))},17,"in")}handleHide=()=>this.hide();hide(){const{options:e,tooltip:o,element:i}=this,{animation:l,delay:r}=e;t.yo.clear(i,"in"),o&&Y(this)&&t.yo.set(i,()=>{const d=t.vo(`hide.bs.${t.ue(this.name)}`);t.q(i,d),d.defaultPrevented||(this.update(),t.Zn(o,et.showClass),at(this),l?t.ro(o,()=>rt(this)):rt(this))},r+17,"out")}update=()=>{ot(this)};toggle=()=>{const{tooltip:e}=this;e&&!Y(this)?this.show():this.hide()};enable(){const{enabled:e}=this;e||(this._toggleEventListeners(!0),this.enabled=!e)}disable(){const{tooltip:e,enabled:o}=this;o&&(e&&Y(this)&&this.hide(),this._toggleEventListeners(),this.enabled=!o)}toggleEnabled(){this.enabled?this.disable():this.enable()}handleTouch=({target:e})=>{const{tooltip:o,element:i}=this;o&&o.contains(e)||e===i||e&&i.contains(e)||this.hide()};_toggleEventListeners=e=>{const o=e?W.E:W.r,{element:i,options:l,btn:r}=this,{trigger:d}=l,f=!!(this.name!==N&&l.dismissible);d.includes("manual")||(this.enabled=!!e,d.split(" ").forEach(h=>{h===t.ht?(o(i,t.bt,this.handleShow),o(i,t.yt,this.handleShow),f||(o(i,t.wt,this.handleHide),o(t.d(i),t.Rt,this.handleTouch,t.bo))):h===t.mt?o(i,h,f?this.handleShow:this.toggle):h===t.rt&&(o(i,t.ct,this.handleShow),f||o(i,t.at,this.handleHide),t.zn()&&o(i,t.mt,this.handleFocus)),f&&r&&o(r,t.mt,this.handleHide)}))};dispose(){const{tooltip:e,options:o}=this,i={...this,name:this.name},l=()=>setTimeout(()=>qt(i,()=>super.dispose()),17);o.animation&&Y(i)?(this.options.delay=0,this.hide(),t.ro(e,l)):l()}}exports.Tooltip=gt;exports.getTipTemplate=ht;exports.popoverComponent=ct;exports.popoverString=F;exports.styleTip=ot;exports.tooltipDefaults=it;
//# sourceMappingURL=tooltip-DKh6RNNg.js.map
