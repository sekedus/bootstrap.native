"use strict";const t=require("./base-component-2e8b2d4a.cjs"),G=require("./event-listener-09f2aa63.cjs"),Ct=require("./dataBsToggle-c8bc9e7f.cjs"),st=require("./showClass-2174a6d6.cjs"),m=require("./popupContainer-536be6c3.cjs"),pt=require("./fadeClass-a4944cf1.cjs"),Z="popover",at="Popover",P="tooltip",ft=o=>{const e=o===P,s=e?`${o}-inner`:`${o}-body`,i=e?"":`<h3 class="${o}-header"></h3>`,n=`<div class="${o}-arrow"></div>`,a=`<div class="${s}"></div>`;return`<div class="${o}" role="${P}">${i+n+a}</div>`},mt={top:"top",bottom:"bottom",left:"start",right:"end"},nt=(o,e)=>{const s=/\b(top|bottom|start|end)+/,{element:i,tooltip:n,options:a,arrow:r}=o;if(!n)return;const f={...mt},h=t.po(i);h&&(f.left="end",f.right="start"),t.qn(n,{top:"",left:"",right:"",bottom:""});const v=o.name===at,{offsetWidth:c,offsetHeight:u}=n,{clientWidth:N,clientHeight:$}=t.k(i);let{placement:l}=a;const{left:x,right:w,top:T}=t.w(m.popupContainer,!0),{clientWidth:S,offsetWidth:H}=m.popupContainer,p=Math.abs(S-H),_=t.E(m.popupContainer,"position"),g=_==="fixed",q=_==="static",k=h&&g?p:0,d=g?S+x+(h?p:0):S+x+(N-w)-1,{width:R,height:y,left:F,right:Tt,top:O}=t.w(i,!0),ct=t.$n(n),J={x:ct.scrollX,y:ct.scrollY},{x:K,y:X}={x:F+J.x,y:O+J.y};t.qn(r,{top:"",left:"",right:"",bottom:""});let E=0,b=0,U=0,z=0,A=0,D=0;const C=r.offsetWidth||0,B=r.offsetHeight||0,L=C/2;let V=O-u-B<0,tt=O+u+y+B>=$,I=F-c-C<k,Q=F+c+R+C>=d;const et=["left","right"],it=["top","bottom"];if(V=et.includes(l)?O+y/2-u/2-B<0:V,tt=et.includes(l)?O+u/2+y/2+B>=$:tt,I=it.includes(l)?F+R/2-c/2<k:I,Q=it.includes(l)?F+c/2+R/2>=d:Q,l=et.includes(l)&&I&&Q?"top":l,l=l==="top"&&V?"bottom":l,l=l==="bottom"&&tt?"top":l,l=l==="left"&&I?"right":l,l=l==="right"&&Q?"left":l,n.className.includes(l)||(n.className=n.className.replace(s,f[l])),et.includes(l))l==="left"?b=K-c-(v?C:0):b=K+R+(v?C:0),V?(E=X,z=y/2-C):tt?(E=X-u+y,z=u-y/2-C):(E=X-u/2+y/2,z=u/2-B/2);else if(it.includes(l))if(e&&t.uo(i)){let j=0,ot=0;q?(j=e.pageX,ot=e.pageY):(j=e.clientX-x+(g?J.x:0),ot=e.clientY-T+(g?J.y:0)),j-=h&&g&&p?p:0,l==="top"?E=ot-u-C:E=ot+C,e.clientX-c/2<k?(b=0,A=j-L):e.clientX+c/2>d?(b="auto",U=0,D=d-j-L,D-=g?x+(h?p:0):0):(b=j-c/2,A=c/2-L)}else l==="top"?E=X-u-(v?B:0):E=X+y+(v?B:0),I?(b=0,A=K+R/2-L):Q?(b="auto",U=0,D=R/2+d-Tt-L):(b=K-c/2+R/2,A=c/2-L);t.qn(n,{top:`${E}px`,left:b==="auto"?b:`${b}px`,right:U!==void 0?`${U}px`:""}),t.u(r)&&(z!==void 0&&(r.style.top=`${z}px`),A!==void 0?r.style.left=`${A}px`:D!==void 0&&(r.style.right=`${D}px`))},lt={template:ft(P),title:"",customClass:"",trigger:"hover focus",placement:"top",sanitizeFn:void 0,animation:!0,delay:200,container:document.body,content:"",dismissible:!1,btnClose:""},gt="data-original-title",M="Tooltip",W=(o,e,s)=>{if(!(!t.u(o)||t.g(e)&&!e.length))if(t.g(e)){let i=e.trim();t.so(s)&&(i=s(i));const a=new DOMParser().parseFromString(i,"text/html");o.append(...a.body.childNodes)}else t.u(e)?o.append(e):(t.lo(e)||t.ue(e)&&e.every(t.a))&&o.append(...e)},Pt=o=>{const e=o.name===M,{id:s,element:i,options:n}=o,{title:a,placement:r,template:f,animation:h,customClass:v,sanitizeFn:c,dismissible:u,content:N,btnClose:$}=n,l=e?P:Z,x={...mt};let w=[],T=[];t.po(i)&&(x.left="end",x.right="start");const S=`bs-${l}-${x[r]}`;let H;if(t.u(f))H=f;else{const d=t.$t("div");W(d,f,c),H=d.firstChild}o.tooltip=t.u(H)?H.cloneNode(!0):void 0;const{tooltip:p}=o;if(!p)return;t.F(p,"id",s),t.F(p,"role",P);const _=e?`${P}-inner`:`${Z}-body`,g=e?null:t.go(`.${Z}-header`,p),q=t.go(`.${_}`,p);o.arrow=t.go(`.${l}-arrow`,p);const{arrow:k}=o;if(t.u(a))w=[a.cloneNode(!0)];else{const d=t.$t("div");W(d,a,c),w=[...d.childNodes]}if(t.u(N))T=[N.cloneNode(!0)];else{const d=t.$t("div");W(d,N,c),T=[...d.childNodes]}if(u)if(a)if(t.u($))w=[...w,$.cloneNode(!0)];else{const d=t.$t("div");W(d,$,c),w=[...w,d.firstChild]}else if(g&&g.remove(),t.u($))T=[...T,$.cloneNode(!0)];else{const d=t.$t("div");W(d,$,c),T=[...T,d.firstChild]}e?a&&q&&W(q,a,c):(a&&g&&W(g,w,c),N&&q&&W(q,T,c),o.btn=t.go(".btn-close",p)||void 0),t.Mn(p,"position-absolute"),t.Mn(k,"position-absolute"),t.kn(p,l)||t.Mn(p,l),h&&!t.kn(p,pt.fadeClass)&&t.Mn(p,pt.fadeClass),v&&!t.kn(p,v)&&t.Mn(p,v),t.kn(p,S)||t.Mn(p,S)},xt=`[${Ct.dataBsToggle}="${P}"],[data-tip="${P}"]`,bt="title";let rt=o=>t.Ln(o,M);const yt=o=>new wt(o),Et=o=>{const{element:e,tooltip:s}=o;t.An(e,t.ge),m.removePopup(s)},Wt=(o,e)=>{const{element:s}=o;Y(o),t.hn(s,gt)&&o.name===M&&$t(o),e&&e()},vt=(o,e)=>{const s=e?G.E:G.d,{element:i}=o;s(t.d(i),t.Bt,o.handleTouch,t.Rn),t.uo(i)||[t.xt,t.Lt].forEach(n=>{s(t.$n(i),n,o.update,t.Rn)})},dt=o=>{const{element:e}=o,s=t.Wn(`shown.bs.${t.se(o.name)}`);vt(o,!0),t.Q(e,s),t.Gn.clear(e,"in")},ht=(o,e)=>{const{element:s}=o,i=t.Wn(`hidden.bs.${t.se(o.name)}`);vt(o),Et(o),t.Q(s,i),t.so(e)&&e(),t.Gn.clear(s,"out")},Y=(o,e)=>{const s=e?G.E:G.d,{element:i,options:n,btn:a}=o,{trigger:r}=n,h=!!(o.name!==M&&n.dismissible);if(r?.includes("manual"))return;o.enabled=!!e;const v=r?.split(" "),c=t.uo(i);c&&s(i,t.ht,o.update,t.Rn),v?.forEach(u=>{c||u===t.ft?(s(i,t.dt,o.show),s(i,t.mt,o.show),h&&a?s(a,t.ut,o.hide):(s(i,t.gt,o.hide),s(t.d(i),t.Bt,o.handleTouch,t.Rn))):u===t.ut?s(i,u,h?o.show:o.toggle):u===t._&&(s(i,t.tt,o.show),h||s(i,t.et,o.hide),t.ln&&s(i,t.ut,()=>t.Bn(i)))})},ut=(o,e)=>{const s=e?G.E:G.d,{element:i}=o,n=t.de(i,`.${m.modalString}`),a=t.de(i,`.${m.offcanvasString}`);if(!t.uo(i)){const r=t.$n(i);s(r,t.Lt,o.update,t.Rn),s(r,t.xt,o.update,t.Rn)}n&&s(n,`hide.bs.${m.modalString}`,o.hide),a&&s(a,`hide.bs.${m.offcanvasString}`,o.hide)},$t=(o,e)=>{const s=[gt,bt],{element:i}=o;t.F(i,s[e?0:1],e||t.Zt(i,s[0])||""),t.An(i,s[e?1:0])};class wt extends t.BaseComponent{static selector=xt;static init=yt;static getInstance=rt;static styleTip=nt;constructor(e,s){super(e,s);const{element:i}=this,n=this.name===M,a=n?P:Z,r=n?M:at;rt=h=>t.Ln(h,r),this.enabled=!0,this.id=`${a}-${t.ae(i,a)}`;const{options:f}=this;!f.title&&n||!n&&!f.content||(t.q(lt,{titleAttr:""}),this.handleTouch=this.handleTouch.bind(this),this.update=this.update.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.toggle=this.toggle.bind(this),t.hn(i,bt)&&n&&$t(this,f.title),Pt(this),Y(this,!0))}get name(){return M}get defaults(){return lt}show(e){const{options:s,tooltip:i,element:n,id:a}=this,{animation:r}=s,f=t.Gn.get(n,"out");t.Gn.clear(n,"out"),i&&!f&&!m.hasPopup(i)&&t.Gn.set(n,()=>{const h=t.Wn(`show.bs.${t.se(this.name)}`);t.Q(n,h),!h.defaultPrevented&&(m.appendPopup(i),t.F(n,t.ge,`#${a}`),this.update(e),ut(this,!0),t.kn(i,st.showClass)||t.Mn(i,st.showClass),r?t.zn(i,()=>dt(this)):dt(this))},17,"in")}hide(e,s){const{options:i,tooltip:n,element:a}=this,{animation:r,delay:f}=i;t.Gn.clear(a,"in"),n&&m.hasPopup(n)&&t.Gn.set(a,()=>{const h=t.Wn(`hide.bs.${t.se(this.name)}`);t.Q(a,h),!h.defaultPrevented&&(this.update(e),t.Nn(n,st.showClass),ut(this),r?t.zn(n,()=>ht(this,s)):ht(this,s))},f+17,"out")}update(e){nt(this,e)}toggle(e){const{tooltip:s}=this;s&&!m.hasPopup(s)?this.show(e):this.hide()}enable(){const{enabled:e}=this;e||(Y(this,!0),this.enabled=!e)}disable(){const{tooltip:e,options:s,enabled:i}=this,{animation:n}=s;i&&(e&&m.hasPopup(e)&&n?this.hide(void 0,()=>Y(this)):Y(this),this.enabled=!i)}toggleEnabled(){this.enabled?this.disable():this.enable()}handleTouch({target:e}){const{tooltip:s,element:i}=this;s&&s.contains(e)||e===i||e&&i.contains(e)||this.hide()}dispose(){const{tooltip:e,options:s}=this,i=()=>Wt(this,()=>super.dispose());s.animation&&e&&m.hasPopup(e)?(this.options.delay=0,this.hide(void 0,i)):i()}}exports.Tooltip=wt;exports.getTipTemplate=ft;exports.popoverComponent=at;exports.popoverString=Z;exports.styleTip=nt;exports.tooltipDefaults=lt;
//# sourceMappingURL=tooltip-2b151389.cjs.map
