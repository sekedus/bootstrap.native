{"version":3,"file":"index-gZuXW-3_.mjs","sources":["../../node_modules/.pnpm/@thednp+position-observer@0.0.3/node_modules/@thednp/position-observer/dist/index.mjs"],"sourcesContent":["const p = (i) => i != null && typeof i == \"object\" || !1, k = (i) => p(i) && typeof i.nodeType == \"number\" && [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].some(\n  (t) => i.nodeType === t\n) || !1, _ = (i) => k(i) && i.nodeType === 1 || !1, B = (i) => typeof i == \"function\" || !1, m = \"PositionObserver Error\";\nclass x {\n  entries;\n  _tick;\n  _root;\n  _callback;\n  /**\n   * The constructor takes two arguments, a `callback`, which is called\n   * whenever the position of an observed element changes and an `options` object.\n   * The callback function should take an array of `PositionObserverEntry` objects\n   * as its only argument, but it's not required.\n   *\n   * @param callback the callback that applies to all targets of this observer\n   * @param options the options of this observer\n   */\n  constructor(t, n) {\n    if (!B(t))\n      throw new Error(`${m}: ${t} is not a function.`);\n    this.entries = [], this._callback = t, this._root = _(n?.root) ? n.root : document?.documentElement, this._tick = 0;\n  }\n  /**\n   * Start observing the position of the specified element.\n   * If the element is not currently attached to the DOM,\n   * it will NOT be added to the entries.\n   * @param target\n   */\n  observe = (t) => {\n    if (!_(t))\n      throw new Error(\n        `${m}: ${t} is not an instance of HTMLElement.`\n      );\n    if (!this._root.contains(t)) return;\n    const { clientWidth: n, clientHeight: o } = this._root, h = t.getBoundingClientRect(), { left: l, top: u, bottom: e, right: s, width: r, height: c } = h, a = u > 1 - c && l > 1 - r && e <= o + c - 1 && s <= n + r - 1;\n    this.entries.push({ target: t, boundingBox: h, isVisible: a }), this._tick || (this._tick = requestAnimationFrame(this._runCallback));\n  };\n  /**\n   * Stop observing the position of the specified element.\n   * @param target\n   */\n  unobserve = (t) => {\n    const n = this.entries.findIndex((o) => o.target === t);\n    this.entries.splice(n, 1);\n  };\n  /**\n   * Private method responsible for all the heavy duty.\n   */\n  _runCallback = () => {\n    if (!this.entries.length) return;\n    const t = [], { clientWidth: n, clientHeight: o } = this._root;\n    this.entries.forEach((h, l) => {\n      const { target: u, boundingBox: e } = h, s = u.getBoundingClientRect(), { left: r, top: c, bottom: a, right: d, width: b, height: f } = s;\n      if (e.left !== r || e.top !== c || e.right !== d || e.bottom !== a) {\n        const g = c > 1 - f && r > 1 - b && a <= o + f - 1 && d <= n + b - 1;\n        this.entries[l].boundingBox = s, this.entries[l].isVisible = g, t.push({ target: u, boundingBox: s, isVisible: g });\n      }\n    }), t.length && this._callback(t), requestAnimationFrame(this._runCallback);\n  };\n  /**\n   * Immediately stop observing all elements.\n   */\n  disconnect = () => {\n    cancelAnimationFrame(this._tick), this.entries.length = 0, this._tick = 0;\n  };\n}\nexport {\n  x as default\n};\n//# sourceMappingURL=index.mjs.map\n"],"names":["i","_","B","x","n","u","e","a","d","f","g"],"mappings":"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","x_google_ignoreList":[0]}