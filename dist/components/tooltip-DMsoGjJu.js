"use strict";const t=require("./base-component-CEXwoid1.js"),vt=require("./index-CxumdV5N.js"),Tt=require("./dataBsToggle-Dj-Ng54N.js"),tt=require("./showClass-D_Ms1FgG.js"),S=require("./popupContainer-B1-dZ_ye.js"),it=require("./fadeClass-Co6nOzNJ.js"),Q="popover",rt="Popover",T="tooltip",ct=s=>{const e=s===T,o=e?`${s}-inner`:`${s}-body`,i=e?"":`<h3 class="${s}-header"></h3>`,l=`<div class="${s}-arrow"></div>`,a=`<div class="${o}"></div>`;return`<div class="${s}" role="${T}">${i+l+a}</div>`},ht={top:"top",bottom:"bottom",left:"start",right:"end"},et=s=>{requestAnimationFrame(()=>{const e=/\b(top|bottom|start|end)+/,{element:o,tooltip:i,container:l,offsetParent:a,options:d,arrow:c}=s;if(!i)return;const f=t.Uo(o),{x:w,y:h}=t.ko(a);t.Eo(i,{top:"",left:"",right:"",bottom:""});const{offsetWidth:u,offsetHeight:m}=i,{clientWidth:g,clientHeight:P,offsetWidth:L}=t.S(o);let{placement:n}=d;const{clientWidth:b,offsetWidth:F}=l,p=t.g(l,"position")==="fixed",Z=Math.abs(p?b-F:g-L),x=f&&p?Z:0,$=g-(f?0:Z)-1,Y=s._observer.getEntry(o),{width:r,height:v,left:z,right:gt,top:j}=Y?.boundingClientRect||t.w(o,!0),{x:I,y:W}=t.Co(o,a,{x:w,y:h});t.Eo(c,{top:"",left:"",right:"",bottom:""});let q=0,B="",C=0,V="",A="",G="",J="";const H=c.offsetWidth||0,y=c.offsetHeight||0,K=H/2;let O=j-m-y<0,_=j+m+v+y>=P,k=z-u-H<x,D=z+u+r+H>=$;const U=["left","right"],X=["top","bottom"];O=U.includes(n)?j+v/2-m/2-y<0:O,_=U.includes(n)?j+m/2+v/2+y>=P:_,k=X.includes(n)?z+r/2-u/2<x:k,D=X.includes(n)?z+u/2+r/2>=$:D,n=U.includes(n)&&k&&D?"top":n,n=n==="top"&&O?"bottom":n,n=n==="bottom"&&_?"top":n,n=n==="left"&&k?"right":n,n=n==="right"&&D?"left":n,i.className.includes(n)||(i.className=i.className.replace(e,ht[n])),U.includes(n)?(n==="left"?C=I-u-H:C=I+r+H,O&&_?(q=0,B=0,A=W+v/2-y/2):O?(q=W,B="",A=v/2-H):_?(q=W-m+v,B="",A=m-v/2-H):(q=W-m/2+v/2,A=m/2-y/2)):X.includes(n)&&(n==="top"?q=W-m-y:q=W+v+y,k?(C=0,G=I+r/2-K):D?(C="auto",V=0,J=r/2+$-gt-K):(C=I-u/2+r/2,G=u/2-K)),t.Eo(i,{top:`${q}px`,bottom:B===""?"":`${B}px`,left:C==="auto"?C:`${C}px`,right:V!==""?`${V}px`:""}),t.m(c)&&(A!==""&&(c.style.top=`${A}px`),G!==""?c.style.left=`${G}px`:J!==""&&(c.style.right=`${J}px`));const bt=t.mo(`updated.bs.${t.yo(s.name)}`);t.q(o,bt)})},ot={template:ct(T),title:"",customClass:"",trigger:"hover focus",placement:"top",sanitizeFn:void 0,animation:!0,delay:200,container:document.body,content:"",dismissible:!1,btnClose:""},dt="data-original-title",N="Tooltip",E=(s,e,o)=>{if(t.k(e)&&e.length){let i=e.trim();t.zo(o)&&(i=o(i));const a=new DOMParser().parseFromString(i,"text/html");s.append(...a.body.childNodes)}else t.m(e)?s.append(e):(t.Vo(e)||t.Se(e)&&e.every(t.l))&&s.append(...e)},wt=s=>{const e=s.name===N,{id:o,element:i,options:l}=s,{title:a,placement:d,template:c,animation:f,customClass:w,sanitizeFn:h,dismissible:u,content:m,btnClose:g}=l,P=e?T:Q,L={...ht};let n=[],b=[];t.Uo(i)&&(L.left="end",L.right="start");const F=`bs-${P}-${L[d]}`;let R;if(t.m(c))R=c;else{const r=t.se("div");E(r,c,h),R=r.firstChild}if(!t.m(R))return;s.tooltip=R.cloneNode(!0);const{tooltip:p}=s;t.Qn(p,"id",o),t.Qn(p,"role",T);const Z=e?`${T}-inner`:`${Q}-body`,x=e?null:t.Ro(`.${Q}-header`,p),$=t.Ro(`.${Z}`,p);s.arrow=t.Ro(`.${P}-arrow`,p);const{arrow:Y}=s;if(t.m(a))n=[a.cloneNode(!0)];else{const r=t.se("div");E(r,a,h),n=[...r.childNodes]}if(t.m(m))b=[m.cloneNode(!0)];else{const r=t.se("div");E(r,m,h),b=[...r.childNodes]}if(u)if(a)if(t.m(g))n=[...n,g.cloneNode(!0)];else{const r=t.se("div");E(r,g,h),n=[...n,r.firstChild]}else if(x&&x.remove(),t.m(g))b=[...b,g.cloneNode(!0)];else{const r=t.se("div");E(r,g,h),b=[...b,r.firstChild]}e?a&&$&&E($,a,h):(a&&x&&E(x,n,h),m&&$&&E($,b,h),s.btn=t.Ro(".btn-close",p)||void 0),t.qn(p,"position-absolute"),t.qn(Y,"position-absolute"),t.Zn(p,P)||t.qn(p,P),f&&!t.Zn(p,it.fadeClass)&&t.qn(p,it.fadeClass),w&&!t.Zn(p,w)&&t.qn(p,w),t.Zn(p,F)||t.qn(p,F)},$t=s=>{const e=["HTML","BODY"],o=[];let{parentNode:i}=s;for(;i&&!e.includes(i.nodeName);)i=t.A(i),t.me(i)||t.be(i)||o.push(i);return o.find((l,a)=>(t.g(l,"position")!=="relative"||t.g(l,"position")==="relative"&&l.offsetHeight!==l.scrollHeight)&&o.slice(a+1).every(d=>t.g(d,"position")==="static")?l:null)||t.d(s).body},Ct=`[${Tt.dataBsToggle}="${T}"],[data-tip="${T}"]`,pt="title";let st=s=>t.to(s,N);const yt=s=>new ut(s),Et=s=>{const{element:e,tooltip:o,container:i}=s;t.Gn(e,t.De),S.removePopup(o,i)},M=s=>{const{tooltip:e,container:o}=s;return e&&S.hasPopup(e,o)},Pt=(s,e)=>{const{element:o}=s;s._toggleEventListeners(),t.oe(o,dt)&&s.name===N&&mt(s),e&&e()},ft=(s,e)=>{const o=e?t.E:t.r,{element:i}=s;o(t.d(i),t.Qt,s.handleTouch,t.vo)},nt=s=>{const{element:e}=s,o=t.mo(`shown.bs.${t.yo(s.name)}`);ft(s,!0),t.q(e,o),t.ho.clear(e,"in")},lt=s=>{const{element:e}=s,o=t.mo(`hidden.bs.${t.yo(s.name)}`);ft(s),Et(s),t.q(e,o),t.ho.clear(e,"out")},at=(s,e)=>{const o=e?t.E:t.r,{element:i,tooltip:l}=s,a=t.ke(i,`.${S.modalString}`),d=t.ke(i,`.${S.offcanvasString}`);e?[i,l].forEach(c=>s._observer.observe(c)):s._observer.disconnect(),a&&o(a,`hide.bs.${S.modalString}`,s.handleHide),d&&o(d,`hide.bs.${S.offcanvasString}`,s.handleHide)},mt=(s,e)=>{const o=[dt,pt],{element:i}=s;t.Qn(i,o[e?0:1],e||t.j(i,o[0])||""),t.Gn(i,o[e?1:0])};class ut extends t.BaseComponent{static selector=Ct;static init=yt;static getInstance=st;static styleTip=et;constructor(e,o){super(e,o);const{element:i}=this,l=this.name===N,a=l?T:Q,d=l?N:rt;st=h=>t.to(h,d),this.enabled=!0,this.id=`${a}-${t.Ae(i,a)}`;const{options:c}=this;if(!c.title&&l||!l&&!c.content)return;t.N(ot,{titleAttr:""}),t.oe(i,pt)&&l&&typeof c.title=="string"&&mt(this,c.title);const f=$t(i),w=["sticky","fixed","relative"].some(h=>t.g(f,"position")===h)?f:t.ve(i);this.container=f,this.offsetParent=w,wt(this),this.tooltip&&(this._observer=new vt.v(()=>this.update()),this._toggleEventListeners(!0))}get name(){return N}get defaults(){return ot}handleFocus=()=>t.ao(this.element);handleShow=()=>this.show();show(){const{options:e,tooltip:o,element:i,container:l,id:a}=this,{animation:d}=e,c=t.ho.get(i,"out");t.ho.clear(i,"out"),o&&!c&&!M(this)&&t.ho.set(i,()=>{const f=t.mo(`show.bs.${t.yo(this.name)}`);t.q(i,f),f.defaultPrevented||(S.appendPopup(o,l),t.Qn(i,t.De,`#${a}`),this.update(),at(this,!0),t.Zn(o,tt.showClass)||t.qn(o,tt.showClass),d?t.so(o,()=>nt(this)):nt(this))},17,"in")}handleHide=()=>this.hide();hide(){const{options:e,tooltip:o,element:i}=this,{animation:l,delay:a}=e;t.ho.clear(i,"in"),o&&M(this)&&t.ho.set(i,()=>{const d=t.mo(`hide.bs.${t.yo(this.name)}`);t.q(i,d),d.defaultPrevented||(this.update(),t.Yn(o,tt.showClass),at(this),l?t.so(o,()=>lt(this)):lt(this))},a+17,"out")}update=()=>{et(this)};toggle=()=>{const{tooltip:e}=this;e&&!M(this)?this.show():this.hide()};enable(){const{enabled:e}=this;e||(this._toggleEventListeners(!0),this.enabled=!e)}disable(){const{tooltip:e,enabled:o}=this;o&&(e&&M(this)&&this.hide(),this._toggleEventListeners(),this.enabled=!o)}toggleEnabled(){this.enabled?this.disable():this.enable()}handleTouch=({target:e})=>{const{tooltip:o,element:i}=this;o&&o.contains(e)||e===i||e&&i.contains(e)||this.hide()};_toggleEventListeners=e=>{const o=e?t.E:t.r,{element:i,options:l,btn:a}=this,{trigger:d}=l,f=!!(this.name!==N&&l.dismissible);d.includes("manual")||(this.enabled=!!e,d.split(" ").forEach(h=>{h===t.yt?(o(i,t.Et,this.handleShow),o(i,t.wt,this.handleShow),f||(o(i,t.At,this.handleHide),o(t.d(i),t.Qt,this.handleTouch,t.vo))):h===t.vt?o(i,h,f?this.handleShow:this.toggle):h===t.ct&&(o(i,t.at,this.handleShow),f||o(i,t.it,this.handleHide),t.zn()&&o(i,t.vt,this.handleFocus)),f&&a&&o(a,t.vt,this.handleHide)}))};dispose(){const{tooltip:e,options:o}=this,i={...this,name:this.name},l=()=>setTimeout(()=>Pt(i,()=>super.dispose()),17);o.animation&&M(i)?(this.options.delay=0,this.hide(),t.so(e,l)):l()}}exports.Tooltip=ut;exports.getTipTemplate=ct;exports.popoverComponent=rt;exports.popoverString=Q;exports.styleTip=et;exports.tooltipDefaults=ot;
//# sourceMappingURL=tooltip-DMsoGjJu.js.map
