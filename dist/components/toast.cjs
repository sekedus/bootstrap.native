"use strict";var D=Object.defineProperty;var L=(n,t,s)=>t in n?D(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var r=(n,t,s)=>L(n,typeof t!="symbol"?t+"":t,s);const e=require("@thednp/shorty"),v=require("@thednp/event-listener"),h=require("./fadeClass-Co6nOzNJ.js"),u=require("./showClass-D_Ms1FgG.js"),B=require("./dataBsDismiss-CMHF7If_.js"),k=require("./dataBsToggle-Dj-Ng54N.js"),w=require("./getTargetElement-Cl-PhUJH.js"),I=require("./base-component-DBcDoOjV.js"),i="toast",q="Toast",_=`.${i}`,x=`[${B.dataBsDismiss}="${i}"]`,S=`[${k.dataBsToggle}="${i}"]`,c="showing",$="hide",A={animation:!0,autohide:!0,delay:5e3},C=n=>e.getInstance(n,q),H=n=>new d(n),f=e.createCustomEvent(`show.bs.${i}`),P=e.createCustomEvent(`shown.bs.${i}`),E=e.createCustomEvent(`hide.bs.${i}`),N=e.createCustomEvent(`hidden.bs.${i}`),T=n=>{const{element:t,options:s}=n;e.removeClass(t,c),e.Timer.clear(t,c),e.dispatchEvent(t,P);// istanbul ignore else @preserve
s.autohide&&e.Timer.set(t,()=>n.hide(),s.delay,i)},p=n=>{const{element:t}=n;e.removeClass(t,c),e.removeClass(t,u.showClass),e.addClass(t,$),e.Timer.clear(t,i),e.dispatchEvent(t,N)},j=n=>{const{element:t,options:s}=n;e.addClass(t,c),s.animation?(e.reflow(t),e.emulateTransitionEnd(t,()=>p(n))):p(n)},z=n=>{const{element:t,options:s}=n;e.Timer.set(t,()=>{e.removeClass(t,$),e.reflow(t),e.addClass(t,u.showClass),e.addClass(t,c),s.animation?e.emulateTransitionEnd(t,()=>T(n)):T(n)},17,c)},F=n=>{const{target:t}=n,s=t&&e.closest(t,S),o=s&&w.getTargetElement(s),a=o&&C(o);// istanbul ignore else @preserve
if(a){// istanbul ignore else @preserve
s&&s.tagName==="A"&&n.preventDefault(),a.relatedTarget=s,a.show()}},G=n=>{const t=n.target,s=C(t),{type:o,relatedTarget:a}=n;// istanbul ignore else @preserve: a solid filter is required
s&&t!==a&&!t.contains(a)&&([e.mouseenterEvent,e.focusinEvent].includes(o)?e.Timer.clear(t,i):e.Timer.set(t,()=>s.hide(),s.options.delay,i))};class d extends I.BaseComponent{constructor(s,o){super(s,o);r(this,"show",()=>{const{element:s,isShown:o}=this;// istanbul ignore else @preserve
s&&!o&&(e.dispatchEvent(s,f),f.defaultPrevented||z(this))});r(this,"hide",()=>{const{element:s,isShown:o}=this;// istanbul ignore else @preserve
s&&o&&(e.dispatchEvent(s,E),E.defaultPrevented||j(this))});r(this,"_toggleEventListeners",s=>{const o=s?v.addListener:v.removeListener,{element:a,triggers:l,dismiss:m,options:y,hide:b}=this;// istanbul ignore else @preserve
m&&o(m,e.mouseclickEvent,b);// istanbul ignore else @preserve
y.autohide&&[e.focusinEvent,e.focusoutEvent,e.mouseenterEvent,e.mouseleaveEvent].forEach(g=>o(a,g,G));// istanbul ignore else @preserve
l.length&&l.forEach(g=>o(g,e.mouseclickEvent,F))});const{element:a,options:l}=this;l.animation&&!e.hasClass(a,h.fadeClass)?e.addClass(a,h.fadeClass):!l.animation&&e.hasClass(a,h.fadeClass)&&e.removeClass(a,h.fadeClass),this.dismiss=e.querySelector(x,a),this.triggers=[...e.querySelectorAll(S,e.getDocument(a))].filter(m=>w.getTargetElement(m)===a),this._toggleEventListeners(!0)}get name(){return q}get defaults(){return A}get isShown(){return e.hasClass(this.element,u.showClass)}dispose(){const{element:s,isShown:o}=this;this._toggleEventListeners(),e.Timer.clear(s,i),o&&e.removeClass(s,u.showClass),super.dispose()}}r(d,"selector",_),r(d,"init",H),r(d,"getInstance",C);module.exports=d;
//# sourceMappingURL=toast.cjs.map
