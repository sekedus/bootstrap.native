"use strict";const e=require("./base-component-CEXwoid1.js"),q=require("./dataBsToggle-Dj-Ng54N.js"),g=require("./collapsingClass-CLblascz.js"),h=require("./showClass-D_Ms1FgG.js"),p=require("./getTargetElement-BJtPWRez.js"),$=require("./isDisabled-CST_xG4K.js"),l="collapse",u="Collapse",v=`.${l}`,E=`[${q.dataBsToggle}="${l}"]`,w={parent:null},c=a=>e.to(a,u),b=a=>new m(a),f=e.mo(`show.bs.${l}`),T=e.mo(`shown.bs.${l}`),d=e.mo(`hide.bs.${l}`),x=e.mo(`hidden.bs.${l}`),Y=a=>{const{element:t,parent:s,triggers:o}=a;e.q(t,f),f.defaultPrevented||(e.ho.set(t,e.ee,17),s&&e.ho.set(s,e.ee,17),e.qn(t,g.collapsingClass),e.Yn(t,l),e.Eo(t,{height:`${t.scrollHeight}px`}),e.so(t,()=>{e.ho.clear(t),s&&e.ho.clear(s),o.forEach(n=>e.Qn(n,e.Oe,"true")),e.Yn(t,g.collapsingClass),e.qn(t,l),e.qn(t,h.showClass),e.Eo(t,{height:""}),e.q(t,T)}))},C=a=>{const{element:t,parent:s,triggers:o}=a;e.q(t,d),d.defaultPrevented||(e.ho.set(t,e.ee,17),s&&e.ho.set(s,e.ee,17),e.Eo(t,{height:`${t.scrollHeight}px`}),e.Yn(t,l),e.Yn(t,h.showClass),e.qn(t,g.collapsingClass),e.bo(t),e.Eo(t,{height:"0px"}),e.so(t,()=>{e.ho.clear(t),s&&e.ho.clear(s),o.forEach(n=>e.Qn(n,e.Oe,"false")),e.Yn(t,g.collapsingClass),e.qn(t,l),e.Eo(t,{height:""}),e.q(t,x)}))},k=a=>{const{target:t}=a,s=t&&e.ke(t,E),o=s&&p.getTargetElement(s),n=o&&c(o);s&&$.isDisabled(s)||n&&(n.toggle(),s?.tagName==="A"&&a.preventDefault())};class m extends e.BaseComponent{static selector=v;static init=b;static getInstance=c;constructor(t,s){super(t,s);const{element:o,options:n}=this,i=e.d(o);this.triggers=[...e.de(E,i)].filter(r=>p.getTargetElement(r)===o),this.parent=e.m(n.parent)?n.parent:e.k(n.parent)?p.getTargetElement(o)||e.Ro(n.parent,i):null,this._toggleEventListeners(!0)}get name(){return u}get defaults(){return w}hide(){const{triggers:t,element:s}=this;e.ho.get(s)||(C(this),t.length&&t.forEach(o=>e.qn(o,`${l}d`)))}show(){const{element:t,parent:s,triggers:o}=this;let n,i;s&&(n=[...e.de(`.${l}.${h.showClass}`,s)].find(r=>c(r)),i=n&&c(n)),(!s||!e.ho.get(s))&&!e.ho.get(t)&&(i&&n!==t&&(C(i),i.triggers.forEach(r=>{e.qn(r,`${l}d`)})),Y(this),o.length&&o.forEach(r=>e.Yn(r,`${l}d`)))}toggle(){e.Zn(this.element,h.showClass)?this.hide():this.show()}_toggleEventListeners=t=>{const s=t?e.E:e.r,{triggers:o}=this;o.length&&o.forEach(n=>{s(n,e.vt,k)})};dispose(){this._toggleEventListeners(),super.dispose()}}module.exports=m;
//# sourceMappingURL=collapse.cjs.map
