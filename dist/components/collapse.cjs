"use strict";const e=require("./base-component-2e8b2d4a.cjs"),f=require("./event-listener-09f2aa63.cjs"),q=require("./dataBsToggle-c8bc9e7f.cjs"),g=require("./collapsingClass-889bd3db.cjs"),h=require("./showClass-2174a6d6.cjs"),p=require("./getTargetElement-3f39cec8.cjs"),o="collapse",E="Collapse",v=`.${o}`,$=`[${q.dataBsToggle}="${o}"]`,G={parent:null},i=a=>e.Ln(a,E),b=a=>new w(a),d=e.Wn(`show.bs.${o}`),T=e.Wn(`shown.bs.${o}`),C=e.Wn(`hide.bs.${o}`),M=e.Wn(`hidden.bs.${o}`),N=a=>{const{element:t,parent:s,triggers:n}=a;e.Q(t,d),!d.defaultPrevented&&(e.Gn.set(t,e.Yt,17),s&&e.Gn.set(s,e.Yt,17),e.Mn(t,g.collapsingClass),e.Nn(t,o),e.qn(t,{height:`${t.scrollHeight}px`}),e.zn(t,()=>{e.Gn.clear(t),s&&e.Gn.clear(s),n.forEach(l=>e.F(l,e.Ee,"true")),e.Nn(t,g.collapsingClass),e.Mn(t,o),e.Mn(t,h.showClass),e.qn(t,{height:""}),e.Q(t,T)}))},u=a=>{const{element:t,parent:s,triggers:n}=a;e.Q(t,C),!C.defaultPrevented&&(e.Gn.set(t,e.Yt,17),s&&e.Gn.set(s,e.Yt,17),e.qn(t,{height:`${t.scrollHeight}px`}),e.Nn(t,o),e.Nn(t,h.showClass),e.Mn(t,g.collapsingClass),e.Qn(t),e.qn(t,{height:"0px"}),e.zn(t,()=>{e.Gn.clear(t),s&&e.Gn.clear(s),n.forEach(l=>e.F(l,e.Ee,"false")),e.Nn(t,g.collapsingClass),e.Mn(t,o),e.qn(t,{height:""}),e.Q(t,M)}))},m=(a,t)=>{const s=t?f.E:f.d,{triggers:n}=a;n.length&&n.forEach(l=>s(l,e.ut,j))},j=a=>{const{target:t}=a,s=t&&e.de(t,$),n=s&&p.getTargetElement(s),l=n&&i(n);l&&l.toggle(),s&&s.tagName==="A"&&a.preventDefault()};class w extends e.BaseComponent{static selector=v;static init=b;static getInstance=i;constructor(t,s){super(t,s);const{element:n,options:l}=this,c=e.d(n);this.triggers=[...e.bo($,c)].filter(r=>p.getTargetElement(r)===n),this.parent=e.go(l.parent,c)||p.getTargetElement(n)||null,m(this,!0)}get name(){return E}get defaults(){return G}toggle(){e.kn(this.element,h.showClass)?this.hide():this.show()}hide(){const{triggers:t,element:s}=this;e.Gn.get(s)||(u(this),t.length&&t.forEach(n=>e.Mn(n,`${o}d`)))}show(){const{element:t,parent:s,triggers:n}=this;let l,c;s&&(l=[...e.bo(`.${o}.${h.showClass}`,s)].find(r=>i(r)),c=l&&i(l)),(!s||!e.Gn.get(s))&&!e.Gn.get(t)&&(c&&l!==t&&(u(c),c.triggers.forEach(r=>{e.Mn(r,`${o}d`)})),N(this),n.length&&n.forEach(r=>e.Nn(r,`${o}d`)))}dispose(){m(this),super.dispose()}}module.exports=w;
//# sourceMappingURL=collapse.cjs.map
