"use strict";const e=require("./base-component-DaZCwW-u.js"),f=require("./event-listener-BQdA_KAC.js"),v=require("./dataBsToggle-Dj-Ng54N.js"),g=require("./collapsingClass-CLblascz.js"),h=require("./showClass-D_Ms1FgG.js"),p=require("./getTargetElement-CXAsWuzD.js"),l="collapse",E="Collapse",$=`.${l}`,m=`[${v.dataBsToggle}="${l}"]`,w={parent:null},c=a=>e.to(a,E),y=a=>new q(a),d=e.vo(`show.bs.${l}`),T=e.vo(`shown.bs.${l}`),C=e.vo(`hide.bs.${l}`),b=e.vo(`hidden.bs.${l}`),x=a=>{const{element:t,parent:s,triggers:o}=a;e.q(t,d),d.defaultPrevented||(e.yo.set(t,e.te,17),s&&e.yo.set(s,e.te,17),e.qn(t,g.collapsingClass),e.Zn(t,l),e.ho(t,{height:`${t.scrollHeight}px`}),e.ro(t,()=>{e.yo.clear(t),s&&e.yo.clear(s),o.forEach(n=>e.Qn(n,e.Oe,"true")),e.Zn(t,g.collapsingClass),e.qn(t,l),e.qn(t,h.showClass),e.ho(t,{height:""}),e.q(t,T)}))},u=a=>{const{element:t,parent:s,triggers:o}=a;e.q(t,C),C.defaultPrevented||(e.yo.set(t,e.te,17),s&&e.yo.set(s,e.te,17),e.ho(t,{height:`${t.scrollHeight}px`}),e.Zn(t,l),e.Zn(t,h.showClass),e.qn(t,g.collapsingClass),e.Eo(t),e.ho(t,{height:"0px"}),e.ro(t,()=>{e.yo.clear(t),s&&e.yo.clear(s),o.forEach(n=>e.Qn(n,e.Oe,"false")),e.Zn(t,g.collapsingClass),e.qn(t,l),e.ho(t,{height:""}),e.q(t,b)}))},Z=a=>{const{target:t}=a,s=t&&e.ke(t,m),o=s&&p.getTargetElement(s),n=o&&c(o);n&&n.toggle(),s&&s.tagName==="A"&&a.preventDefault()};class q extends e.BaseComponent{static selector=$;static init=y;static getInstance=c;constructor(t,s){super(t,s);const{element:o,options:n}=this,i=e.d(o);this.triggers=[...e.de(m,i)].filter(r=>p.getTargetElement(r)===o),this.parent=e.m(n.parent)?n.parent:e.k(n.parent)?p.getTargetElement(o)||e.Ro(n.parent,i):null,this._toggleEventListeners(!0)}get name(){return E}get defaults(){return w}hide(){const{triggers:t,element:s}=this;e.yo.get(s)||(u(this),t.length&&t.forEach(o=>e.qn(o,`${l}d`)))}show(){const{element:t,parent:s,triggers:o}=this;let n,i;s&&(n=[...e.de(`.${l}.${h.showClass}`,s)].find(r=>c(r)),i=n&&c(n)),(!s||!e.yo.get(s))&&!e.yo.get(t)&&(i&&n!==t&&(u(i),i.triggers.forEach(r=>{e.qn(r,`${l}d`)})),x(this),o.length&&o.forEach(r=>e.Zn(r,`${l}d`)))}toggle(){e.Yn(this.element,h.showClass)?this.hide():this.show()}_toggleEventListeners=t=>{const s=t?f.E:f.r,{triggers:o}=this;o.length&&o.forEach(n=>s(n,e.mt,Z))};dispose(){this._toggleEventListeners(),super.dispose()}}module.exports=q;
//# sourceMappingURL=collapse.cjs.map
