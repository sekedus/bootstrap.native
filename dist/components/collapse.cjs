"use strict";const e=require("./shorty-1329a513.cjs"),f=require("./event-listener-2a5f29ed.cjs"),w=require("./dataBsToggle-c8bc9e7f.cjs"),g=require("./collapsingClass-889bd3db.cjs"),h=require("./showClass-2174a6d6.cjs"),p=require("./getTargetElement-379ad550.cjs"),G=require("./base-component.cjs"),o="collapse",m="Collapse",v=`.${o}`,$=`[${w.dataBsToggle}="${o}"]`,b={parent:null},i=a=>e.Ln(a,m),M=a=>new q(a),d=e.Wn(`show.bs.${o}`),N=e.Wn(`shown.bs.${o}`),u=e.Wn(`hide.bs.${o}`),T=e.Wn(`hidden.bs.${o}`),x=a=>{const{element:t,parent:s,triggers:n}=a;e.Q(t,d),!d.defaultPrevented&&(e.Gn.set(t,e.Yt,17),s&&e.Gn.set(s,e.Yt,17),e.Mn(t,g.collapsingClass),e.Nn(t,o),e.qn(t,{height:`${t.scrollHeight}px`}),e.zn(t,()=>{e.Gn.clear(t),s&&e.Gn.clear(s),n.forEach(l=>e.F(l,e.Ee,"true")),e.Nn(t,g.collapsingClass),e.Mn(t,o),e.Mn(t,h.showClass),e.qn(t,{height:""}),e.Q(t,N)}))},C=a=>{const{element:t,parent:s,triggers:n}=a;e.Q(t,u),!u.defaultPrevented&&(e.Gn.set(t,e.Yt,17),s&&e.Gn.set(s,e.Yt,17),e.qn(t,{height:`${t.scrollHeight}px`}),e.Nn(t,o),e.Nn(t,h.showClass),e.Mn(t,g.collapsingClass),e.Qn(t),e.qn(t,{height:"0px"}),e.zn(t,()=>{e.Gn.clear(t),s&&e.Gn.clear(s),n.forEach(l=>e.F(l,e.Ee,"false")),e.Nn(t,g.collapsingClass),e.Mn(t,o),e.qn(t,{height:""}),e.Q(t,T)}))},E=(a,t)=>{const s=t?f.E:f.r,{triggers:n}=a;n.length&&n.forEach(l=>s(l,e.ut,Q))},Q=a=>{const{target:t}=a,s=t&&e.de(t,$),n=s&&p.getTargetElement(s),l=n&&i(n);l&&l.toggle(),s&&s.tagName==="A"&&a.preventDefault()};class q extends G{static selector=v;static init=M;static getInstance=i;constructor(t,s){super(t,s);const{element:n,options:l}=this,r=e.d(n);this.triggers=[...e.bo($,r)].filter(c=>p.getTargetElement(c)===n),this.parent=e.go(l.parent,r)||p.getTargetElement(n)||null,E(this,!0)}get name(){return m}get defaults(){return b}toggle(){e.kn(this.element,h.showClass)?this.hide():this.show()}hide(){const{triggers:t,element:s}=this;e.Gn.get(s)||(C(this),t.length&&t.forEach(n=>e.Mn(n,`${o}d`)))}show(){const{element:t,parent:s,triggers:n}=this;let l,r;s&&(l=[...e.bo(`.${o}.${h.showClass}`,s)].find(c=>i(c)),r=l&&i(l)),(!s||!e.Gn.get(s))&&!e.Gn.get(t)&&(r&&l!==t&&(C(r),r.triggers.forEach(c=>{e.Mn(c,`${o}d`)})),x(this),n.length&&n.forEach(c=>e.Nn(c,`${o}d`)))}dispose(){E(this),super.dispose()}}module.exports=q;
//# sourceMappingURL=collapse.cjs.map
