"use strict";const t=require("./shorty-1329a513.cjs"),g=require("./event-listener-2a5f29ed.cjs"),B=require("./dataBsToggle-c8bc9e7f.cjs"),v=require("./showClass-2174a6d6.cjs"),w=require("./tooltipString-f1d1c380.cjs"),d=require("./createTip-0286c1fa.cjs"),b=require("./styleTip-a887ab9d.cjs"),T=require("./offcanvasString-90a219fe.cjs"),u=require("./popupContainer.cjs"),H=require("./getElementContainer.cjs"),q=require("./tooltipDefaults.cjs"),L=require("./base-component.cjs");require("./fadeClass-a4944cf1.cjs");require("./tipClassPositions.cjs");require("./setHtml.cjs");require("./getTipTemplate.cjs");const y="data-original-title",I=`[${B.dataBsToggle}="${w.tooltipString}"],[data-tip="${w.tooltipString}"]`,A="title";let C=i=>t.Ln(i,d.tooltipComponent);const O=i=>new x(i),Q=i=>{const{element:n,tooltip:e,container:o,offsetParent:s}=i;t.An(n,t.ge),u.removePopup(e,o===s?o:void 0)},W=(i,n)=>{const{element:e}=i;f(i),t.hn(e,y)&&i.name===d.tooltipComponent&&R(i),n&&n()},G=(i,n)=>{const e=n?g.E:g.r,{element:o}=i;e(t.d(o),t.Bt,i.handleTouch,t.Rn),t.uo(o)||[t.xt,t.Lt].forEach(s=>{e(t.$n(o),s,i.update,t.Rn)})},$=i=>{const{element:n}=i,e=t.Wn(`shown.bs.${t.se(i.name)}`);G(i,!0),t.Q(n,e),t.Gn.clear(n,"in")},S=(i,n)=>{const{element:e}=i,o=t.Wn(`hidden.bs.${t.se(i.name)}`);G(i),Q(i),t.Q(e,o),t.so(n)&&n(),t.Gn.clear(e,"out")},f=(i,n)=>{const e=n?g.E:g.r,{element:o,options:s,btn:a}=i,{trigger:r}=s,h=!!(i.name!==d.tooltipComponent&&s.dismissible);if(r?.includes("manual"))return;i.enabled=!!n;const p=r?.split(" "),l=t.uo(o);l&&e(o,t.ht,i.update,t.Rn),p?.forEach(m=>{l||m===t.ft?(e(o,t.dt,i.show),e(o,t.mt,i.show),h&&a?e(a,t.ut,i.hide):(e(o,t.gt,i.hide),e(t.d(o),t.Bt,i.handleTouch,t.Rn))):m===t.ut?e(o,m,h?i.show:i.toggle):m===t._&&(e(o,t.tt,i.show),h||e(o,t.et,i.hide),t.ln&&e(o,t.ut,()=>t.Bn(o)))})},E=(i,n)=>{const e=n?g.E:g.r,{element:o,container:s,offsetParent:a}=i,{offsetHeight:r,scrollHeight:c}=s,h=t.de(o,`.${T.modalString}`),p=t.de(o,`.${T.offcanvasString}`);if(!t.uo(o)){const l=t.$n(o),P=r!==c&&s===a?s:l;e(P,t.Lt,i.update,t.Rn),e(P,t.xt,i.update,t.Rn)}h&&e(h,`hide.bs.${T.modalString}`,i.hide),p&&e(p,`hide.bs.${T.offcanvasString}`,i.hide)},R=(i,n)=>{const e=[y,A],{element:o}=i;t.F(o,e[n?0:1],n||t.Zt(o,e[0])||""),t.An(o,e[n?1:0])};class x extends L{static selector=I;static init=O;static getInstance=C;static styleTip=b.styleTip;constructor(n,e){super(n,e);const{element:o}=this,s=this.name===d.tooltipComponent,a=s?w.tooltipString:d.popoverString,r=s?d.tooltipComponent:b.popoverComponent;C=h=>t.Ln(h,r),this.enabled=!0,this.id=`${a}-${t.ae(o,a)}`;const{options:c}=this;!c.title&&s||!s&&!c.content||(t.q(q,{titleAttr:""}),this.handleTouch=this.handleTouch.bind(this),this.update=this.update.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.toggle=this.toggle.bind(this),t.hn(o,A)&&s&&typeof c.title=="string"&&R(this,c.title),this.container=H(o),this.offsetParent=["sticky","fixed"].some(h=>t.E(this.container,"position")===h)?this.container:t.d(this.element).body,d.createTip(this),f(this,!0))}get name(){return d.tooltipComponent}get defaults(){return q}show(n){const{options:e,tooltip:o,element:s,container:a,offsetParent:r,id:c}=this,{animation:h}=e,p=t.Gn.get(s,"out");t.Gn.clear(s,"out"),o&&!p&&!u.hasPopup(o,a===r?a:void 0)&&t.Gn.set(s,()=>{const l=t.Wn(`show.bs.${t.se(this.name)}`);t.Q(s,l),!l.defaultPrevented&&(u.appendPopup(o,a===r?a:void 0),t.F(s,t.ge,`#${c}`),this.update(n),E(this,!0),t.kn(o,v.showClass)||t.Mn(o,v.showClass),h?t.zn(o,()=>$(this)):$(this))},17,"in")}hide(n,e){const{options:o,tooltip:s,element:a,container:r,offsetParent:c}=this,{animation:h,delay:p}=o;t.Gn.clear(a,"in"),s&&u.hasPopup(s,r===c?r:void 0)&&t.Gn.set(a,()=>{const l=t.Wn(`hide.bs.${t.se(this.name)}`);t.Q(a,l),!l.defaultPrevented&&(this.update(n),t.Nn(s,v.showClass),E(this),h?t.zn(s,()=>S(this,e)):S(this,e))},p+17,"out")}update(n){b.styleTip(this,n)}toggle(n){const{tooltip:e,container:o,offsetParent:s}=this;e&&!u.hasPopup(e,o===s?o:void 0)?this.show(n):this.hide()}enable(){const{enabled:n}=this;n||(f(this,!0),this.enabled=!n)}disable(){const{tooltip:n,container:e,offsetParent:o,options:s,enabled:a}=this,{animation:r}=s;a&&(n&&u.hasPopup(n,e===o?e:void 0)&&r?this.hide(void 0,()=>f(this)):f(this),this.enabled=!a)}toggleEnabled(){this.enabled?this.disable():this.enable()}handleTouch({target:n}){const{tooltip:e,element:o}=this;e&&e.contains(n)||n===o||n&&o.contains(n)||this.hide()}dispose(){const{tooltip:n,container:e,offsetParent:o,options:s}=this,a=()=>W(this,()=>super.dispose());s.animation&&n&&u.hasPopup(n,e===o?e:void 0)?(this.options.delay=0,this.hide(void 0,a)):a()}}module.exports=x;
//# sourceMappingURL=tooltip.cjs.map
