{"version":3,"file":"bootstrap-native.mjs","sources":["../node_modules/.pnpm/@thednp+shorty@https+++codeload.github.com+thednp+shorty+tar.gz+6d62cceb75a6b1cd3a73cced7a052ef03ae826b2/node_modules/@thednp/shorty/dist/shorty.mjs","../node_modules/.pnpm/@thednp+event-listener@2.0.8/node_modules/@thednp/event-listener/dist/event-listener.mjs","../src/strings/fadeClass.ts","../src/strings/showClass.ts","../src/strings/dataBsDismiss.ts","../src/strings/alertString.ts","../src/strings/alertComponent.ts","../src/version.ts","../src/components/base-component.ts","../src/util/isDisabled.ts","../src/components/alert.ts","../src/strings/activeClass.ts","../src/strings/dataBsToggle.ts","../src/strings/buttonString.ts","../src/strings/buttonComponent.ts","../src/components/button.ts","../src/strings/dataBsTarget.ts","../src/strings/carouselString.ts","../src/strings/carouselComponent.ts","../src/strings/dataBsParent.ts","../src/strings/dataBsContainer.ts","../src/util/getTargetElement.ts","../src/components/carousel.ts","../src/strings/collapsingClass.ts","../src/strings/collapseString.ts","../src/strings/collapseComponent.ts","../src/components/collapse.ts","../src/strings/dropdownClasses.ts","../src/strings/dropdownComponent.ts","../src/strings/dropdownMenuClass.ts","../src/util/isEmptyAnchor.ts","../src/components/dropdown.ts","../src/strings/modalString.ts","../src/strings/modalComponent.ts","../src/strings/offcanvasComponent.ts","../src/strings/fixedTopClass.ts","../src/strings/fixedBottomClass.ts","../src/strings/stickyTopClass.ts","../src/strings/positionStickyClass.ts","../src/util/scrollbar.ts","../src/strings/offcanvasString.ts","../src/util/popupContainer.ts","../src/util/backdrop.ts","../src/util/isVisible.ts","../src/components/modal.ts","../src/components/offcanvas.ts","../src/strings/popoverString.ts","../src/strings/popoverComponent.ts","../src/strings/tooltipString.ts","../src/util/getTipTemplate.ts","../src/util/tipClassPositions.ts","../src/util/styleTip.ts","../src/util/tooltipDefaults.ts","../node_modules/.pnpm/@thednp+position-observer@https+++codeload.github.com+thednp+position-observer+tar.gz+ebeff80_vgonz6o4lt2qwgfhpqexzhhtle/node_modules/@thednp/position-observer/dist/index.mjs","../src/strings/dataOriginalTitle.ts","../src/strings/tooltipComponent.ts","../src/util/setHtml.ts","../src/util/createTip.ts","../src/util/getElementContainer.ts","../src/components/tooltip.ts","../src/components/popover.ts","../src/strings/scrollspyString.ts","../src/strings/scrollspyComponent.ts","../src/components/scrollspy.ts","../src/strings/tabString.ts","../src/strings/tabComponent.ts","../src/components/tab.ts","../src/strings/toastString.ts","../src/strings/toastComponent.ts","../src/components/toast.ts","../src/util/init.ts"],"sourcesContent":["const Ce = \"2.0.8\", Le = \"aria-checked\", Me = \"aria-description\", De = \"aria-describedby\", Oe = \"aria-expanded\", xe = \"aria-haspopup\", J = \"aria-hidden\", ze = \"aria-label\", Ie = \"aria-labelledby\", Pe = \"aria-modal\", Be = \"aria-pressed\", Fe = \"aria-selected\", He = \"aria-valuemin\", Ve = \"aria-valuemax\", Ue = \"aria-valuenow\", We = \"aria-valuetext\", X = \"abort\", tt = \"beforeunload\", et = \"blur\", nt = \"change\", ot = \"contextmenu\", V = \"DOMContentLoaded\", st = \"DOMMouseScroll\", rt = \"error\", ct = \"focus\", at = \"focusin\", it = \"focusout\", ut = \"gesturechange\", lt = \"gestureend\", dt = \"gesturestart\", ft = \"keydown\", pt = \"keypress\", gt = \"keyup\", mt = \"load\", vt = \"click\", bt = \"dblclick\", Et = \"mousedown\", ht = \"mouseup\", yt = \"hover\", wt = \"mouseenter\", At = \"mouseleave\", St = \"mousein\", Tt = \"mouseout\", kt = \"mouseover\", Nt = \"mousemove\", Ct = \"mousewheel\", Lt = \"move\", Mt = \"orientationchange\", Dt = \"pointercancel\", Ot = \"pointerdown\", xt = \"pointerleave\", zt = \"pointermove\", It = \"pointerup\", Pt = \"readystatechange\", Bt = \"reset\", Ft = \"resize\", Ht = \"select\", Vt = \"selectend\", Ut = \"selectstart\", Wt = \"scroll\", Rt = \"submit\", Qt = \"touchstart\", jt = \"touchmove\", Gt = \"touchcancel\", Kt = \"touchend\", qt = \"unload\", Re = {\n  DOMContentLoaded: V,\n  DOMMouseScroll: st,\n  abort: X,\n  beforeunload: tt,\n  blur: et,\n  change: nt,\n  click: vt,\n  contextmenu: ot,\n  dblclick: bt,\n  error: rt,\n  focus: ct,\n  focusin: at,\n  focusout: it,\n  gesturechange: ut,\n  gestureend: lt,\n  gesturestart: dt,\n  hover: yt,\n  keydown: ft,\n  keypress: pt,\n  keyup: gt,\n  load: mt,\n  mousedown: Et,\n  mousemove: Nt,\n  mousein: St,\n  mouseout: Tt,\n  mouseenter: wt,\n  mouseleave: At,\n  mouseover: kt,\n  mouseup: ht,\n  mousewheel: Ct,\n  move: Lt,\n  orientationchange: Mt,\n  pointercancel: Dt,\n  pointerdown: Ot,\n  pointerleave: xt,\n  pointermove: zt,\n  pointerup: It,\n  readystatechange: Pt,\n  reset: Bt,\n  resize: Ft,\n  scroll: Wt,\n  select: Ht,\n  selectend: Vt,\n  selectstart: Ut,\n  submit: Rt,\n  touchcancel: Gt,\n  touchend: Kt,\n  touchmove: jt,\n  touchstart: Qt,\n  unload: qt\n}, Qe = \"drag\", je = \"dragstart\", Ge = \"dragenter\", Ke = \"dragleave\", qe = \"dragover\", Ye = \"dragend\", Ze = \"loadstart\", _e = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n}, $e = { down: \"mousedown\", up: \"mouseup\" }, Je = \"onmouseleave\" in document ? [\"mouseenter\", \"mouseleave\"] : [\"mouseover\", \"mouseout\"], Xe = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n}, tn = { in: \"focusin\", out: \"focusout\" }, Yt = 'a[href], button, input, textarea, select, details, [tabindex]:not([tabindex=\"-1\"]', en = {\n  Backspace: \"Backspace\",\n  Tab: \"Tab\",\n  Enter: \"Enter\",\n  Shift: \"Shift\",\n  Control: \"Control\",\n  Alt: \"Alt\",\n  Pause: \"Pause\",\n  CapsLock: \"CapsLock\",\n  Escape: \"Escape\",\n  Scape: \"Space\",\n  ArrowLeft: \"ArrowLeft\",\n  ArrowUp: \"ArrowUp\",\n  ArrowRight: \"ArrowRight\",\n  ArrowDown: \"ArrowDown\",\n  Insert: \"Insert\",\n  Delete: \"Delete\",\n  Meta: \"Meta\",\n  ContextMenu: \"ContextMenu\",\n  ScrollLock: \"ScrollLock\"\n}, nn = \"Alt\", on = \"ArrowDown\", sn = \"ArrowUp\", rn = \"ArrowLeft\", cn = \"ArrowRight\", an = \"Backspace\", un = \"CapsLock\", ln = \"Control\", dn = \"Delete\", fn = \"Enter\", pn = \"NumpadEnter\", gn = \"Escape\", mn = \"Insert\", vn = \"Meta\", bn = \"Pause\", En = \"ScrollLock\", hn = \"Shift\", yn = \"Space\", wn = \"Tab\", Zt = \"animationDuration\", _t = \"animationDelay\", U = \"animationName\", C = \"animationend\", $t = \"transitionDuration\", Jt = \"transitionDelay\", L = \"transitionend\", W = \"transitionProperty\", An = \"addEventListener\", Sn = \"removeEventListener\", Tn = {\n  linear: \"linear\",\n  easingSinusoidalIn: \"cubic-bezier(0.47,0,0.745,0.715)\",\n  easingSinusoidalOut: \"cubic-bezier(0.39,0.575,0.565,1)\",\n  easingSinusoidalInOut: \"cubic-bezier(0.445,0.05,0.55,0.95)\",\n  easingQuadraticIn: \"cubic-bezier(0.550,0.085,0.680,0.530)\",\n  easingQuadraticOut: \"cubic-bezier(0.250,0.460,0.450,0.940)\",\n  easingQuadraticInOut: \"cubic-bezier(0.455,0.030,0.515,0.955)\",\n  easingCubicIn: \"cubic-bezier(0.55,0.055,0.675,0.19)\",\n  easingCubicOut: \"cubic-bezier(0.215,0.61,0.355,1)\",\n  easingCubicInOut: \"cubic-bezier(0.645,0.045,0.355,1)\",\n  easingQuarticIn: \"cubic-bezier(0.895,0.03,0.685,0.22)\",\n  easingQuarticOut: \"cubic-bezier(0.165,0.84,0.44,1)\",\n  easingQuarticInOut: \"cubic-bezier(0.77,0,0.175,1)\",\n  easingQuinticIn: \"cubic-bezier(0.755,0.05,0.855,0.06)\",\n  easingQuinticOut: \"cubic-bezier(0.23,1,0.32,1)\",\n  easingQuinticInOut: \"cubic-bezier(0.86,0,0.07,1)\",\n  easingExponentialIn: \"cubic-bezier(0.95,0.05,0.795,0.035)\",\n  easingExponentialOut: \"cubic-bezier(0.19,1,0.22,1)\",\n  easingExponentialInOut: \"cubic-bezier(1,0,0,1)\",\n  easingCircularIn: \"cubic-bezier(0.6,0.04,0.98,0.335)\",\n  easingCircularOut: \"cubic-bezier(0.075,0.82,0.165,1)\",\n  easingCircularInOut: \"cubic-bezier(0.785,0.135,0.15,0.86)\",\n  easingBackIn: \"cubic-bezier(0.6,-0.28,0.735,0.045)\",\n  easingBackOut: \"cubic-bezier(0.175,0.885,0.32,1.275)\",\n  easingBackInOut: \"cubic-bezier(0.68,-0.55,0.265,1.55)\"\n}, kn = \"offsetHeight\", Nn = \"offsetWidth\", Cn = \"scrollHeight\", Ln = \"scrollWidth\", Mn = \"tabindex\", Dn = navigator.userAgentData, { userAgent: Xt } = navigator, On = Xt, xn = () => {\n  const t = /iPhone|iPad|iPod|Android/i;\n  return navigator?.userAgentData?.brands.some(\n    (e) => t.test(e.brand)\n  ) || t.test(navigator?.userAgent) || !1;\n}, zn = () => {\n  const t = /(iPhone|iPod|iPad)/;\n  return navigator?.userAgentData?.brands.some(\n    (e) => t.test(e.brand)\n  ) || t.test(\n    navigator?.userAgent\n  ) || !1;\n}, In = () => navigator?.userAgent?.includes(\"Firefox\") || !1, te = () => typeof CSS > \"u\" || !CSS.supports ? !1 : CSS.supports(\"-webkit-backdrop-filter\", \"none\"), Pn = () => [\"webkitPerspective\", \"perspective\"].some((t) => t in document.head.style), ee = () => {\n}, R = (t, e, n, o) => {\n  const s = o || !1;\n  t.addEventListener(\n    e,\n    n,\n    s\n  );\n}, Q = (t, e, n, o) => {\n  const s = o || !1;\n  t.removeEventListener(\n    e,\n    n,\n    s\n  );\n}, ne = (t, e, n, o) => {\n  const s = (r) => {\n    (r.target === t || r.currentTarget === t) && (n.apply(t, [r]), Q(t, e, s, o));\n  };\n  R(t, e, s, o);\n}, Bn = () => {\n  let t = !1;\n  try {\n    const e = Object.defineProperty({}, \"passive\", {\n      get: () => (t = !0, t)\n    });\n    ne(document, V, ee, e);\n  } catch {\n  }\n  return t;\n}, Fn = () => [\"webkitTransform\", \"transform\"].some((t) => t in document.head.style), Hn = () => \"ontouchstart\" in window || \"msMaxTouchPoints\" in navigator, Vn = () => [\"webkitAnimation\", \"animation\"].some((t) => t in document.head.style), Un = () => [\"webkitTransition\", \"transition\"].some((t) => t in document.head.style), j = (t, e) => t.getAttribute(e), Wn = (t, e, n) => e.getAttributeNS(t, n), oe = (t, e) => t.hasAttribute(e), Rn = (t, e, n) => e.hasAttributeNS(t, n), Qn = (t, e, n) => t.setAttribute(e, n), jn = (t, e, n, o) => e.setAttributeNS(t, n, o), Gn = (t, e) => t.removeAttribute(e), Kn = (t, e, n) => e.removeAttributeNS(t, n), qn = (t, ...e) => {\n  t.classList.add(...e);\n}, Yn = (t, ...e) => {\n  t.classList.remove(...e);\n}, Zn = (t, e) => t.classList.contains(e), { body: _n } = document, { documentElement: $n } = document, { head: Jn } = document, Xn = (t) => Array.from(t), b = (t) => t != null && typeof t == \"object\" || !1, l = (t) => b(t) && typeof t.nodeType == \"number\" && [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].some(\n  (e) => t.nodeType === e\n) || !1, u = (t) => l(t) && t.nodeType === 1 || !1, h = /* @__PURE__ */ new Map(), D = {\n  data: h,\n  /**\n   * Sets web components data.\n   *\n   * @param element target element\n   * @param component the component's name or a unique key\n   * @param instance the component instance\n   */\n  set: (t, e, n) => {\n    if (!u(t)) return;\n    h.has(e) || h.set(e, /* @__PURE__ */ new Map()), h.get(e).set(t, n);\n  },\n  /**\n   * Returns all instances for specified component.\n   *\n   * @param component the component's name or a unique key\n   * @returns all the component instances\n   */\n  getAllFor: (t) => h.get(t) || null,\n  /**\n   * Returns the instance associated with the target.\n   *\n   * @param element target element\n   * @param component the component's name or a unique key\n   * @returns the instance\n   */\n  get: (t, e) => {\n    if (!u(t) || !e) return null;\n    const n = D.getAllFor(e);\n    return t && n && n.get(t) || null;\n  },\n  /**\n   * Removes web components data.\n   *\n   * @param element target element\n   * @param component the component's name or a unique key\n   */\n  remove: (t, e) => {\n    const n = D.getAllFor(e);\n    !n || !u(t) || (n.delete(t), n.size === 0 && h.delete(e));\n  }\n}, to = (t, e) => D.get(t, e), eo = (t) => t?.charAt(0).toUpperCase() + t?.slice(1), I = (t) => t?.trim().replace(\n  /(?:^\\w|[A-Z]|\\b\\w)/g,\n  (e, n) => n === 0 ? e.toLowerCase() : e.toUpperCase()\n).replace(/\\s+/g, \"\"), k = (t) => typeof t == \"string\" || !1, G = (t) => b(t) && t.constructor.name === \"Window\" || !1, K = (t) => l(t) && t.nodeType === 9 || !1, d = (t) => K(t) ? t : l(t) ? t.ownerDocument : G(t) ? t.document : globalThis.document, N = (t, ...e) => Object.assign(t, ...e), se = (t) => {\n  if (!t) return;\n  if (k(t))\n    return d().createElement(t);\n  const { tagName: e } = t, n = se(e);\n  if (!n) return;\n  const o = { ...t };\n  return delete o.tagName, N(n, o);\n}, re = (t, e) => {\n  if (!t || !e) return;\n  if (k(e))\n    return d().createElementNS(t, e);\n  const { tagName: n } = e, o = re(t, n);\n  if (!o) return;\n  const s = { ...e };\n  return delete s.tagName, N(o, s);\n}, q = (t, e) => t.dispatchEvent(e), no = (t, e, n) => n.indexOf(t) === e, g = (t, e, n) => {\n  const o = getComputedStyle(t, n), s = e.replace(\"webkit\", \"Webkit\").replace(/([A-Z])/g, \"-$1\").toLowerCase();\n  return o.getPropertyValue(s);\n}, ce = (t) => {\n  const e = g(t, U), n = g(t, _t), o = n.includes(\"ms\") ? 1 : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? 0 : s;\n}, ae = (t) => {\n  const e = g(t, U), n = g(t, Zt), o = n.includes(\"ms\") ? 1 : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? 0 : s;\n}, oo = (t, e) => {\n  let n = 0;\n  const o = new Event(C), s = ae(t), r = ce(t);\n  if (s) {\n    const a = (i) => {\n      i.target === t && (e.apply(t, [i]), t.removeEventListener(C, a), n = 1);\n    };\n    t.addEventListener(C, a), setTimeout(() => {\n      n || q(t, o);\n    }, s + r + 17);\n  } else\n    e.apply(t, [o]);\n}, ie = (t) => {\n  const e = g(t, W), n = g(t, Jt), o = n.includes(\"ms\") ? 1 : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? 0 : s;\n}, ue = (t) => {\n  const e = g(t, W), n = g(t, $t), o = n.includes(\"ms\") ? 1 : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? 0 : s;\n}, so = (t, e) => {\n  let n = 0;\n  const o = new Event(L), s = ue(t), r = ie(t);\n  if (s) {\n    const a = (i) => {\n      i.target === t && (e.apply(t, [i]), t.removeEventListener(L, a), n = 1);\n    };\n    t.addEventListener(L, a), setTimeout(() => {\n      n || q(t, o);\n    }, s + r + 17);\n  } else\n    e.apply(t, [o]);\n}, ro = (t) => Float32Array.from(Array.from(t)), co = (t) => Float64Array.from(Array.from(t)), ao = (t, e) => t.focus(e), io = (t) => t?.trim().replace(/([a-z])([A-Z])/g, \"$1-$2\").replace(/\\s+/g, \"-\").toLowerCase(), P = (t) => [\"true\", !0].includes(t) ? !0 : [\"false\", !1].includes(t) ? !1 : [\"null\", \"\", null, void 0].includes(t) ? null : t !== \"\" && !Number.isNaN(+t) ? +t : t, T = (t) => Object.entries(t), uo = (t, e, n, o) => {\n  if (!u(t)) return e;\n  const s = { ...n }, r = { ...t.dataset }, a = { ...e }, i = {}, f = \"title\";\n  return T(r).forEach(([c, p]) => {\n    const E = o && typeof c == \"string\" && c.includes(o) ? I(c.replace(o, \"\")) : I(c);\n    i[E] = P(p);\n  }), T(s).forEach(([c, p]) => {\n    s[c] = P(p);\n  }), T(e).forEach(([c, p]) => {\n    c in s ? a[c] = s[c] : c in i ? a[c] = i[c] : a[c] = c === f ? j(t, f) : p;\n  }), a;\n}, lo = (t, e) => b(t) && (Object.hasOwn(t, e) || e in t), fo = (t) => Object.keys(t), po = (t) => Object.values(t), go = (t) => Object.fromEntries(t), mo = (t, e) => {\n  const n = new CustomEvent(t, {\n    cancelable: !0,\n    bubbles: !0\n  });\n  return b(e) && N(n, e), n;\n}, vo = { passive: !0 }, bo = (t) => t.offsetHeight, Eo = (t, e) => {\n  T(e).forEach(([n, o]) => {\n    if (o && k(n) && n.includes(\"--\"))\n      t.style.setProperty(n, o);\n    else {\n      const s = {};\n      s[n] = o, N(t.style, s);\n    }\n  });\n}, O = (t) => b(t) && t.constructor.name === \"Map\" || !1, le = (t) => typeof t == \"number\" || !1, v = /* @__PURE__ */ new Map(), ho = {\n  /**\n   * Sets a new timeout timer for an element, or element -> key association.\n   *\n   * @param element target element\n   * @param callback the callback\n   * @param delay the execution delay\n   * @param key a unique key\n   */\n  set: (t, e, n, o) => {\n    u(t) && (o && o.length ? (v.has(t) || v.set(t, /* @__PURE__ */ new Map()), v.get(t).set(o, setTimeout(e, n))) : v.set(t, setTimeout(e, n)));\n  },\n  /**\n   * Returns the timer associated with the target.\n   *\n   * @param element target element\n   * @param key a unique\n   * @returns the timer\n   */\n  get: (t, e) => {\n    if (!u(t)) return null;\n    const n = v.get(t);\n    return e && n && O(n) ? n.get(e) || null : le(n) ? n : null;\n  },\n  /**\n   * Clears the element's timer.\n   *\n   * @param element target element\n   * @param key a unique key\n   */\n  clear: (t, e) => {\n    if (!u(t)) return;\n    const n = v.get(t);\n    e && e.length && O(n) ? (clearTimeout(n.get(e)), n.delete(e), n.size === 0 && v.delete(t)) : (clearTimeout(n), v.delete(t));\n  }\n}, yo = (t) => t.toLowerCase(), wo = (t) => t.toUpperCase(), de = (t, e) => (l(e) ? e : d()).querySelectorAll(t), x = /* @__PURE__ */ new Map();\nfunction fe(t) {\n  const { shiftKey: e, code: n } = t, o = d(this), s = [\n    ...de(Yt, this)\n  ].filter(\n    (i) => !oe(i, \"disabled\") && !j(i, J)\n  );\n  if (!s.length) return;\n  const r = s[0], a = s[s.length - 1];\n  n === \"Tab\" && (e && o.activeElement === r ? (a.focus(), t.preventDefault()) : !e && o.activeElement === a && (r.focus(), t.preventDefault()));\n}\nconst pe = (t) => x.has(t) === !0, Ao = (t) => {\n  const e = pe(t);\n  (e ? Q : R)(t, \"keydown\", fe), e ? x.delete(t) : x.set(t, !0);\n}, m = (t) => u(t) && \"offsetWidth\" in t || !1, w = (t, e) => {\n  const { width: n, height: o, top: s, right: r, bottom: a, left: i } = t.getBoundingClientRect();\n  let f = 1, c = 1;\n  if (e && m(t)) {\n    const { offsetWidth: p, offsetHeight: E } = t;\n    f = p > 0 ? Math.round(n) / p : 1, c = E > 0 ? Math.round(o) / E : 1;\n  }\n  return {\n    width: n / f,\n    height: o / c,\n    top: s / c,\n    right: r / f,\n    bottom: a / c,\n    left: i / f,\n    x: i / f,\n    y: s / c\n  };\n}, So = (t) => d(t).body, S = (t) => d(t).documentElement, To = (t) => d(t).head, ge = (t) => l(t) ? (t.nodeName || \"\").toLowerCase() : \"#document\", ko = (t) => {\n  const e = G(t), n = e ? t.scrollX : t.scrollLeft, o = e ? t.scrollY : t.scrollTop;\n  return { x: n, y: o };\n}, me = (t) => l(t) && t.constructor.name === \"ShadowRoot\" || !1, A = (t) => t.nodeName === \"HTML\" ? t : u(t) && t.assignedSlot || l(t) && t.parentNode || me(t) && t.host || S(t), ve = (t) => t ? K(t) ? t.defaultView : l(t) ? t?.ownerDocument?.defaultView : t : window, be = (t) => l(t) && [\"TABLE\", \"TD\", \"TH\"].includes(t.nodeName) || !1, Ee = (t, e) => t.matches(e), M = (t) => g(t, \"position\") === \"static\", he = (t) => g(t, \"position\") === \"fixed\", Y = (t) => [\":popover-open\", \":modal\"].some((e) => {\n  try {\n    return Ee(t, e);\n  } catch {\n    return !1;\n  }\n}), Z = (t) => {\n  const e = te(), n = u(t) ? getComputedStyle(t) : t;\n  return n.transform !== \"none\" || n.perspective !== \"none\" || (n.containerType ? n.containerType !== \"normal\" : !1) || !e && (n.backdropFilter ? n.backdropFilter !== \"none\" : !1) || !e && (n.filter ? n.filter !== \"none\" : !1) || [\"transform\", \"perspective\", \"filter\"].some(\n    (o) => (n.willChange || \"\").includes(o)\n  ) || [\"paint\", \"layout\", \"strict\", \"content\"].some(\n    (o) => (n.contain || \"\").includes(o)\n  );\n}, ye = (t) => {\n  let e = A(t);\n  for (; u(e) && !z(e); ) {\n    if (Z(e))\n      return e;\n    if (Y(e))\n      return null;\n    e = A(e);\n  }\n  return null;\n}, z = (t) => [\"html\", \"body\", \"#document\"].includes(ge(t)), B = (t) => {\n  if (!m(t) || he(t))\n    return null;\n  let e = t.offsetParent;\n  return S(t) === e && (e = e.ownerDocument.body), e;\n}, No = (t) => {\n  const e = ve(t);\n  if (!l(t) || Y(t))\n    return e;\n  if (!m(t)) {\n    let o = A(t);\n    for (; o && !z(o); ) {\n      if (u(o) && !M(o))\n        return o;\n      o = A(o);\n    }\n    return e;\n  }\n  let n = B(t);\n  for (; n && be(n) && M(n); )\n    n = B(n);\n  return n && z(n) && M(n) && !Z(n) ? e : n || ye(t) || e;\n}, we = (t) => {\n  if (!m(t)) return !1;\n  const { width: e, height: n } = w(t), { offsetWidth: o, offsetHeight: s } = t;\n  return Math.round(e) !== o || Math.round(n) !== s;\n}, Co = (t, e, n) => {\n  const o = m(e), s = w(\n    t,\n    o && we(e)\n  ), r = { x: 0, y: 0 };\n  if (o) {\n    const a = w(e, !0);\n    r.x = a.x + e.clientLeft, r.y = a.y + e.clientTop;\n  }\n  return {\n    x: s.left + n.x - r.x,\n    y: s.top + n.y - r.y,\n    width: s.width,\n    height: s.height\n  };\n};\nlet F = 0, H = 0;\nconst y = /* @__PURE__ */ new Map(), Ae = (t, e) => {\n  let n = e ? F : H;\n  if (e) {\n    const o = Ae(t), s = y.get(o) || /* @__PURE__ */ new Map();\n    y.has(o) || y.set(o, s), O(s) && !s.has(e) ? (s.set(e, n), F += 1) : n = s.get(e);\n  } else {\n    const o = t.id || t;\n    y.has(o) ? n = y.get(o) : (y.set(o, n), H += 1);\n  }\n  return n;\n}, Lo = (t) => {\n  const e = [\"HTML\", \"BODY\"];\n  let { parentNode: n } = t;\n  if (!m(n))\n    for (; n && !e.includes(n.nodeName) && (n = A(n), !m(n)); )\n      ;\n  const {\n    offsetLeft: o,\n    offsetTop: s,\n    offsetParent: r\n  } = n, { top: a, left: i } = n.getBoundingClientRect(), { top: f, left: c, width: p, height: E } = t.getBoundingClientRect(), _ = s + (f - a), $ = o + (c - i);\n  return {\n    offsetTop: _,\n    offsetLeft: $,\n    offsetWidth: p,\n    offsetHeight: E,\n    offsetParent: r\n  };\n}, Se = (t) => Array.isArray(t) || !1, Mo = (t) => l(t) && t.nodeName === \"CANVAS\" || !1, Te = (t) => m(t) && !!t.shadowRoot || !1, Do = (t) => {\n  if (!l(t)) return !1;\n  const { top: e, bottom: n } = w(t), { clientHeight: o } = S(t);\n  return e <= o && n >= 0;\n}, Oo = (t) => {\n  if (!u(t)) return !1;\n  const { clientWidth: e, clientHeight: n } = S(t), { top: o, left: s, bottom: r, right: a } = w(t, !0);\n  return o >= 0 && s >= 0 && r <= n && a <= e;\n}, xo = (t) => Se(t) && t.every(u) || !1, zo = (t) => typeof t == \"function\" || !1, Io = (t) => b(t) && t.constructor.name === \"HTMLCollection\" || !1, Po = (t) => m(t) && t.tagName === \"IMG\" || !1, Bo = (t) => {\n  if (!k(t)) return !1;\n  try {\n    JSON.parse(t);\n  } catch {\n    return !1;\n  }\n  return !0;\n}, Fo = (t) => b(t) && t.constructor.name === \"WeakMap\" || !1, Ho = (t) => l(t) && [\"SVG\", \"Image\", \"Video\", \"Canvas\"].some(\n  (e) => t.constructor.name.includes(e)\n) || !1, Vo = (t) => b(t) && t.constructor.name === \"NodeList\" || !1, Uo = (t) => S(t).dir === \"rtl\", Wo = (t) => l(t) && t.constructor.name.includes(\"SVG\") || !1, ke = (t, e) => !t || !e ? null : t.closest(e) || ke(t.getRootNode().host, e) || null, Ro = (t, e) => u(t) ? t : (u(e) ? e : d()).querySelector(t), Ne = (t, e) => (l(e) ? e : d()).getElementsByTagName(\n  t\n), Qo = (t) => [...Ne(\"*\", t)].filter(Te), jo = (t, e) => d(e).getElementById(t), Go = (t, e) => (e && l(e) ? e : d()).getElementsByClassName(\n  t\n);\nexport {\n  Xn as ArrayFrom,\n  V as DOMContentLoadedEvent,\n  st as DOMMouseScrollEvent,\n  D as Data,\n  ro as Float32ArrayFrom,\n  co as Float64ArrayFrom,\n  N as ObjectAssign,\n  T as ObjectEntries,\n  go as ObjectFromEntries,\n  lo as ObjectHasOwn,\n  fo as ObjectKeys,\n  po as ObjectValues,\n  ho as Timer,\n  X as abortEvent,\n  qn as addClass,\n  An as addEventListener,\n  _t as animationDelay,\n  Zt as animationDuration,\n  C as animationEndEvent,\n  U as animationName,\n  Le as ariaChecked,\n  De as ariaDescribedBy,\n  Me as ariaDescription,\n  Oe as ariaExpanded,\n  xe as ariaHasPopup,\n  J as ariaHidden,\n  ze as ariaLabel,\n  Ie as ariaLabelledBy,\n  Pe as ariaModal,\n  Be as ariaPressed,\n  Fe as ariaSelected,\n  Ve as ariaValueMax,\n  He as ariaValueMin,\n  Ue as ariaValueNow,\n  We as ariaValueText,\n  tt as beforeunloadEvent,\n  Tn as bezierEasings,\n  et as blurEvent,\n  I as camelCase,\n  eo as capitalize,\n  nt as changeEvent,\n  ke as closest,\n  ot as contextmenuEvent,\n  mo as createCustomEvent,\n  se as createElement,\n  re as createElementNS,\n  q as dispatchEvent,\n  no as distinct,\n  _n as documentBody,\n  $n as documentElement,\n  Jn as documentHead,\n  Qe as dragEvent,\n  Ye as dragendEvent,\n  Ge as dragenterEvent,\n  Ke as dragleaveEvent,\n  qe as dragoverEvent,\n  je as dragstartEvent,\n  oo as emulateAnimationEnd,\n  so as emulateTransitionEnd,\n  rt as errorEvent,\n  ao as focus,\n  ct as focusEvent,\n  tn as focusEvents,\n  Yt as focusableSelector,\n  at as focusinEvent,\n  it as focusoutEvent,\n  ut as gesturechangeEvent,\n  lt as gestureendEvent,\n  dt as gesturestartEvent,\n  j as getAttribute,\n  Wn as getAttributeNS,\n  w as getBoundingClientRect,\n  Qo as getCustomElements,\n  d as getDocument,\n  So as getDocumentBody,\n  S as getDocumentElement,\n  To as getDocumentHead,\n  ce as getElementAnimationDelay,\n  ae as getElementAnimationDuration,\n  jo as getElementById,\n  g as getElementStyle,\n  ie as getElementTransitionDelay,\n  ue as getElementTransitionDuration,\n  Go as getElementsByClassName,\n  Ne as getElementsByTagName,\n  to as getInstance,\n  ge as getNodeName,\n  ko as getNodeScroll,\n  No as getOffsetParent,\n  A as getParentNode,\n  Co as getRectRelativeToOffsetParent,\n  Lo as getSVGOffset,\n  Ae as getUID,\n  ve as getWindow,\n  oe as hasAttribute,\n  Rn as hasAttributeNS,\n  Zn as hasClass,\n  pe as hasFocusTrap,\n  zn as isApple,\n  Se as isArray,\n  Mo as isCanvas,\n  Te as isCustomElement,\n  K as isDocument,\n  u as isElement,\n  Do as isElementInScrollRange,\n  Oo as isElementInViewport,\n  xo as isElementsArray,\n  In as isFirefox,\n  zo as isFunction,\n  Io as isHTMLCollection,\n  m as isHTMLElement,\n  Po as isHTMLImageElement,\n  Bo as isJSON,\n  O as isMap,\n  Ho as isMedia,\n  xn as isMobile,\n  l as isNode,\n  Vo as isNodeList,\n  le as isNumber,\n  b as isObject,\n  Uo as isRTL,\n  Wo as isSVGElement,\n  we as isScaledElement,\n  me as isShadowRoot,\n  k as isString,\n  be as isTableElement,\n  Fo as isWeakMap,\n  te as isWebKit,\n  G as isWindow,\n  io as kebabCase,\n  nn as keyAlt,\n  on as keyArrowDown,\n  rn as keyArrowLeft,\n  cn as keyArrowRight,\n  sn as keyArrowUp,\n  an as keyBackspace,\n  un as keyCapsLock,\n  ln as keyControl,\n  dn as keyDelete,\n  fn as keyEnter,\n  gn as keyEscape,\n  mn as keyInsert,\n  vn as keyMeta,\n  pn as keyNumpadEnter,\n  bn as keyPause,\n  En as keyScrollLock,\n  hn as keyShift,\n  yn as keySpace,\n  wn as keyTab,\n  en as keyboardEventKeys,\n  ft as keydownEvent,\n  pt as keypressEvent,\n  gt as keyupEvent,\n  mt as loadEvent,\n  Ze as loadstartEvent,\n  Ee as matches,\n  $e as mouseClickEvents,\n  Je as mouseHoverEvents,\n  _e as mouseSwipeEvents,\n  vt as mouseclickEvent,\n  bt as mousedblclickEvent,\n  Et as mousedownEvent,\n  wt as mouseenterEvent,\n  yt as mousehoverEvent,\n  St as mouseinEvent,\n  At as mouseleaveEvent,\n  Nt as mousemoveEvent,\n  Tt as mouseoutEvent,\n  kt as mouseoverEvent,\n  ht as mouseupEvent,\n  Ct as mousewheelEvent,\n  Lt as moveEvent,\n  Re as nativeEvents,\n  ee as noop,\n  uo as normalizeOptions,\n  P as normalizeValue,\n  Q as off,\n  kn as offsetHeight,\n  Nn as offsetWidth,\n  R as on,\n  ne as one,\n  Mt as orientationchangeEvent,\n  vo as passiveHandler,\n  Dt as pointercancelEvent,\n  Ot as pointerdownEvent,\n  xt as pointerleaveEvent,\n  zt as pointermoveEvent,\n  It as pointerupEvent,\n  Ro as querySelector,\n  de as querySelectorAll,\n  Pt as readystatechangeEvent,\n  bo as reflow,\n  Gn as removeAttribute,\n  Kn as removeAttributeNS,\n  Yn as removeClass,\n  Sn as removeEventListener,\n  Bt as resetEvent,\n  Ft as resizeEvent,\n  Wt as scrollEvent,\n  Cn as scrollHeight,\n  Ln as scrollWidth,\n  Ht as selectEvent,\n  Vt as selectendEvent,\n  Ut as selectstartEvent,\n  Qn as setAttribute,\n  jn as setAttributeNS,\n  Eo as setElementStyle,\n  Rt as submitEvent,\n  Pn as support3DTransform,\n  Vn as supportAnimation,\n  Bn as supportPassive,\n  Hn as supportTouch,\n  Fn as supportTransform,\n  Un as supportTransition,\n  Mn as tabindex,\n  yo as toLowerCase,\n  wo as toUpperCase,\n  Ao as toggleFocusTrap,\n  Xe as touchEvents,\n  Gt as touchcancelEvent,\n  Kt as touchendEvent,\n  jt as touchmoveEvent,\n  Qt as touchstartEvent,\n  Jt as transitionDelay,\n  $t as transitionDuration,\n  L as transitionEndEvent,\n  W as transitionProperty,\n  qt as unloadEvent,\n  On as userAgent,\n  Dn as userAgentData,\n  Ce as version\n};\n//# sourceMappingURL=shorty.mjs.map\n","const g = \"2.0.8\", e = {}, f = (t) => {\n  const { type: n, currentTarget: c } = t;\n  e[n].forEach((a, s) => {\n    c === s && a.forEach((o, i) => {\n      i.apply(s, [t]), typeof o == \"object\" && o.once && r(s, n, i, o);\n    });\n  });\n}, E = (t, n, c, a) => {\n  e[n] || (e[n] = /* @__PURE__ */ new Map());\n  const s = e[n];\n  s.has(t) || s.set(t, /* @__PURE__ */ new Map());\n  const o = s.get(\n    t\n  ), { size: i } = o;\n  o.set(c, a), i || t.addEventListener(\n    n,\n    f,\n    a\n  );\n}, r = (t, n, c, a) => {\n  const s = e[n], o = s && s.get(t), i = o && o.get(c), d = i !== void 0 ? i : a;\n  o && o.has(c) && o.delete(c), s && (!o || !o.size) && s.delete(t), (!s || !s.size) && delete e[n], (!o || !o.size) && t.removeEventListener(\n    n,\n    f,\n    d\n  );\n}, M = E, p = r;\nexport {\n  E as addListener,\n  f as globalListener,\n  p as off,\n  M as on,\n  e as registry,\n  r as removeListener,\n  g as version\n};\n//# sourceMappingURL=event-listener.mjs.map\n","/**\n * Global namespace for most components `fade` class.\n */\nconst fadeClass = \"fade\";\nexport default fadeClass;\n","/**\n * Global namespace for most components `show` class.\n */\nconst showClass = \"show\";\nexport default showClass;\n","/**\n * Global namespace for most components `dismiss` option.\n */\nconst dataBsDismiss = \"data-bs-dismiss\";\nexport default dataBsDismiss;\n","/** @type {string} */\nconst alertString = \"alert\";\nexport default alertString;\n","/** @type {string} */\nconst alertComponent = \"Alert\";\nexport default alertComponent;\n","import { version } from \"../package.json\";\n\nconst Version = version;\n\nexport default Version;\n","/* Native JavaScript for Bootstrap 5 | Base Component\n----------------------------------------------------- */\nimport {\n  Data,\n  isElement,\n  isString,\n  normalizeOptions,\n  ObjectKeys,\n  querySelector,\n} from \"@thednp/shorty\";\n\nimport type { BaseOptions } from \"~/interface/baseComponent\";\nimport Version from \"~/version\";\n\n/** Returns a new `BaseComponent` instance. */\nexport default class BaseComponent {\n  declare element: Element;\n  declare options?: BaseOptions;\n\n  /**\n   * @param target `Element` or selector string\n   * @param config component instance options\n   */\n  constructor(target: Element | string, config?: BaseOptions) {\n    let element: Element | null;\n\n    try {\n      if (isElement(target)) {\n        element = target as Element;\n      } else if (isString(target)) {\n        element = querySelector(target);\n        // istanbul ignore else @preserve\n        if (!element) throw Error(`\"${target}\" is not a valid selector.`);\n      } else {\n        throw Error(`your target is not an instance of HTMLElement.`);\n      }\n    } catch (e) {\n      throw Error(`${this.name} Error: ${(e as Error).message}`);\n    }\n\n    const prevInstance = Data.get<typeof this>(element, this.name);\n    /* istanbul ignore else @preserve */\n    if (prevInstance) {\n      // remove previously attached event listeners\n      // to avoid memory leaks\n      prevInstance._toggleEventListeners();\n    }\n\n    this.element = element;\n    this.options = this.defaults && ObjectKeys(this.defaults).length\n      ? normalizeOptions(element, this.defaults, config || {}, \"bs\")\n      : /* istanbul ignore next @preserve */ {};\n\n    Data.set(element, this.name, this);\n  }\n\n  // istanbul ignore next @preserve\n  get version() {\n    return Version;\n  }\n\n  // istanbul ignore next @preserve\n  get name() {\n    return \"BaseComponent\";\n  }\n\n  // istanbul ignore next @preserve\n  get defaults() {\n    return {};\n  }\n\n  /** just to have something to extend from */\n  // istanbul ignore next @preserve coverage wise this isn't important\n  _toggleEventListeners = () => {\n    // do something to please linters\n  };\n\n  /** Removes component from target element. */\n  dispose() {\n    Data.remove<typeof this>(this.element, this.name);\n    ObjectKeys(this).forEach((prop) => {\n      delete this[prop];\n    });\n  }\n}\n","import { getAttribute, hasClass } from \"@thednp/shorty\";\n\n/**\n * Check if interactive element is disabled.\n * @param target either a `<button>` or an `<a>`\n * @returns whether the target is disabled\n */\nconst isDisabled = (target: Element) => {\n  return hasClass(target, \"disabled\") ||\n    getAttribute(target, \"disabled\") === \"true\";\n};\n\nexport default isDisabled;\n","/* Native JavaScript for Bootstrap 5 | Alert\n-------------------------------------------- */\nimport {\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  getInstance,\n  hasClass,\n  mouseclickEvent,\n  querySelector,\n  removeClass,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport fadeClass from \"~/strings/fadeClass\";\nimport showClass from \"~/strings/showClass\";\nimport dataBsDismiss from \"~/strings/dataBsDismiss\";\nimport alertString from \"~/strings/alertString\";\nimport alertComponent from \"~/strings/alertComponent\";\nimport type { AlertEvent } from \"~/interface/alert\";\n\nimport BaseComponent from \"./base-component\";\nimport isDisabled from \"~/util/isDisabled\";\n\n// ALERT PRIVATE GC\n// ================\nconst alertSelector = `.${alertString}`;\nconst alertDismissSelector = `[${dataBsDismiss}=\"${alertString}\"]`;\n\n/**\n * Static method which returns an existing `Alert` instance associated\n * to a target `Element`.\n */\nconst getAlertInstance = (element: Element) =>\n  getInstance<Alert>(element, alertComponent);\n\n/**\n * An `Alert` initialization callback.\n */\nconst alertInitCallback = (element: Element) => new Alert(element);\n\n// ALERT CUSTOM EVENTS\n// ===================\nconst closeAlertEvent = createCustomEvent<Record<string, never>, AlertEvent>(\n  `close.bs.${alertString}`,\n);\nconst closedAlertEvent = createCustomEvent<Record<string, never>, AlertEvent>(\n  `closed.bs.${alertString}`,\n);\n\n// ALERT EVENT HANDLER\n// ===================\n/**\n * Alert `transitionend` callback.\n *\n * @param that target Alert instance\n */\nconst alertTransitionEnd = (self: Alert) => {\n  const { element } = self;\n  dispatchEvent(element, closedAlertEvent);\n\n  self._toggleEventListeners();\n  self.dispose();\n  element.remove();\n};\n\n// ALERT DEFINITION\n// ================\n/** Creates a new Alert instance. */\nexport default class Alert extends BaseComponent {\n  static selector = alertSelector;\n  static init = alertInitCallback;\n  static getInstance = getAlertInstance;\n  dismiss: HTMLElement | null;\n\n  constructor(target: Element | string) {\n    super(target);\n\n    // the dismiss button\n    this.dismiss = querySelector<HTMLElement>(\n      alertDismissSelector,\n      this.element,\n    );\n\n    // add event listener\n    this._toggleEventListeners(true);\n  }\n\n  /** Returns component name string. */\n  get name() {\n    return alertComponent;\n  }\n\n  // ALERT PUBLIC METHODS\n  // ====================\n  /**\n   * Public method that hides the `.alert` element from the user,\n   * disposes the instance once animation is complete, then\n   * removes the element from the DOM.\n   */\n  close = () => {\n    const { element } = this;\n\n    // istanbul ignore if @preserve\n    if (!element || !hasClass(element, showClass)) return;\n    dispatchEvent(element, closeAlertEvent);\n\n    if (closeAlertEvent.defaultPrevented) return;\n\n    removeClass(element, showClass);\n\n    if (hasClass(element, fadeClass)) {\n      emulateTransitionEnd(element, () => alertTransitionEnd(this));\n    } else alertTransitionEnd(this);\n  };\n  /**\n   * Toggle on / off the `click` event listener.\n   *\n   * @param add when `true`, event listener is added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    const { dismiss, close } = this;\n    // istanbul ignore else @preserve\n    if (dismiss && !isDisabled(dismiss)) {\n      action(dismiss, mouseclickEvent, close);\n    }\n  };\n\n  /** Remove the component from target element. */\n  dispose() {\n    this._toggleEventListeners();\n    super.dispose();\n  }\n}\n","/**\n * Global namespace for most components active class.\n */\nconst activeClass = \"active\";\nexport default activeClass;\n","/**\n * Global namespace for most components `toggle` option.\n */\nconst dataBsToggle = \"data-bs-toggle\";\nexport default dataBsToggle;\n","/** @type {string} */\nconst buttonString = \"button\";\nexport default buttonString;\n","/** @type {string} */\nconst buttonComponent = \"Button\";\nexport default buttonComponent;\n","/* Native JavaScript for Bootstrap 5 | Button\n---------------------------------------------*/\nimport {\n  addClass,\n  ariaPressed,\n  getInstance,\n  hasClass,\n  mouseclickEvent,\n  removeClass,\n  setAttribute,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport activeClass from \"~/strings/activeClass\";\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport buttonString from \"~/strings/buttonString\";\nimport buttonComponent from \"~/strings/buttonComponent\";\nimport BaseComponent from \"./base-component\";\nimport isDisabled from \"~/util/isDisabled\";\n\n// BUTTON PRIVATE GC\n// =================\nconst buttonSelector = `[${dataBsToggle}=\"${buttonString}\"]`;\n\n/**\n * Static method which returns an existing `Button` instance associated\n * to a target `Element`.\n */\nconst getButtonInstance = (element: Element) =>\n  getInstance<Button>(element, buttonComponent);\n\n/** A `Button` initialization callback. */\nconst buttonInitCallback = (element: Element) => new Button(element);\n\n// BUTTON DEFINITION\n// =================\n/** Creates a new `Button` instance. */\nexport default class Button extends BaseComponent {\n  static selector = buttonSelector;\n  static init = buttonInitCallback;\n  static getInstance = getButtonInstance;\n\n  declare isActive: boolean;\n  declare element: HTMLElement;\n\n  /**\n   * @param target usually a `.btn` element\n   */\n  constructor(target: Element | string) {\n    super(target);\n\n    // initialization element\n    const { element } = this;\n\n    // set initial state\n    this.isActive = hasClass(element, activeClass);\n    setAttribute(element, ariaPressed, String(!!this.isActive));\n\n    // add event listener\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return buttonComponent;\n  }\n\n  // BUTTON PUBLIC METHODS\n  // =====================\n  /**\n   * Toggles the state of the target button.\n   *\n   * @param e usually `click` Event object\n   */\n  toggle = (e?: Event) => {\n    if (e) e.preventDefault();\n\n    const { element, isActive } = this;\n    if (!isDisabled(element)) {\n      const action = isActive ? removeClass : addClass;\n      action(element, activeClass);\n      setAttribute(element, ariaPressed, isActive ? \"false\" : \"true\");\n      this.isActive = hasClass(element, activeClass);\n    }\n  };\n\n  // BUTTON PRIVATE METHOD\n  // =====================\n  /**\n   * Toggles on/off the `click` event listener.\n   *\n   * @param add when `true`, event listener is added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    action(this.element, mouseclickEvent, this.toggle);\n  };\n\n  /** Removes the `Button` component from the target element. */\n  dispose() {\n    this._toggleEventListeners();\n    super.dispose();\n  }\n}\n","/**\n * Global namespace for most components `target` option.\n */\nconst dataBsTarget = \"data-bs-target\";\nexport default dataBsTarget;\n","/** @type {string} */\nconst carouselString = \"carousel\";\nexport default carouselString;\n","/** @type {string} */\nconst carouselComponent = \"Carousel\";\nexport default carouselComponent;\n","/**\n * Global namespace for most components `parent` option.\n */\nconst dataBsParent = \"data-bs-parent\";\nexport default dataBsParent;\n","/**\n * Global namespace for most components `container` option.\n */\nconst dataBsContainer = \"data-bs-container\";\nexport default dataBsContainer;\n","import {\n  closest,\n  getAttribute,\n  getDocument,\n  querySelector,\n} from \"@thednp/shorty\";\n\nimport dataBsTarget from \"../strings/dataBsTarget\";\nimport dataBsParent from \"../strings/dataBsParent\";\nimport dataBsContainer from \"../strings/dataBsContainer\";\n\n/**\n * Returns the `Element` that THIS one targets\n * via `data-bs-target`, `href`, `data-bs-parent` or `data-bs-container`.\n *\n * @param element the target element\n * @returns the query result\n */\nconst getTargetElement = <T extends Element = HTMLElement>(element: T) => {\n  const targetAttr = [dataBsTarget, dataBsParent, dataBsContainer, \"href\"];\n  const doc = getDocument(element);\n\n  return targetAttr\n    .map((att) => {\n      const attValue = getAttribute(element, att);\n      if (attValue) {\n        return att === dataBsParent\n          ? closest<T>(element, attValue)\n          : querySelector<T>(attValue, doc);\n      }\n      return null;\n    })\n    .filter((x) => x)[0];\n};\n\nexport default getTargetElement;\n","/* Native JavaScript for Bootstrap 5 | Carousel\n----------------------------------------------- */\nimport {\n  addClass,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  DragEvent,\n  dragstartEvent,\n  emulateTransitionEnd,\n  getAttribute,\n  getDocument,\n  getElementsByClassName,\n  getElementTransitionDuration,\n  getInstance,\n  hasClass,\n  isElementInScrollRange,\n  isRTL,\n  keyArrowLeft,\n  keyArrowRight,\n  keydownEvent,\n  matches,\n  mouseclickEvent,\n  mouseenterEvent,\n  mouseleaveEvent,\n  ObjectAssign,\n  passiveHandler,\n  pointerdownEvent,\n  PointerEvent,\n  pointermoveEvent,\n  pointerupEvent,\n  querySelector,\n  querySelectorAll,\n  reflow,\n  removeClass,\n  Timer,\n  TouchEvent,\n  touchstartEvent,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport activeClass from \"~/strings/activeClass\";\nimport dataBsTarget from \"~/strings/dataBsTarget\";\nimport carouselString from \"~/strings/carouselString\";\nimport carouselComponent from \"~/strings/carouselComponent\";\nimport getTargetElement from \"~/util/getTargetElement\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport type { CarouselEvent, CarouselOptions } from \"~/interface/carousel\";\n\ntype CarouselEventProperties = {\n  relatedTarget: EventTarget & HTMLElement;\n  from: number;\n  to: number;\n  direction: \"left\" | \"right\";\n};\n\n// CAROUSEL PRIVATE GC\n// ===================\nconst carouselSelector = `[data-bs-ride=\"${carouselString}\"]`;\nconst carouselItem = `${carouselString}-item`;\nconst dataBsSlideTo = \"data-bs-slide-to\";\nconst dataBsSlide = \"data-bs-slide\";\nconst pausedClass = \"paused\";\n\nconst carouselDefaults: CarouselOptions = {\n  pause: \"hover\",\n  keyboard: false,\n  touch: true,\n  interval: 5000,\n};\n\n/**\n * Static method which returns an existing `Carousel` instance associated\n * to a target `Element`.\n */\nconst getCarouselInstance = (element: Element) =>\n  getInstance<Carousel>(element, carouselComponent);\n\n/**\n * A `Carousel` initialization callback.\n */\nconst carouselInitCallback = (element: Element) => new Carousel(element);\n\nlet startX = 0;\nlet currentX = 0;\nlet endX = 0;\n\n// CAROUSEL CUSTOM EVENTS\n// ======================\nconst carouselSlideEvent = createCustomEvent<\n  CarouselEventProperties,\n  CarouselEvent\n>(`slide.bs.${carouselString}`);\nconst carouselSlidEvent = createCustomEvent<\n  CarouselEventProperties,\n  CarouselEvent\n>(`slid.bs.${carouselString}`);\n\n// CAROUSEL EVENT HANDLERS\n// =======================\n/**\n * The `transitionend` event listener of the `Carousel`.\n *\n * @param self the `Carousel` instance\n */\nconst carouselTransitionEndHandler = (self: Carousel) => {\n  const { index, direction, element, slides, options } = self;\n\n  // istanbul ignore else @preserve\n  if (self.isAnimating) {\n    const activeItem = getActiveIndex(self);\n    const orientation = direction === \"left\" ? \"next\" : \"prev\";\n    const directionClass = direction === \"left\" ? \"start\" : \"end\";\n\n    addClass(slides[index], activeClass);\n    removeClass(slides[index], `${carouselItem}-${orientation}`);\n    removeClass(slides[index], `${carouselItem}-${directionClass}`);\n\n    removeClass(slides[activeItem], activeClass);\n    removeClass(slides[activeItem], `${carouselItem}-${directionClass}`);\n\n    dispatchEvent(element, carouselSlidEvent);\n    Timer.clear(element, dataBsSlide);\n\n    // must check if a previous instance is disposed\n    if (\n      self.cycle && !getDocument(element).hidden && options.interval &&\n      !self.isPaused\n    ) {\n      self.cycle();\n    }\n  }\n};\n\n/**\n * Handles the `mouseenter` events when *options.pause*\n * is set to `hover`.\n */\nfunction carouselPauseHandler(this: HTMLElement) {\n  const self = getCarouselInstance(this);\n  // istanbul ignore else @preserve\n  if (self && !self.isPaused && !Timer.get(this, pausedClass)) {\n    addClass(this, pausedClass);\n  }\n}\n\n/**\n * Handles the `mouseleave` events when *options.pause*\n * is set to `hover`.\n */\nfunction carouselResumeHandler(this: HTMLElement) {\n  const self = getCarouselInstance(this);\n  // istanbul ignore else @preserve\n  if (self && self.isPaused && !Timer.get(this, pausedClass)) {\n    self.cycle();\n  }\n}\n\n/**\n * Handles the `click` event for the `Carousel` indicators.\n *\n * @param e the `Event` object\n */\nfunction carouselIndicatorHandler(this: HTMLElement, e: MouseEvent) {\n  e.preventDefault();\n  const element = closest(this, carouselSelector) || getTargetElement(this);\n  const self = element && getCarouselInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self || self.isAnimating) return;\n\n  const newIndex = +(\n    getAttribute(this, dataBsSlideTo) ||\n    // istanbul ignore next @preserve\n    0\n  );\n\n  // istanbul ignore else @preserve\n  if (\n    this &&\n    !hasClass(this, activeClass) && // event target is not active\n    !Number.isNaN(newIndex)\n  ) {\n    // AND has the specific attribute\n    self.to(newIndex); // do the slide\n  }\n}\n\n/**\n * Handles the `click` event for the `Carousel` arrows.\n *\n * @param e the `Event` object\n */\nfunction carouselControlsHandler(this: HTMLElement, e: MouseEvent) {\n  e.preventDefault();\n  const element = closest(this, carouselSelector) || getTargetElement(this);\n  const self = element && getCarouselInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self || self.isAnimating) return;\n\n  const orientation = getAttribute(this, dataBsSlide);\n\n  // istanbul ignore else @preserve\n  if (orientation === \"next\") {\n    self.next();\n  } else if (orientation === \"prev\") {\n    self.prev();\n  }\n}\n\n/**\n * Handles the keyboard `keydown` event for the visible `Carousel` elements.\n *\n * @param e the `Event` object\n */\nconst carouselKeyHandler = (\n  { code, target }: KeyboardEvent & { target: Node },\n) => {\n  const doc = getDocument(target);\n  const [element] = [...querySelectorAll<HTMLElement>(carouselSelector, doc)]\n    .filter((x) => isElementInScrollRange(x));\n  const self = getCarouselInstance(element);\n\n  // istanbul ignore next @preserve\n  if (\n    !self || self.isAnimating || /textarea|input|select/i.test(target.nodeName)\n  ) return;\n\n  const RTL = isRTL(element);\n  const arrowKeyNext = !RTL ? keyArrowRight : keyArrowLeft;\n  const arrowKeyPrev = !RTL ? keyArrowLeft : keyArrowRight;\n\n  // istanbul ignore else @preserve\n  if (code === arrowKeyPrev) self.prev();\n  else if (code === arrowKeyNext) self.next();\n};\n\n// CAROUSEL TOUCH HANDLERS\n// =======================\n/**\n * Prevents the `touchstart` and `dragstart` events for the `Carousel` element.\n *\n * @param e the `Event` object\n */\nfunction carouselDragHandler<T extends HTMLElement>(\n  this: T,\n  e: Event & (DragEvent<T> | TouchEvent<T>),\n) {\n  const { target } = e;\n  const self = getCarouselInstance(this);\n\n  // istanbul ignore next @preserve\n  if (\n    self &&\n    self.isTouch &&\n    ((self.indicator && !self.indicator.contains(target)) ||\n      !self.controls.includes(target))\n  ) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    e.preventDefault();\n  }\n}\n\n// CAROUSEL POINTER HANDLERS\n// =========================\n/**\n * Handles the `pointerdown` event for the `Carousel` element.\n *\n * @param e the `Event` object\n */\nfunction carouselPointerDownHandler(\n  this: HTMLElement,\n  e: PointerEvent<HTMLElement>,\n) {\n  const { target } = e;\n  const self = getCarouselInstance(this);\n\n  // istanbul ignore else @preserve\n  if (!self || self.isAnimating || self.isTouch) return;\n\n  // filter pointer event on controls & indicators\n  const { controls, indicators } = self;\n  // istanbul ignore else @preserve\n  if (\n    ![...controls, ...indicators].every((el) =>\n      el === target || el.contains(target)\n    )\n  ) {\n    startX = e.pageX;\n\n    // istanbul ignore else @preserve\n    if (this.contains(target)) {\n      self.isTouch = true;\n      toggleCarouselTouchHandlers(self, true);\n    }\n  }\n}\n\n/**\n * Handles the `pointermove` event for the `Carousel` element.\n *\n * @param e\n */\nconst carouselPointerMoveHandler = (e: PointerEvent<HTMLElement>) => {\n  currentX = e.pageX;\n};\n\n/**\n * Handles the `pointerup` event for the `Carousel` element.\n *\n * @param e\n */\nconst carouselPointerUpHandler = (e: PointerEvent<HTMLElement>) => {\n  const { target } = e;\n  const doc = getDocument(target);\n  const self = [...querySelectorAll(carouselSelector, doc)]\n    .map((c) => getCarouselInstance(c) as Carousel)\n    .find((i) => i.isTouch) as Carousel;\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  const { element, index } = self;\n  const RTL = isRTL(element);\n  endX = e.pageX;\n\n  self.isTouch = false;\n  toggleCarouselTouchHandlers(self);\n\n  if (\n    !doc.getSelection()?.toString().length &&\n    element.contains(target) &&\n    Math.abs(startX - endX) > 120\n  ) {\n    // determine next index to slide to\n    // istanbul ignore else @preserve\n    if (currentX < startX) {\n      self.to(index + (RTL ? -1 : 1));\n    } else if (currentX > startX) {\n      self.to(index + (RTL ? 1 : -1));\n    }\n  }\n\n  // reset pointer position\n  startX = 0;\n  currentX = 0;\n  endX = 0;\n};\n\n// CAROUSEL PRIVATE METHODS\n// ========================\n/**\n * Sets active indicator for the `Carousel` instance.\n *\n * @param self the `Carousel` instance\n * @param index the index of the new active indicator\n */\nconst activateCarouselIndicator = (self: Carousel, index: number) => {\n  const { indicators } = self;\n  [...indicators].forEach((x) => removeClass(x, activeClass));\n\n  // istanbul ignore else @preserve\n  if (self.indicators[index]) addClass(indicators[index], activeClass);\n};\n\n/**\n * Toggles the pointer event listeners for a given `Carousel` instance.\n *\n * @param self the `Carousel` instance\n * @param add when `TRUE` event listeners are added\n */\nconst toggleCarouselTouchHandlers = (self: Carousel, add?: boolean) => {\n  const { element } = self;\n  const action = add ? addListener : removeListener;\n  action(\n    getDocument(element),\n    pointermoveEvent,\n    carouselPointerMoveHandler,\n    passiveHandler,\n  );\n  action(\n    getDocument(element),\n    pointerupEvent,\n    carouselPointerUpHandler,\n    passiveHandler,\n  );\n};\n\n/**\n * Returns the index of the current active item.\n *\n * @param self the `Carousel` instance\n * @returns the query result\n */\nconst getActiveIndex = (self: Carousel) => {\n  const { slides, element } = self;\n  const activeItem = querySelector<HTMLElement>(\n    `.${carouselItem}.${activeClass}`,\n    element,\n  );\n  return activeItem ? [...slides].indexOf(activeItem) : -1;\n};\n\n// CAROUSEL DEFINITION\n// ===================\n/** Creates a new `Carousel` instance. */\nexport default class Carousel extends BaseComponent {\n  static selector = carouselSelector;\n  static init = carouselInitCallback;\n  static getInstance = getCarouselInstance;\n  declare element: HTMLElement;\n  declare options: CarouselOptions;\n  declare direction: \"right\" | \"left\";\n  declare index: number;\n  declare isTouch: boolean;\n  declare slides: HTMLCollectionOf<HTMLElement>;\n  declare controls: HTMLElement[];\n  declare indicator: HTMLElement | null;\n  declare indicators: HTMLElement[];\n\n  /**\n   * @param target mostly a `.carousel` element\n   * @param config instance options\n   */\n  constructor(target: Element | string, config?: Partial<CarouselOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { element } = this;\n\n    // additional properties\n    this.direction = isRTL(element) ? \"right\" : \"left\";\n    this.isTouch = false;\n\n    // carousel elements\n    // a LIVE collection is prefferable\n    this.slides = getElementsByClassName(carouselItem, element);\n    const { slides } = this;\n\n    // invalidate when not enough items\n    // no need to go further\n    if (slides.length < 2) return;\n\n    const activeIndex = getActiveIndex(this);\n    // recover item from disposed instance\n    const transitionItem = [...slides].find((s) =>\n      matches(s, `.${carouselItem}-next`)\n    );\n    this.index = activeIndex;\n\n    // external controls must be within same document context\n    const doc = getDocument(element);\n\n    this.controls = [\n      ...querySelectorAll<HTMLElement>(`[${dataBsSlide}]`, element),\n      ...querySelectorAll<HTMLElement>(\n        `[${dataBsSlide}][${dataBsTarget}=\"#${element.id}\"]`,\n        doc,\n      ),\n    ].filter((c, i, ar) => i === ar.indexOf(c));\n\n    this.indicator = querySelector<HTMLElement>(\n      `.${carouselString}-indicators`,\n      element,\n    );\n\n    // a LIVE collection is preffered\n    this.indicators = [\n      ...(this.indicator\n        ? querySelectorAll<HTMLElement>(`[${dataBsSlideTo}]`, this.indicator)\n        /* istanbul ignore next @preserve */ : []),\n      ...querySelectorAll<HTMLElement>(\n        `[${dataBsSlideTo}][${dataBsTarget}=\"#${element.id}\"]`,\n        doc,\n      ),\n    ].filter((c, i, ar) => i === ar.indexOf(c));\n\n    // set JavaScript and DATA API options\n    const { options } = this;\n\n    // don't use TRUE as interval, it's actually 0, use the default 5000ms better\n    this.options.interval = options.interval === true\n      ? carouselDefaults.interval\n      : options.interval;\n\n    // set first slide active if none\n    // istanbul ignore next @preserve - impossible to test\n    if (transitionItem) {\n      this.index = [...slides].indexOf(transitionItem);\n    } else if (activeIndex < 0) {\n      this.index = 0;\n      addClass(slides[0], activeClass);\n      if (this.indicators.length) activateCarouselIndicator(this, 0);\n    }\n\n    // istanbul ignore else @preserve\n    if (this.indicators.length) activateCarouselIndicator(this, this.index);\n\n    // attach event handlers\n    this._toggleEventListeners(true);\n\n    // start to cycle if interval is set\n    if (options.interval) this.cycle();\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return carouselComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return carouselDefaults;\n  }\n\n  /**\n   * Check if instance is paused.\n   */\n  get isPaused() {\n    return hasClass(this.element, pausedClass);\n  }\n\n  /**\n   * Check if instance is animating.\n   */\n  get isAnimating() {\n    return querySelector(\n      `.${carouselItem}-next,.${carouselItem}-prev`,\n      this.element,\n    ) !== null;\n  }\n\n  // CAROUSEL PUBLIC METHODS\n  // =======================\n  /** Slide automatically through items. */\n  cycle() {\n    const { element, options, isPaused, index } = this;\n\n    Timer.clear(element, carouselString);\n    if (isPaused) {\n      Timer.clear(element, pausedClass);\n      removeClass(element, pausedClass);\n    }\n\n    Timer.set(\n      element,\n      () => {\n        // it's very important to check self.element\n        // where instance might have been disposed\n        // istanbul ignore else @preserve\n        if (\n          this.element && !this.isPaused && !this.isTouch &&\n          isElementInScrollRange(element)\n        ) {\n          this.to(index + 1);\n        }\n      },\n      options.interval as number,\n      carouselString,\n    );\n  }\n\n  /** Pause the automatic cycle. */\n  pause() {\n    const { element, options } = this;\n    // istanbul ignore else @preserve\n    if (this.isPaused || !options.interval) return;\n\n    addClass(element, pausedClass);\n    Timer.set(\n      element,\n      () => {\n        /* ESLint is now happy */\n      },\n      1,\n      pausedClass,\n    );\n  }\n\n  /** Slide to the next item. */\n  next() {\n    // istanbul ignore else @preserve\n    if (!this.isAnimating) {\n      this.to(this.index + 1);\n    }\n  }\n\n  /** Slide to the previous item. */\n  prev() {\n    // istanbul ignore else @preserve\n    if (!this.isAnimating) {\n      this.to(this.index - 1);\n    }\n  }\n\n  /**\n   * Jump to the item with the `idx` index.\n   *\n   * @param idx the index of the item to jump to\n   */\n  to(idx: number) {\n    const { element, slides, options } = this;\n    const activeItem = getActiveIndex(this);\n    const RTL = isRTL(element);\n    let next = idx;\n\n    // when controled via methods, make sure to check again\n    // first return if we're on the same item #227\n    // `to()` must be SPAM protected by Timer\n    if (\n      this.isAnimating || activeItem === next ||\n      Timer.get(element, dataBsSlide)\n    ) return;\n\n    // determine transition direction\n    // istanbul ignore else @preserve\n    if (\n      activeItem < next || (activeItem === 0 && next === slides.length - 1)\n    ) {\n      this.direction = RTL ? \"right\" : \"left\"; // next\n    } else if (\n      activeItem > next || (activeItem === slides.length - 1 && next === 0)\n    ) {\n      this.direction = RTL ? \"left\" : \"right\"; // prev\n    }\n    const { direction } = this;\n\n    // find the right next index\n    if (next < 0) {\n      next = slides.length - 1;\n    } else if (next >= slides.length) {\n      next = 0;\n    }\n\n    // orientation, class name, eventProperties\n    const orientation = direction === \"left\" ? \"next\" : \"prev\";\n    const directionClass = direction === \"left\" ? \"start\" : \"end\";\n\n    const eventProperties = {\n      relatedTarget: slides[next],\n      from: activeItem,\n      to: next,\n      direction,\n    };\n\n    // update event properties\n    ObjectAssign(carouselSlideEvent, eventProperties);\n    ObjectAssign(carouselSlidEvent, eventProperties);\n\n    // discontinue when prevented\n    dispatchEvent(element, carouselSlideEvent);\n    if (carouselSlideEvent.defaultPrevented) return;\n\n    // update index\n    this.index = next;\n    activateCarouselIndicator(this, next);\n\n    if (\n      getElementTransitionDuration(slides[next]) &&\n      hasClass(element, \"slide\")\n    ) {\n      Timer.set(\n        element,\n        () => {\n          addClass(slides[next], `${carouselItem}-${orientation}`);\n          reflow(slides[next]);\n          addClass(slides[next], `${carouselItem}-${directionClass}`);\n          addClass(slides[activeItem], `${carouselItem}-${directionClass}`);\n\n          // the instance might get diposed mid-animation\n          emulateTransitionEnd(\n            slides[next],\n            () =>\n              this.slides && this.slides.length &&\n              carouselTransitionEndHandler(this),\n          );\n        },\n        0,\n        dataBsSlide,\n      );\n    } else {\n      addClass(slides[next], activeClass);\n      removeClass(slides[activeItem], activeClass);\n\n      Timer.set(\n        element,\n        () => {\n          Timer.clear(element, dataBsSlide);\n          // check for element, might have been disposed\n          // istanbul ignore else @preserve\n          if (element && options.interval && !this.isPaused) {\n            this.cycle();\n          }\n\n          dispatchEvent(element, carouselSlidEvent);\n        },\n        0,\n        dataBsSlide,\n      );\n    }\n  }\n\n  /**\n   * Toggles all event listeners for the `Carousel` instance.\n   *\n   * @param add when `TRUE` event listeners are added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const { element, options, slides, controls, indicators } = this;\n    const { touch, pause, interval, keyboard } = options;\n    const action = add ? addListener : removeListener;\n\n    if (pause && interval) {\n      action(element, mouseenterEvent, carouselPauseHandler);\n      action(element, mouseleaveEvent, carouselResumeHandler);\n    }\n\n    if (touch && slides.length > 2) {\n      action(\n        element,\n        pointerdownEvent,\n        carouselPointerDownHandler,\n        passiveHandler,\n      );\n      action(element, touchstartEvent, carouselDragHandler, { passive: false });\n      action(element, dragstartEvent, carouselDragHandler, { passive: false });\n    }\n\n    // istanbul ignore else @preserve\n    if (controls.length) {\n      controls.forEach((arrow) => {\n        // istanbul ignore else @preserve\n        if (!isDisabled(arrow)) {\n          action(arrow, mouseclickEvent, carouselControlsHandler);\n        }\n      });\n    }\n\n    // istanbul ignore else @preserve\n    if (indicators.length) {\n      indicators.forEach((indicator) => {\n        // istanbul ignore else @preserve\n        if (!isDisabled(indicator)) {\n          action(indicator, mouseclickEvent, carouselIndicatorHandler);\n        }\n      });\n    }\n\n    if (keyboard) {\n      action(getDocument(element), keydownEvent, carouselKeyHandler);\n    }\n  };\n\n  /** Remove `Carousel` component from target. */\n  dispose() {\n    const { isAnimating } = this;\n\n    const clone = {\n      ...this,\n      isAnimating,\n    };\n    this._toggleEventListeners();\n    super.dispose();\n\n    // istanbul ignore next @preserve - impossible to test in playwright\n    if (clone.isAnimating) {\n      emulateTransitionEnd(clone.slides[clone.index], () => {\n        carouselTransitionEndHandler(clone);\n      });\n    }\n  }\n}\n","/**\n * Global namespace for most components `collapsing` class.\n * As used by `Collapse` / `Tab`.\n */\nconst collapsingClass = \"collapsing\";\nexport default collapsingClass;\n","/** @type {string} */\nconst collapseString = \"collapse\";\nexport default collapseString;\n","/** @type {string} */\nconst collapseComponent = \"Collapse\";\nexport default collapseComponent;\n","/* Native JavaScript for Bootstrap 5 | Collapse\n----------------------------------------------- */\nimport {\n  addClass,\n  ariaExpanded,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  getDocument,\n  getInstance,\n  hasClass,\n  isHTMLElement,\n  isString,\n  mouseclickEvent,\n  MouseEvent,\n  noop,\n  querySelector,\n  querySelectorAll,\n  reflow,\n  removeClass,\n  setAttribute,\n  setElementStyle,\n  Timer,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport collapsingClass from \"~/strings/collapsingClass\";\nimport showClass from \"~/strings/showClass\";\nimport collapseString from \"~/strings/collapseString\";\nimport collapseComponent from \"~/strings/collapseComponent\";\nimport getTargetElement from \"~/util/getTargetElement\";\nimport BaseComponent from \"./base-component\";\nimport type { CollapseEvent, CollapseOptions } from \"~/interface/collapse\";\nimport isDisabled from \"~/util/isDisabled\";\n\n// COLLAPSE GC\n// ===========\nconst collapseSelector = `.${collapseString}`;\nconst collapseToggleSelector = `[${dataBsToggle}=\"${collapseString}\"]`;\nconst collapseDefaults = { parent: null };\n\n/**\n * Static method which returns an existing `Collapse` instance associated\n * to a target `Element`.\n */\nconst getCollapseInstance = (element: Element) =>\n  getInstance<Collapse>(element, collapseComponent);\n\n/**\n * A `Collapse` initialization callback.\n */\nconst collapseInitCallback = (element: Element) => new Collapse(element);\n\n// COLLAPSE CUSTOM EVENTS\n// ======================\nconst showCollapseEvent = createCustomEvent<\n  Record<string, never>,\n  CollapseEvent\n>(`show.bs.${collapseString}`);\nconst shownCollapseEvent = createCustomEvent<\n  Record<string, never>,\n  CollapseEvent\n>(`shown.bs.${collapseString}`);\nconst hideCollapseEvent = createCustomEvent<\n  Record<string, never>,\n  CollapseEvent\n>(`hide.bs.${collapseString}`);\nconst hiddenCollapseEvent = createCustomEvent<\n  Record<string, never>,\n  CollapseEvent\n>(`hidden.bs.${collapseString}`);\n\n// COLLAPSE PRIVATE METHODS\n// ========================\n/**\n * Expand the designated `Element`.\n *\n * @param self the `Collapse` instance\n */\nconst expandCollapse = (self: Collapse) => {\n  const { element, parent, triggers } = self;\n\n  dispatchEvent(element, showCollapseEvent);\n  if (!showCollapseEvent.defaultPrevented) {\n    Timer.set(element, noop, 17);\n    if (parent) Timer.set(parent, noop, 17);\n\n    addClass(element, collapsingClass);\n    removeClass(element, collapseString);\n\n    setElementStyle(element, { height: `${element.scrollHeight}px` });\n\n    emulateTransitionEnd(element, () => {\n      Timer.clear(element);\n      if (parent) Timer.clear(parent);\n\n      triggers.forEach((btn) => setAttribute(btn, ariaExpanded, \"true\"));\n\n      removeClass(element, collapsingClass);\n      addClass(element, collapseString);\n      addClass(element, showClass);\n\n      setElementStyle(element, { height: \"\" });\n\n      dispatchEvent(element, shownCollapseEvent);\n    });\n  }\n};\n\n/**\n * Collapse the designated `Element`.\n *\n * @param self the `Collapse` instance\n */\nconst collapseContent = (self: Collapse) => {\n  const { element, parent, triggers } = self;\n\n  dispatchEvent(element, hideCollapseEvent);\n\n  if (!hideCollapseEvent.defaultPrevented) {\n    Timer.set(element, noop, 17);\n    if (parent) Timer.set(parent, noop, 17);\n\n    setElementStyle(element, { height: `${element.scrollHeight}px` });\n\n    removeClass(element, collapseString);\n    removeClass(element, showClass);\n    addClass(element, collapsingClass);\n\n    reflow(element as HTMLElement);\n    setElementStyle(element, { height: \"0px\" });\n\n    emulateTransitionEnd(element, () => {\n      Timer.clear(element);\n      // istanbul ignore else @preserve\n      if (parent) Timer.clear(parent);\n\n      triggers.forEach((btn) => setAttribute(btn, ariaExpanded, \"false\"));\n\n      removeClass(element, collapsingClass);\n      addClass(element, collapseString);\n\n      setElementStyle(element, { height: \"\" });\n\n      dispatchEvent(element, hiddenCollapseEvent);\n    });\n  }\n};\n\n// COLLAPSE EVENT HANDLER\n// ======================\n/**\n * Handles the `click` event for the `Collapse` instance.\n *\n * @param e the `Event` object\n */\nconst collapseClickHandler = (e: MouseEvent<HTMLElement>) => {\n  const { target } = e; // our target is `HTMLElement`\n  const trigger = target &&\n    closest(target, collapseToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getCollapseInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  self.toggle();\n  // event target is anchor link #398\n  if (trigger?.tagName === \"A\") e.preventDefault();\n};\n\n// COLLAPSE DEFINITION\n// ===================\n\n/** Returns a new `Colapse` instance. */\nexport default class Collapse extends BaseComponent {\n  static selector = collapseSelector;\n  static init = collapseInitCallback;\n  static getInstance = getCollapseInstance;\n  declare element: HTMLElement;\n  declare options: CollapseOptions;\n  declare parent: Element | null;\n  declare triggers: Element[];\n\n  /**\n   * @param target and `Element` that matches the selector\n   * @param config instance options\n   */\n  constructor(target: Element | string, config?: Partial<CollapseOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { element, options } = this;\n    const doc = getDocument(element);\n\n    // set triggering elements\n    this.triggers = [...querySelectorAll(collapseToggleSelector, doc)].filter(\n      (btn) => getTargetElement(btn) === element,\n    );\n\n    // set parent accordion\n    this.parent = isHTMLElement(options.parent)\n      ? options.parent\n      : isString(options.parent)\n      ? getTargetElement(element) || querySelector(options.parent, doc)\n      : null;\n\n    // add event listeners\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return collapseComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return collapseDefaults;\n  }\n\n  // COLLAPSE PUBLIC METHODS\n  // =======================\n  /** Hides the collapse. */\n  hide() {\n    const { triggers, element } = this;\n    // istanbul ignore else @preserve\n    if (!Timer.get(element)) {\n      collapseContent(this);\n      // istanbul ignore else @preserve\n      if (triggers.length) {\n        triggers.forEach((btn) => addClass(btn, `${collapseString}d`));\n      }\n    }\n  }\n\n  /** Shows the collapse. */\n  show() {\n    const { element, parent, triggers } = this;\n    let activeCollapse;\n    let activeCollapseInstance;\n\n    if (parent) {\n      activeCollapse = [\n        ...querySelectorAll(`.${collapseString}.${showClass}`, parent),\n      ].find((i) => getCollapseInstance(i));\n      activeCollapseInstance = activeCollapse &&\n        getCollapseInstance(activeCollapse);\n    }\n\n    if ((!parent || !Timer.get(parent)) && !Timer.get(element)) {\n      if (activeCollapseInstance && activeCollapse !== element) {\n        collapseContent(activeCollapseInstance);\n        activeCollapseInstance.triggers.forEach((btn) => {\n          addClass(btn, `${collapseString}d`);\n        });\n      }\n\n      expandCollapse(this);\n      // istanbul ignore else @preserve\n      if (triggers.length) {\n        triggers.forEach((btn) => removeClass(btn, `${collapseString}d`));\n      }\n    }\n  }\n\n  /** Toggles the visibility of the collapse. */\n  toggle() {\n    if (!hasClass(this.element, showClass)) this.show();\n    else this.hide();\n  }\n\n  /**\n   * Toggles on/off the event listener(s) of the `Collapse` instance.\n   *\n   * @param add when `true`, the event listener is added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    const { triggers } = this;\n\n    // istanbul ignore else @preserve\n    if (triggers.length) {\n      triggers.forEach((btn) => {\n        // istanbul ignore else @preserve\n        if (!isDisabled(btn)) {\n          action(btn, mouseclickEvent, collapseClickHandler);\n        }\n      });\n    }\n  };\n\n  /** Remove the `Collapse` component from the target `Element`. */\n  dispose() {\n    this._toggleEventListeners();\n\n    super.dispose();\n  }\n}\n","/**\n * Global namespace for `Dropdown` types / classes.\n */\nconst dropdownMenuClasses = [\"dropdown\", \"dropup\", \"dropstart\", \"dropend\"];\nexport default dropdownMenuClasses;\n","/** @type {string} */\nconst dropdownComponent = \"Dropdown\";\nexport default dropdownComponent;\n","/**\n * Global namespace for `.dropdown-menu`.\n */\nconst dropdownMenuClass = \"dropdown-menu\";\nexport default dropdownMenuClass;\n","import { closest, getAttribute, hasAttribute } from \"@thednp/shorty\";\n\n/**\n * Checks if an *event.target* or its parent has an `href=\"#\"` value.\n * We need to prevent jumping around onclick, don't we?\n *\n * @param element the target element\n * @returns the query result\n */\nconst isEmptyAnchor = (element: HTMLElement) => {\n  // `EventTarget` must be `HTMLElement`\n  const parentAnchor = closest(element, \"A\");\n  return (\n    (element.tagName === \"A\" &&\n      // anchor href starts with #\n      hasAttribute(element, \"href\") &&\n      (getAttribute(element, \"href\"))?.slice(-1) === \"#\") ||\n    // OR a child of an anchor with href starts with #\n    (parentAnchor &&\n      hasAttribute(parentAnchor, \"href\") &&\n      (getAttribute(parentAnchor, \"href\"))?.slice(-1) === \"#\")\n  );\n};\nexport default isEmptyAnchor;\n","/* Native JavaScript for Bootstrap 5 | Dropdown\n----------------------------------------------- */\nimport {\n  addClass,\n  ariaExpanded,\n  closest,\n  createCustomEvent,\n  CSS4Declaration,\n  dispatchEvent,\n  focus,\n  focusEvent,\n  getAttribute,\n  getBoundingClientRect,\n  getDocument,\n  getDocumentElement,\n  getElementsByClassName,\n  getElementStyle,\n  getInstance,\n  hasClass,\n  isHTMLElement,\n  isRTL,\n  keyArrowDown,\n  keyArrowUp,\n  KeyboardEvent,\n  keydownEvent,\n  keyEscape,\n  keyupEvent,\n  mouseclickEvent,\n  mousedownEvent,\n  MouseEvent,\n  ObjectAssign,\n  removeClass,\n  setAttribute,\n  setElementStyle,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport showClass from \"~/strings/showClass\";\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport dropdownClasses from \"~/strings/dropdownClasses\";\nimport dropdownComponent from \"~/strings/dropdownComponent\";\nimport dropdownMenuClass from \"~/strings/dropdownMenuClass\";\nimport isEmptyAnchor from \"~/util/isEmptyAnchor\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport type { DropdownEvent, DropdownOptions } from \"~/interface/dropdown\";\n\n// DROPDOWN PRIVATE GC\n// ===================\nconst [dropdownString, dropupString, dropstartString, dropendString] =\n  dropdownClasses;\nconst dropdownSelector = `[${dataBsToggle}=\"${dropdownString}\"]`;\n\n/**\n * Static method which returns an existing `Dropdown` instance associated\n * to a target `Element`.\n */\nconst getDropdownInstance = (element: Element) =>\n  getInstance<Dropdown>(element, dropdownComponent);\n\n/**\n * A `Dropdown` initialization callback.\n */\nconst dropdownInitCallback = (element: Element) => new Dropdown(element);\n\n// DROPDOWN PRIVATE GC\n// ===================\n// const dropdownMenuStartClass = `${dropdownMenuClass}-start`;\nconst dropdownMenuEndClass = `${dropdownMenuClass}-end`;\nconst verticalClass = [dropdownString, dropupString];\nconst horizontalClass = [dropstartString, dropendString];\nconst menuFocusTags = [\"A\", \"BUTTON\"];\n\nconst dropdownDefaults = {\n  offset: 5, // [number] 5(px)\n  display: \"dynamic\", // [dynamic|static]\n};\n\ntype DropdownEventProps = { relatedTarget: Element & EventTarget };\n\n// DROPDOWN CUSTOM EVENTS\n// ======================\nconst showDropdownEvent = createCustomEvent<DropdownEventProps, DropdownEvent>(\n  `show.bs.${dropdownString}`,\n);\nconst shownDropdownEvent = createCustomEvent<DropdownEventProps, DropdownEvent>(\n  `shown.bs.${dropdownString}`,\n);\nconst hideDropdownEvent = createCustomEvent<DropdownEventProps, DropdownEvent>(\n  `hide.bs.${dropdownString}`,\n);\nconst hiddenDropdownEvent = createCustomEvent<\n  DropdownEventProps,\n  DropdownEvent\n>(`hidden.bs.${dropdownString}`);\nconst updatedDropdownEvent = createCustomEvent<\n  DropdownEventProps,\n  DropdownEvent\n>(`updated.bs.${dropdownString}`);\n\n// DROPDOWN PRIVATE METHODS\n// ========================\n/**\n * Apply specific style or class names to a `.dropdown-menu` to automatically\n * accomodate the layout and the page scroll.\n *\n * @param self the `Dropdown` instance\n */\nconst styleDropdown = (self: Dropdown) => {\n  const { element, menu, parentElement, options } = self;\n  const { offset } = options;\n\n  // don't apply any style on mobile view\n  // istanbul ignore else @preserve: this test requires a navbar\n  if (getElementStyle(menu, \"position\") !== \"static\") {\n    const RTL = isRTL(element);\n    // const menuStart = hasClass(menu, dropdownMenuStartClass);\n    const menuEnd = hasClass(menu, dropdownMenuEndClass);\n\n    // reset menu offset and position\n    const resetProps = [\"margin\", \"top\", \"bottom\", \"left\", \"right\"];\n    resetProps.forEach((p) => {\n      // menu.style[p] = '';\n      const style: { [key: string]: string } = {};\n      style[p] = \"\";\n      setElementStyle(menu, style);\n    });\n\n    // set initial position class\n    // take into account .btn-group parent as .dropdown\n    // this requires navbar/btn-group/input-group\n    let positionClass = dropdownClasses.find((c) =>\n      hasClass(parentElement, c)\n    ) ||\n      // istanbul ignore next @preserve: fallback position\n      dropdownString;\n\n    const dropdownMargin: { [key: string]: number[] } = {\n      dropdown: [offset, 0, 0],\n      dropup: [0, 0, offset],\n      dropstart: RTL ? [-1, 0, 0, offset] : [-1, offset, 0],\n      dropend: RTL ? [-1, offset, 0] : [-1, 0, 0, offset],\n    };\n\n    const dropdownPosition: { [key: string]: Partial<CSS4Declaration> } = {\n      dropdown: { top: \"100%\" },\n      dropup: { top: \"auto\", bottom: \"100%\" },\n      dropstart: RTL\n        ? { left: \"100%\", right: \"auto\" }\n        : { left: \"auto\", right: \"100%\" },\n      dropend: RTL\n        ? { left: \"auto\", right: \"100%\" }\n        : { left: \"100%\", right: \"auto\" },\n      menuStart: RTL\n        ? { right: \"0\", left: \"auto\" }\n        : { right: \"auto\", left: \"0\" },\n      menuEnd: RTL\n        ? { right: \"auto\", left: \"0\" }\n        : { right: \"0\", left: \"auto\" },\n    };\n\n    const { offsetWidth: menuWidth, offsetHeight: menuHeight } = menu;\n\n    const { clientWidth, clientHeight } = getDocumentElement(element);\n    const {\n      left: targetLeft,\n      top: targetTop,\n      width: targetWidth,\n      height: targetHeight,\n    } = getBoundingClientRect(element);\n\n    // dropstart | dropend\n    const leftFullExceed = targetLeft - menuWidth - offset < 0;\n    // dropend\n    const rightFullExceed =\n      targetLeft + menuWidth + targetWidth + offset >= clientWidth;\n    // dropstart | dropend\n    const bottomExceed = targetTop + menuHeight + offset >= clientHeight;\n    // dropdown\n    const bottomFullExceed =\n      targetTop + menuHeight + targetHeight + offset >= clientHeight;\n    // dropup\n    const topExceed = targetTop - menuHeight - offset < 0;\n    // dropdown / dropup\n    const leftExceed = ((!RTL && menuEnd) || (RTL && !menuEnd)) &&\n      targetLeft + targetWidth - menuWidth < 0;\n    const rightExceed = ((RTL && menuEnd) || (!RTL && !menuEnd)) &&\n      targetLeft + menuWidth >= clientWidth;\n\n    // recompute position\n    // handle RTL as well\n    if (\n      horizontalClass.includes(positionClass) && leftFullExceed &&\n      rightFullExceed\n    ) {\n      positionClass = dropdownString;\n    }\n    if (\n      positionClass === dropstartString &&\n      (!RTL ? leftFullExceed : rightFullExceed)\n    ) {\n      positionClass = dropendString;\n    }\n    if (\n      positionClass === dropendString &&\n      (RTL ? leftFullExceed : rightFullExceed)\n    ) {\n      positionClass = dropstartString;\n    }\n    if (positionClass === dropupString && topExceed && !bottomFullExceed) {\n      positionClass = dropdownString;\n    }\n    if (positionClass === dropdownString && bottomFullExceed && !topExceed) {\n      positionClass = dropupString;\n    }\n\n    // override position for horizontal classes\n    if (horizontalClass.includes(positionClass) && bottomExceed) {\n      ObjectAssign(dropdownPosition[positionClass], {\n        top: \"auto\",\n        bottom: 0,\n      });\n    }\n\n    // override position for vertical classes\n    if (verticalClass.includes(positionClass) && (leftExceed || rightExceed)) {\n      // don't realign when menu is wider than window\n      // in both RTL and non-RTL readability is KING\n      let posAjust:\n        | { left: \"auto\" | number; right: \"auto\" | number }\n        | undefined = { left: \"auto\", right: \"auto\" };\n      // istanbul ignore else @preserve\n      if (!leftExceed && rightExceed && !RTL) {\n        posAjust = { left: \"auto\", right: 0 };\n      }\n      // istanbul ignore else @preserve\n      if (leftExceed && !rightExceed && RTL) {\n        posAjust = { left: 0, right: \"auto\" };\n      }\n      // istanbul ignore else @preserve\n      if (posAjust) {\n        ObjectAssign(dropdownPosition[positionClass], posAjust);\n      }\n    }\n\n    const margins: number[] = dropdownMargin[positionClass];\n    setElementStyle(menu, {\n      ...dropdownPosition[positionClass],\n      margin: `${margins.map((x) => (x ? `${x}px` : x)).join(\" \")}`,\n    });\n\n    // override dropdown-menu-start | dropdown-menu-end\n    if (verticalClass.includes(positionClass) && menuEnd) {\n      // istanbul ignore else @preserve\n      if (menuEnd) {\n        const endAdjust = (!RTL && leftExceed) || (RTL && rightExceed)\n          ? \"menuStart\"\n          : /* istanbul ignore next @preserve */ \"menuEnd\";\n        setElementStyle(menu, dropdownPosition[endAdjust]);\n      }\n    }\n    // trigger updated event\n    dispatchEvent(parentElement, updatedDropdownEvent);\n  }\n};\n\n/**\n * Returns an `Array` of focusable items in the given dropdown-menu.\n *\n * @param menu the target menu\n * @returns all children of the dropdown menu\n */\nconst getMenuItems = (menu: HTMLElement) => {\n  return Array.from(menu.children)\n    .map((c) => {\n      if (c && menuFocusTags.includes(c.tagName)) return c as HTMLElement;\n      const { firstElementChild } = c;\n      if (\n        firstElementChild && menuFocusTags.includes(firstElementChild.tagName)\n      ) {\n        return firstElementChild as HTMLElement;\n      }\n      return null;\n    })\n    .filter((c) => c);\n};\n\n/**\n * Toggles on/off the listeners for the events that close the dropdown\n * as well as event that request a new position for the dropdown.\n *\n * @param {Dropdown} self the `Dropdown` instance\n */\nconst toggleDropdownDismiss = (self: Dropdown) => {\n  const { element, options, menu } = self;\n  const action = self.open ? addListener : removeListener;\n  const doc = getDocument(element);\n\n  action(doc, mouseclickEvent, dropdownDismissHandler);\n  action(doc, focusEvent, dropdownDismissHandler);\n  action(doc, keydownEvent, dropdownPreventScroll);\n  action(doc, keyupEvent, dropdownKeyHandler);\n\n  // istanbul ignore else @preserve\n  if (options.display === \"dynamic\") {\n    if (self.open) self._observer.observe(menu);\n    else self._observer.disconnect();\n  }\n};\n\n/**\n * Returns the currently open `.dropdown` element.\n *\n * @param element target\n * @returns the query result\n */\nconst getCurrentOpenDropdown = (\n  element: Element,\n): Element | undefined => {\n  const currentParent = [...dropdownClasses, \"btn-group\", \"input-group\"]\n    .map((c) =>\n      getElementsByClassName(`${c} ${showClass}`, getDocument(element))\n    )\n    .find((x) => x.length);\n\n  if (currentParent && currentParent.length) {\n    return [...(currentParent[0].children as HTMLCollectionOf<Element>)]\n      .find((x) =>\n        dropdownClasses.some((c) => c === getAttribute(x, dataBsToggle))\n      );\n  }\n  return undefined;\n};\n\n// DROPDOWN EVENT HANDLERS\n// =======================\n/**\n * Handles the `click` event for the `Dropdown` instance.\n *\n * @param e event object\n */\nconst dropdownDismissHandler = (e: MouseEvent) => {\n  const { target, type } = e;\n\n  // istanbul ignore if @preserve\n  if (!isHTMLElement(target)) return;\n\n  // some weird FF bug #409\n  const element = getCurrentOpenDropdown(target);\n  const self = element && getDropdownInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  const { parentElement, menu } = self;\n\n  const isForm = parentElement &&\n    parentElement.contains(target) &&\n    (target.tagName === \"form\" || closest(target, \"form\") !== null);\n\n  if (\n    [mouseclickEvent, mousedownEvent].includes(type) &&\n    isEmptyAnchor(target)\n  ) {\n    e.preventDefault();\n  }\n\n  // istanbul ignore else @preserve\n  if (\n    !isForm && type !== focusEvent && target !== element && target !== menu\n  ) {\n    self.hide();\n  }\n};\n\n/**\n * Handles `click` event listener for `Dropdown`.\n *\n * @param e event object\n */\nconst dropdownClickHandler = (e: MouseEvent<HTMLElement>) => {\n  const { target } = e;\n  const element = target && closest(target, dropdownSelector);\n  const self = element && getDropdownInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  e.stopPropagation();\n  self.toggle();\n  // istanbul ignore else @preserve\n  if (element && isEmptyAnchor(element)) e.preventDefault();\n};\n\n/**\n * Prevents scroll when dropdown-menu is visible.\n *\n * @param e event object\n */\nconst dropdownPreventScroll = (e: KeyboardEvent) => {\n  // istanbul ignore else @preserve\n  if ([keyArrowDown, keyArrowUp].includes(e.code)) e.preventDefault();\n};\n\n/**\n * Handles keyboard `keydown` events for `Dropdown`.\n *\n * @param e keyboard key\n */\nfunction dropdownKeyHandler(this: Element, e: KeyboardEvent) {\n  const { code } = e;\n  const element = getCurrentOpenDropdown(this) as HTMLElement;\n  /* istanbul ignore if @preserve */\n  if (!element) return;\n\n  const self = getDropdownInstance(element);\n  const { activeElement } = getDocument(element) as Document & {\n    activeElement: HTMLElement;\n  };\n\n  // istanbul ignore if @preserve\n  if (!self || !activeElement) return;\n\n  const { menu, open } = self;\n  const menuItems = getMenuItems(menu);\n\n  // arrow up & down\n  if (\n    menuItems && menuItems.length && [keyArrowDown, keyArrowUp].includes(code)\n  ) {\n    let idx = menuItems.indexOf(activeElement);\n    // istanbul ignore else @preserve\n    if (activeElement === element) {\n      idx = 0;\n    } else if (code === keyArrowUp) {\n      idx = idx > 1 ? idx - 1 : 0;\n    } else if (code === keyArrowDown) {\n      idx = idx < menuItems.length - 1 ? idx + 1 : idx;\n    }\n    // istanbul ignore else @preserve\n    if (menuItems[idx]) focus(menuItems[idx] as HTMLElement);\n  }\n\n  if (keyEscape === code && open) {\n    self.toggle();\n    focus(element);\n  }\n}\n\n/** Handles dropdown layout changes during resize / scroll. */\nfunction dropdownIntersectionHandler(target: Element) {\n  const element = getCurrentOpenDropdown(target);\n  const self = element && getDropdownInstance(element);\n\n  // istanbul ignore else @preserve\n  if (self && self.open) styleDropdown(self);\n}\n\n// DROPDOWN DEFINITION\n// ===================\n/** Returns a new Dropdown instance. */\nexport default class Dropdown extends BaseComponent {\n  static selector = dropdownSelector;\n  static init = dropdownInitCallback;\n  static getInstance = getDropdownInstance;\n  declare element: HTMLElement;\n  declare options: DropdownOptions;\n  declare open: boolean;\n  declare parentElement: HTMLElement;\n  declare menu: HTMLElement;\n  declare _observer: IntersectionObserver;\n\n  /**\n   * @param target Element or string selector\n   * @param config the instance options\n   */\n  constructor(target: Element | string, config?: Partial<DropdownOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { parentElement } = this.element;\n    const [menu] = getElementsByClassName<HTMLElement>(\n      dropdownMenuClass,\n      parentElement as ParentNode,\n    );\n\n    // invalidate when dropdown-menu is missing\n    // istanbul ignore if @preserve\n    if (!menu) return;\n\n    // set targets\n    this.parentElement = parentElement as HTMLElement;\n    this.menu = menu;\n    this._observer = new IntersectionObserver(\n      ([entry]) => dropdownIntersectionHandler(entry.target),\n      { threshold: 1 },\n    );\n\n    // add event listener\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return dropdownComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return dropdownDefaults;\n  }\n\n  // DROPDOWN PUBLIC METHODS\n  // =======================\n  /** Shows/hides the dropdown menu to the user. */\n  toggle() {\n    if (this.open) this.hide();\n    else this.show();\n  }\n\n  /** Shows the dropdown menu to the user. */\n  show() {\n    const { element, open, menu, parentElement } = this;\n\n    // istanbul ignore if @preserve\n    if (open) return;\n    const currentElement = getCurrentOpenDropdown(element);\n    const currentInstance = currentElement &&\n      getDropdownInstance(currentElement);\n    if (currentInstance) currentInstance.hide();\n\n    // dispatch event\n    [showDropdownEvent, shownDropdownEvent, updatedDropdownEvent].forEach(\n      (e) => {\n        e.relatedTarget = element;\n      },\n    );\n\n    dispatchEvent(parentElement, showDropdownEvent);\n    // istanbul ignore if @preserve\n    if (showDropdownEvent.defaultPrevented) return;\n\n    addClass(menu, showClass);\n    addClass(parentElement, showClass);\n    setAttribute(element, ariaExpanded, \"true\");\n\n    // change menu position\n    styleDropdown(this);\n\n    this.open = !open;\n\n    focus(element); // focus the element\n    toggleDropdownDismiss(this);\n    dispatchEvent(parentElement, shownDropdownEvent);\n  }\n\n  /** Hides the dropdown menu from the user. */\n  hide() {\n    const { element, open, menu, parentElement } = this;\n\n    // istanbul ignore if @preserve\n    if (!open) return;\n\n    [hideDropdownEvent, hiddenDropdownEvent].forEach((e) => {\n      e.relatedTarget = element as HTMLElement;\n    });\n\n    dispatchEvent(parentElement, hideDropdownEvent);\n    // istanbul ignore if @preserve\n    if (hideDropdownEvent.defaultPrevented) return;\n\n    removeClass(menu, showClass);\n    removeClass(parentElement, showClass);\n    setAttribute(element, ariaExpanded, \"false\");\n\n    this.open = !open;\n    // only re-attach handler if the instance is not disposed\n    toggleDropdownDismiss(this);\n    dispatchEvent(parentElement, hiddenDropdownEvent);\n  }\n\n  /**\n   * Toggles on/off the `click` event listener of the `Dropdown`.\n   *\n   * @param add when `true`, it will add the event listener\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    // istanbul ignore else @preserve\n    if (!isDisabled(this.element)) {\n      action(this.element, mouseclickEvent, dropdownClickHandler);\n    }\n  };\n\n  /** Removes the `Dropdown` component from the target element. */\n  dispose() {\n    if (this.open) this.hide();\n\n    this._toggleEventListeners();\n    super.dispose();\n  }\n}\n","/** @type {string} */\nconst modalString = \"modal\";\nexport default modalString;\n","/** @type {string} */\nconst modalComponent = \"Modal\";\nexport default modalComponent;\n","/** @type {string} */\nconst offcanvasComponent = \"Offcanvas\";\nexport default offcanvasComponent;\n","/**\n * Global namespace for components `fixed-top` class.\n */\nconst fixedTopClass = \"fixed-top\";\nexport default fixedTopClass;\n","/**\n * Global namespace for components `fixed-bottom` class.\n */\nconst fixedBottomClass = \"fixed-bottom\";\nexport default fixedBottomClass;\n","/**\n * Global namespace for components `sticky-top` class.\n */\nconst stickyTopClass = \"sticky-top\";\nexport default stickyTopClass;\n","/**\n * Global namespace for components `position-sticky` class.\n */\nconst positionStickyClass = \"position-sticky\";\nexport default positionStickyClass;\n","import {\n  getDocumentBody,\n  getDocumentElement,\n  getElementsByClassName,\n  getElementStyle,\n  getWindow,\n  hasClass,\n  setElementStyle,\n} from \"@thednp/shorty\";\n\nimport fixedTopClass from \"../strings/fixedTopClass\";\nimport fixedBottomClass from \"../strings/fixedBottomClass\";\nimport stickyTopClass from \"../strings/stickyTopClass\";\nimport positionStickyClass from \"../strings/positionStickyClass\";\n\nconst getFixedItems = (parent?: ParentNode) => [\n  ...getElementsByClassName<HTMLElement>(fixedTopClass, parent),\n  ...getElementsByClassName<HTMLElement>(fixedBottomClass, parent),\n  ...getElementsByClassName<HTMLElement>(stickyTopClass, parent),\n  ...getElementsByClassName<HTMLElement>(positionStickyClass, parent),\n  ...getElementsByClassName<HTMLElement>(\"is-fixed\", parent),\n];\n\n/**\n * Removes *padding* and *overflow* from the `<body>`\n * and all spacing from fixed items.\n *\n * @param element the target modal/offcanvas\n */\nexport const resetScrollbar = (element?: Element) => {\n  const bd = getDocumentBody(element);\n  setElementStyle(bd, {\n    paddingRight: \"\",\n    overflow: \"\",\n  });\n\n  const fixedItems = getFixedItems(bd);\n\n  // istanbul ignore else @preserve\n  if (fixedItems.length) {\n    fixedItems.forEach((fixed) => {\n      setElementStyle(fixed, {\n        paddingRight: \"\",\n        marginRight: \"\",\n      });\n    });\n  }\n};\n\n/**\n * Returns the scrollbar width if the body does overflow\n * the window.\n *\n * @param element target element\n * @returns the scrollbar width value\n */\nexport const measureScrollbar = (element: Element) => {\n  const { clientWidth } = getDocumentElement(element);\n  const { innerWidth } = getWindow(element);\n  return Math.abs(innerWidth - clientWidth);\n};\n\n/**\n * Sets the `<body>` and fixed items style when modal / offcanvas\n * is shown to the user.\n *\n * @param element the target modal/offcanvas\n * @param overflow body does overflow or not\n */\nexport const setScrollbar = (element: Element, overflow?: boolean) => {\n  const bd = getDocumentBody(element);\n  const bodyPad = parseInt(getElementStyle(bd, \"paddingRight\"), 10);\n  const isOpen = getElementStyle(bd, \"overflow\") === \"hidden\";\n  const sbWidth = isOpen && bodyPad\n    ? /* istanbul ignore next */ 0\n    : measureScrollbar(element);\n  const fixedItems = getFixedItems(bd);\n\n  // istanbul ignore if @preserve\n  if (!overflow) return;\n\n  setElementStyle(bd, {\n    overflow: \"hidden\",\n    paddingRight: `${bodyPad + sbWidth}px`,\n  });\n\n  // istanbul ignore if @preserve\n  if (!fixedItems.length) return;\n\n  fixedItems.forEach((fixed) => {\n    const itemPadValue = getElementStyle(fixed, \"paddingRight\");\n    fixed.style.paddingRight = `${parseInt(itemPadValue, 10) + sbWidth}px`;\n    // istanbul ignore else @preserve\n    if (\n      [stickyTopClass, positionStickyClass].some((c) => hasClass(fixed, c))\n    ) {\n      const itemMValue = getElementStyle(fixed, \"marginRight\");\n      fixed.style.marginRight = `${parseInt(itemMValue, 10) - sbWidth}px`;\n    }\n  });\n};\n","/** @type {string} */\nconst offcanvasString = \"offcanvas\";\nexport default offcanvasString;\n","import { createElement, getDocumentBody, isNode } from \"@thednp/shorty\";\n\n// the default container for Modal, Offcanvas, Popover and Tooltip\nconst popupContainer = createElement({\n  tagName: \"div\",\n  className: \"popup-container\",\n}) as HTMLElement;\n\nconst appendPopup = (target: Element, customContainer?: ParentNode) => {\n  const containerIsBody = isNode(customContainer) &&\n    customContainer.nodeName === \"BODY\";\n  const lookup = isNode(customContainer) && !containerIsBody\n    ? customContainer\n    : popupContainer;\n  const BODY = containerIsBody ? customContainer : getDocumentBody(target);\n\n  // istanbul ignore else @preserve\n  if (isNode(target)) {\n    if (lookup === popupContainer) {\n      BODY.append(popupContainer);\n    }\n    lookup.append(target);\n  }\n};\n\nconst removePopup = (target: Element, customContainer?: ParentNode) => {\n  const containerIsBody = isNode(customContainer) &&\n    customContainer.nodeName === \"BODY\";\n  const lookup = isNode(customContainer) && !containerIsBody\n    ? customContainer\n    : popupContainer;\n\n  // istanbul ignore else @preserve\n  if (isNode(target)) {\n    target.remove();\n\n    if (lookup === popupContainer && !popupContainer.children.length) {\n      popupContainer.remove();\n    }\n  }\n};\n\nconst hasPopup = (target: Element, customContainer?: ParentNode) => {\n  const lookup = isNode(customContainer) && customContainer.nodeName !== \"BODY\"\n    ? customContainer\n    : popupContainer;\n  return isNode(target) && lookup.contains(target);\n};\n\nexport { appendPopup, hasPopup, popupContainer, removePopup };\n","import {\n  addClass,\n  createElement,\n  getDocument,\n  getDocumentBody,\n  hasClass,\n  querySelector,\n  reflow,\n  removeClass,\n} from \"@thednp/shorty\";\n\nimport fadeClass from \"../strings/fadeClass\";\nimport showClass from \"../strings/showClass\";\nimport modalString from \"../strings/modalString\";\nimport offcanvasString from \"../strings/offcanvasString\";\nimport { resetScrollbar } from \"./scrollbar\";\nimport { appendPopup, removePopup } from \"./popupContainer\";\n\nconst backdropString = \"backdrop\";\nconst modalBackdropClass = `${modalString}-${backdropString}`;\nconst offcanvasBackdropClass = `${offcanvasString}-${backdropString}`;\nconst modalActiveSelector = `.${modalString}.${showClass}`;\nconst offcanvasActiveSelector = `.${offcanvasString}.${showClass}`;\n\n// any document would suffice\nconst overlay = createElement(\"div\") as HTMLElement;\n\n/**\n * Returns the current active modal / offcancas element.\n *\n * @param element the context element\n * @returns the requested element\n */\nconst getCurrentOpen = (element?: Element) => {\n  return querySelector(\n    `${modalActiveSelector},${offcanvasActiveSelector}`,\n    getDocument(element),\n  );\n};\n\n/**\n * Toogles from a Modal overlay to an Offcanvas, or vice-versa.\n *\n * @param isModal\n */\nconst toggleOverlayType = (isModal?: boolean) => {\n  const targetClass = isModal ? modalBackdropClass : offcanvasBackdropClass;\n  [modalBackdropClass, offcanvasBackdropClass].forEach((c) => {\n    removeClass(overlay, c);\n  });\n  addClass(overlay, targetClass);\n};\n\n/**\n * Append the overlay to DOM.\n *\n * @param element\n * @param hasFade\n * @param isModal\n */\nconst appendOverlay = (\n  element: Element,\n  hasFade: boolean,\n  isModal?: boolean,\n) => {\n  toggleOverlayType(isModal);\n  appendPopup(overlay, getDocumentBody(element));\n  if (hasFade) addClass(overlay, fadeClass);\n};\n\n/**\n * Shows the overlay to the user.\n */\nconst showOverlay = () => {\n  if (!hasClass(overlay, showClass)) {\n    addClass(overlay, showClass);\n    reflow(overlay);\n  }\n};\n\n/**\n * Hides the overlay from the user.\n */\nconst hideOverlay = () => {\n  removeClass(overlay, showClass);\n};\n\n/**\n * Removes the overlay from DOM.\n *\n * @param element\n */\nconst removeOverlay = (element?: Element): void => {\n  if (!getCurrentOpen(element)) {\n    removeClass(overlay, fadeClass);\n    removePopup(overlay, getDocumentBody(element));\n    resetScrollbar(element);\n  }\n};\n\nexport {\n  appendOverlay,\n  getCurrentOpen,\n  hideOverlay,\n  modalActiveSelector,\n  modalBackdropClass,\n  offcanvasActiveSelector,\n  offcanvasBackdropClass,\n  overlay,\n  removeOverlay,\n  showOverlay,\n  toggleOverlayType,\n};\n","import { getElementStyle, isHTMLElement } from \"@thednp/shorty\";\n\n/**\n * @param element target\n * @returns the check result\n */\nconst isVisible = (element: HTMLElement) => {\n  return isHTMLElement(element) &&\n    getElementStyle(element, \"visibility\") !== \"hidden\" &&\n    element.offsetParent !== null;\n};\nexport default isVisible;\n","/* Native JavaScript for Bootstrap 5 | Modal\n-------------------------------------------- */\nimport {\n  addClass,\n  ariaHidden,\n  ariaModal,\n  closest,\n  createCustomEvent,\n  CSS4Declaration,\n  dispatchEvent,\n  emulateTransitionEnd,\n  focus,\n  getDocument,\n  getDocumentBody,\n  getDocumentElement,\n  getElementTransitionDuration,\n  getInstance,\n  hasClass,\n  isRTL,\n  KeyboardEvent,\n  keydownEvent,\n  keyEscape,\n  mouseclickEvent,\n  MouseEvent,\n  querySelector,\n  querySelectorAll,\n  removeAttribute,\n  removeClass,\n  setAttribute,\n  setElementStyle,\n  Timer,\n  toggleFocusTrap,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport dataBsDismiss from \"~/strings/dataBsDismiss\";\nimport fadeClass from \"~/strings/fadeClass\";\nimport showClass from \"~/strings/showClass\";\nimport modalString from \"~/strings/modalString\";\nimport modalComponent from \"~/strings/modalComponent\";\nimport offcanvasComponent from \"~/strings/offcanvasComponent\";\nimport getTargetElement from \"~/util/getTargetElement\";\nimport { measureScrollbar, setScrollbar } from \"~/util/scrollbar\";\nimport {\n  appendOverlay,\n  getCurrentOpen,\n  hideOverlay,\n  modalActiveSelector,\n  overlay,\n  removeOverlay,\n  showOverlay,\n  toggleOverlayType,\n} from \"~/util/backdrop\";\nimport isVisible from \"~/util/isVisible\";\nimport { hasPopup } from \"~/util/popupContainer\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport { ModalEvent, ModalOptions } from \"~/interface/modal\";\n\n// MODAL PRIVATE GC\n// ================\nconst modalSelector = `.${modalString}`;\nconst modalToggleSelector = `[${dataBsToggle}=\"${modalString}\"]`;\nconst modalDismissSelector = `[${dataBsDismiss}=\"${modalString}\"]`;\nconst modalStaticClass = `${modalString}-static`;\n\nconst modalDefaults = {\n  backdrop: true,\n  keyboard: true,\n};\n\ntype ModalEventProps = {\n  relatedTarget: Element & EventTarget | null;\n};\n\n/**\n * Static method which returns an existing `Modal` instance associated\n * to a target `Element`.\n */\nconst getModalInstance = (element: Element) =>\n  getInstance<Modal>(element, modalComponent);\n\n/**\n * A `Modal` initialization callback.\n */\nconst modalInitCallback = (element: Element) => new Modal(element);\n\n// MODAL CUSTOM EVENTS\n// ===================\nconst showModalEvent = createCustomEvent<ModalEventProps, ModalEvent>(\n  `show.bs.${modalString}`,\n);\nconst shownModalEvent = createCustomEvent<ModalEventProps, ModalEvent>(\n  `shown.bs.${modalString}`,\n);\nconst hideModalEvent = createCustomEvent<ModalEventProps, ModalEvent>(\n  `hide.bs.${modalString}`,\n);\nconst hiddenModalEvent = createCustomEvent<ModalEventProps, ModalEvent>(\n  `hidden.bs.${modalString}`,\n);\n\n// MODAL PRIVATE METHODS\n// =====================\n/**\n * Applies special style for the `<body>` and fixed elements\n * when a modal instance is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst setModalScrollbar = (self: Modal) => {\n  const { element } = self;\n  const scrollbarWidth = measureScrollbar(element);\n  const { clientHeight, scrollHeight } = getDocumentElement(element);\n  const { clientHeight: modalHeight, scrollHeight: modalScrollHeight } =\n    element;\n  const modalOverflow = modalHeight !== modalScrollHeight;\n\n  // istanbul ignore next @preserve: impossible to test?\n  if (!modalOverflow && scrollbarWidth) {\n    const pad = !isRTL(element)\n      ? \"paddingRight\"\n      // istanbul ignore next @preserve\n      : \"paddingLeft\";\n    const padStyle = { [pad]: `${scrollbarWidth}px` } as Partial<\n      CSS4Declaration\n    >;\n    setElementStyle(element, padStyle);\n  }\n  setScrollbar(element, modalOverflow || clientHeight !== scrollHeight);\n};\n\n/**\n * Toggles on/off the listeners of events that close the modal.\n *\n * @param self the `Modal` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleModalDismiss = (self: Modal, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element } = self;\n  action(element, mouseclickEvent, modalDismissHandler);\n  action(getDocument(element), keydownEvent, modalKeyHandler);\n\n  if (add) self._observer.observe(element);\n  else self._observer.disconnect();\n};\n\n/**\n * Executes after a modal is hidden to the user.\n *\n * @param self the `Modal` instance\n */\nconst afterModalHide = (self: Modal) => {\n  const { triggers, element, relatedTarget } = self;\n  removeOverlay(element);\n  setElementStyle(element, { paddingRight: \"\", display: \"\" });\n  toggleModalDismiss(self);\n\n  const focusElement = showModalEvent.relatedTarget || triggers.find(isVisible);\n  // istanbul ignore else @preserve\n  if (focusElement) focus(focusElement);\n\n  hiddenModalEvent.relatedTarget = relatedTarget || undefined;\n  dispatchEvent(element, hiddenModalEvent);\n  toggleFocusTrap(element);\n};\n\n/**\n * Executes after a modal is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst afterModalShow = (self: Modal) => {\n  const { element, relatedTarget } = self;\n  focus(element as HTMLElement);\n  toggleModalDismiss(self, true);\n\n  shownModalEvent.relatedTarget = relatedTarget || undefined;\n  dispatchEvent(element, shownModalEvent);\n  toggleFocusTrap(element);\n};\n\n/**\n * Executes before a modal is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst beforeModalShow = (self: Modal) => {\n  const { element, hasFade } = self;\n  setElementStyle(element, { display: \"block\" });\n  setModalScrollbar(self);\n  // istanbul ignore else @preserve\n  if (!getCurrentOpen(element)) {\n    setElementStyle(getDocumentBody(element), { overflow: \"hidden\" });\n  }\n\n  addClass(element, showClass);\n  removeAttribute(element, ariaHidden);\n  setAttribute(element, ariaModal, \"true\");\n\n  if (hasFade) emulateTransitionEnd(element, () => afterModalShow(self));\n  else afterModalShow(self);\n};\n\n/**\n * Executes before a modal is hidden to the user.\n *\n * @param self the `Modal` instance\n */\nconst beforeModalHide = (self: Modal) => {\n  const { element, options, hasFade } = self;\n\n  // callback can also be the transitionEvent object, we wanna make sure it's not\n  // call is not forced and overlay is visible\n  if (\n    options.backdrop && hasFade && hasClass(overlay, showClass) &&\n    !getCurrentOpen(element)\n  ) {\n    // AND no modal is visible\n    hideOverlay();\n    emulateTransitionEnd(overlay, () => afterModalHide(self));\n  } else {\n    afterModalHide(self);\n  }\n};\n\n// MODAL EVENT HANDLERS\n// ====================\n/**\n * Handles the `click` event listener for modal.\n *\n * @param e the `Event` object\n */\nconst modalClickHandler = (e: MouseEvent<HTMLElement>) => {\n  const { target } = e;\n\n  const trigger = target && closest(target, modalToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getModalInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  // istanbul ignore else @preserve\n  if (trigger && trigger.tagName === \"A\") e.preventDefault();\n  self.relatedTarget = trigger;\n  self.toggle();\n};\n\n/**\n * Handles the `keydown` event listener for modal\n * to hide the modal when user type the `ESC` key.\n *\n * @param e the `Event` object\n */\nconst modalKeyHandler = ({ code, target }: KeyboardEvent<Element>) => {\n  const element = querySelector(modalActiveSelector, getDocument(target));\n  const self = element && getModalInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  const { options } = self;\n  // istanbul ignore else @preserve\n  if (\n    options.keyboard &&\n    code === keyEscape && // the keyboard option is enabled and the key is 27\n    hasClass(element, showClass)\n  ) {\n    // the modal is not visible\n    self.relatedTarget = null;\n    self.hide();\n  }\n};\n\n/**\n * Handles the `click` event listeners that hide the modal.\n *\n * @param e the `Event` object\n */\nconst modalDismissHandler = (e: MouseEvent<HTMLElement>) => {\n  const { currentTarget } = e;\n  const self = currentTarget && getModalInstance(currentTarget);\n\n  // the timer is needed\n  // istanbul ignore if @preserve\n  if (!self || !currentTarget || Timer.get(currentTarget)) return;\n\n  const { options, isStatic, modalDialog } = self;\n  const { backdrop } = options;\n  const { target } = e;\n\n  const selectedText = getDocument(currentTarget)?.getSelection()?.toString()\n    .length;\n  const targetInsideDialog = modalDialog.contains(target);\n  const dismiss = target && closest(target, modalDismissSelector);\n\n  // istanbul ignore else @preserve\n  if (isStatic && !targetInsideDialog) {\n    Timer.set(\n      currentTarget,\n      () => {\n        addClass(currentTarget, modalStaticClass);\n        emulateTransitionEnd(modalDialog, () => staticTransitionEnd(self));\n      },\n      17,\n    );\n  } else if (\n    dismiss || (!selectedText && !isStatic && !targetInsideDialog && backdrop)\n  ) {\n    self.relatedTarget = dismiss || null;\n    self.hide();\n    e.preventDefault();\n  }\n};\n\n/**\n * Handles the `transitionend` event listeners for `Modal`.\n *\n * @param self the `Modal` instance\n */\nconst staticTransitionEnd = (self: Modal) => {\n  const { element, modalDialog } = self;\n  const duration = (getElementTransitionDuration(modalDialog) || 0) + 17;\n  removeClass(element, modalStaticClass);\n  // user must wait for zoom out transition\n  Timer.set(element, () => Timer.clear(element), duration);\n};\n\n// MODAL DEFINITION\n// ================\n/** Returns a new `Modal` instance. */\nexport default class Modal extends BaseComponent {\n  static selector = modalSelector;\n  static init = modalInitCallback;\n  static getInstance = getModalInstance;\n  declare element: HTMLElement;\n  declare options: ModalOptions;\n  declare modalDialog: HTMLElement;\n  declare triggers: HTMLElement[];\n  declare isStatic: boolean;\n  declare hasFade: boolean;\n  declare relatedTarget: EventTarget & HTMLElement | null;\n  declare _observer: ResizeObserver;\n\n  /**\n   * @param target usually the `.modal` element\n   * @param config instance options\n   */\n  constructor(target: Element | string, config?: Partial<ModalOptions>) {\n    super(target, config);\n\n    // the modal\n    const { element } = this;\n\n    // the modal-dialog\n    const modalDialog = querySelector<HTMLElement>(\n      `.${modalString}-dialog`,\n      element,\n    );\n\n    // istanbul ignore if @preserve\n    if (!modalDialog) return;\n\n    this.modalDialog = modalDialog;\n    // modal can have multiple triggering elements\n    this.triggers = [\n      ...querySelectorAll<HTMLElement>(\n        modalToggleSelector,\n        getDocument(element),\n      ),\n    ].filter(\n      (btn) => getTargetElement(btn) === element,\n    );\n\n    // additional internals\n    this.isStatic = this.options.backdrop === \"static\";\n    this.hasFade = hasClass(element, fadeClass);\n    this.relatedTarget = null;\n    this._observer = new ResizeObserver(() => this.update());\n\n    // attach event listeners\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return modalComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return modalDefaults;\n  }\n\n  // MODAL PUBLIC METHODS\n  // ====================\n  /** Toggles the visibility of the modal. */\n  toggle() {\n    if (hasClass(this.element, showClass)) this.hide();\n    else this.show();\n  }\n\n  /** Shows the modal to the user. */\n  show() {\n    const { element, options, hasFade, relatedTarget } = this;\n    const { backdrop } = options;\n    let overlayDelay = 0;\n\n    // istanbul ignore if @preserve\n    if (hasClass(element, showClass)) return;\n\n    showModalEvent.relatedTarget = relatedTarget || undefined;\n    dispatchEvent(element, showModalEvent);\n\n    // allow the event to be prevented\n    // istanbul ignore else @preserve\n    if (showModalEvent.defaultPrevented) return;\n\n    // we elegantly hide any opened modal/offcanvas\n    const currentOpen = getCurrentOpen(element);\n\n    // istanbul ignore else @preserve\n    if (currentOpen && currentOpen !== element) {\n      const that = getModalInstance(currentOpen) ||\n        // istanbul ignore next @preserve\n        getInstance<typeof BaseComponent & { hide: () => void }>(\n          currentOpen,\n          offcanvasComponent,\n        );\n      // istanbul ignore else @preserve\n      if (that) that.hide();\n    }\n    if (backdrop) {\n      if (!hasPopup(overlay)) {\n        appendOverlay(element, hasFade, true);\n      } else {\n        toggleOverlayType(true);\n      }\n\n      overlayDelay = getElementTransitionDuration(overlay);\n      showOverlay();\n\n      setTimeout(() => beforeModalShow(this), overlayDelay);\n    } else {\n      beforeModalShow(this);\n      // istanbul ignore else @preserve\n      if (currentOpen && hasClass(overlay, showClass)) {\n        hideOverlay();\n      }\n    }\n  }\n\n  /** Hide the modal from the user. */\n  hide() {\n    const { element, hasFade, relatedTarget } = this;\n\n    // istanbul ignore if @preserve\n    if (!hasClass(element, showClass)) return;\n\n    hideModalEvent.relatedTarget = relatedTarget || undefined;\n    dispatchEvent(element, hideModalEvent);\n\n    // istanbul ignore if @preserve\n    if (hideModalEvent.defaultPrevented) return;\n\n    removeClass(element, showClass);\n    setAttribute(element, ariaHidden, \"true\");\n    removeAttribute(element, ariaModal);\n\n    if (hasFade) emulateTransitionEnd(element, () => beforeModalHide(this));\n    else beforeModalHide(this);\n  }\n\n  /**\n   * Updates the modal layout.\n   */\n  update = () => {\n    // istanbul ignore else @preserve\n    if (hasClass(this.element, showClass)) setModalScrollbar(this);\n  };\n\n  /**\n   * Toggles on/off the `click` event listener of the `Modal` instance.\n   *\n   * @param add when `true`, event listener(s) is/are added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    const { triggers } = this;\n\n    // istanbul ignore if @preserve\n    if (!triggers.length) return;\n\n    triggers.forEach((btn) => {\n      // istanbul ignore else @preserve\n      if (!isDisabled(btn)) action(btn, mouseclickEvent, modalClickHandler);\n    });\n  };\n\n  /** Removes the `Modal` component from target element. */\n  dispose() {\n    const clone = { ...this };\n    const { modalDialog, hasFade } = clone;\n    const callback = () => setTimeout(() => super.dispose(), 17);\n\n    this.hide();\n    this._toggleEventListeners();\n\n    if (hasFade) {\n      // use transitionend callback\n      emulateTransitionEnd(modalDialog, callback);\n    } else {\n      callback();\n    }\n  }\n}\n","/* Native JavaScript for Bootstrap 5 | OffCanvas\n------------------------------------------------ */\nimport {\n  addClass,\n  ariaHidden,\n  ariaModal,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  focus,\n  getDocument,\n  getDocumentBody,\n  getDocumentElement,\n  getElementTransitionDuration,\n  getInstance,\n  hasClass,\n  keydownEvent,\n  keyEscape,\n  mouseclickEvent,\n  MouseEvent,\n  querySelector,\n  querySelectorAll,\n  removeAttribute,\n  removeClass,\n  setAttribute,\n  setElementStyle,\n  toggleFocusTrap,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport dataBsDismiss from \"~/strings/dataBsDismiss\";\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport showClass from \"~/strings/showClass\";\nimport offcanvasString from \"~/strings/offcanvasString\";\nimport offcanvasComponent from \"~/strings/offcanvasComponent\";\nimport modalComponent from \"~/strings/modalComponent\";\n\nimport getTargetElement from \"~/util/getTargetElement\";\nimport isVisible from \"~/util/isVisible\";\nimport { setScrollbar } from \"~/util/scrollbar\";\nimport { hasPopup } from \"~/util/popupContainer\";\nimport {\n  appendOverlay,\n  getCurrentOpen,\n  hideOverlay,\n  offcanvasActiveSelector,\n  overlay,\n  removeOverlay,\n  showOverlay,\n  toggleOverlayType,\n} from \"~/util/backdrop\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport { OffcanvasEvent, OffcanvasOptions } from \"~/interface/offcanvas\";\n\n// OFFCANVAS PRIVATE GC\n// ====================\nconst offcanvasSelector = `.${offcanvasString}`;\nconst offcanvasToggleSelector = `[${dataBsToggle}=\"${offcanvasString}\"]`;\nconst offcanvasDismissSelector = `[${dataBsDismiss}=\"${offcanvasString}\"]`;\nconst offcanvasTogglingClass = `${offcanvasString}-toggling`;\n\nconst offcanvasDefaults = {\n  backdrop: true, // boolean\n  keyboard: true, // boolean\n  scroll: false, // boolean\n};\n\ntype OffCanvasEventProps = {\n  relatedTarget: Element & EventTarget | undefined;\n};\n\n/**\n * Static method which returns an existing `Offcanvas` instance associated\n * to a target `Element`.\n */\nconst getOffcanvasInstance = (element: Element) =>\n  getInstance<Offcanvas>(element, offcanvasComponent);\n\n/**\n * An `Offcanvas` initialization callback.\n */\nconst offcanvasInitCallback = (element: Element) => new Offcanvas(element);\n\n// OFFCANVAS CUSTOM EVENTS\n// =======================\nconst showOffcanvasEvent = createCustomEvent<\n  OffCanvasEventProps,\n  OffcanvasEvent\n>(`show.bs.${offcanvasString}`);\nconst shownOffcanvasEvent = createCustomEvent<\n  OffCanvasEventProps,\n  OffcanvasEvent\n>(`shown.bs.${offcanvasString}`);\nconst hideOffcanvasEvent = createCustomEvent<\n  OffCanvasEventProps,\n  OffcanvasEvent\n>(`hide.bs.${offcanvasString}`);\nconst hiddenOffcanvasEvent = createCustomEvent<\n  OffCanvasEventProps,\n  OffcanvasEvent\n>(`hidden.bs.${offcanvasString}`);\n\n// OFFCANVAS PRIVATE METHODS\n// =========================\n/**\n * Sets additional style for the `<body>` and other elements\n * when showing an offcanvas to the user.\n *\n * @param self the `Offcanvas` instance\n */\nconst setOffCanvasScrollbar = (self: Offcanvas) => {\n  const { element } = self;\n  const { clientHeight, scrollHeight } = getDocumentElement(element);\n  setScrollbar(element, clientHeight !== scrollHeight);\n};\n\n/**\n * Toggles on/off the listeners of the events that close the offcanvas.\n *\n * @param self the `Offcanvas` instance\n * @param add when *true* listeners are added\n */\nconst toggleOffCanvasDismiss = (self: Offcanvas, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const doc = getDocument(self.element);\n  action(doc, keydownEvent, offcanvasKeyDismissHandler);\n  action(doc, mouseclickEvent, offcanvasDismissHandler);\n};\n\n/**\n * Executes before showing the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst beforeOffcanvasShow = (self: Offcanvas) => {\n  const { element, options } = self;\n\n  // istanbul ignore else @preserve\n  if (!options.scroll) {\n    setOffCanvasScrollbar(self);\n    setElementStyle(getDocumentBody(element), { overflow: \"hidden\" });\n  }\n\n  addClass(element, offcanvasTogglingClass);\n  addClass(element, showClass);\n  setElementStyle(element, { visibility: \"visible\" });\n\n  emulateTransitionEnd(element, () => showOffcanvasComplete(self));\n};\n\n/**\n * Executes before hiding the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst beforeOffcanvasHide = (self: Offcanvas) => {\n  const { element, options } = self;\n  const currentOpen = getCurrentOpen(element);\n\n  (element as HTMLElement).blur();\n\n  if (!currentOpen && options.backdrop && hasClass(overlay, showClass)) {\n    hideOverlay();\n  }\n  emulateTransitionEnd(element, () => hideOffcanvasComplete(self));\n};\n\n// OFFCANVAS EVENT HANDLERS\n// ========================\n/**\n * Handles the `click` event listeners.\n *\n * @param e the `Event` object\n */\nconst offcanvasTriggerHandler = (e: MouseEvent<HTMLElement>) => {\n  const trigger = closest(e.target, offcanvasToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getOffcanvasInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  self.relatedTarget = trigger;\n  self.toggle();\n\n  // istanbul ignore else @preserve\n  if (trigger?.tagName === \"A\") e.preventDefault();\n};\n\n/**\n * Handles the event listeners that close the offcanvas.\n *\n * @param e the `Event` object\n */\nconst offcanvasDismissHandler = (e: MouseEvent<HTMLElement>) => {\n  const { target } = e;\n  const element = querySelector(\n    offcanvasActiveSelector,\n    getDocument(target),\n  );\n  // istanbul ignore else @preserve\n  if (!element) return;\n\n  const offCanvasDismiss = querySelector<HTMLElement>(\n    offcanvasDismissSelector,\n    element,\n  );\n  const self = getOffcanvasInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  const { options, triggers } = self;\n  const { backdrop } = options;\n  const trigger = closest(target, offcanvasToggleSelector);\n  const selection = getDocument(element).getSelection();\n\n  // istanbul ignore if: a filter is required here @preserve\n  if (overlay.contains(target) && backdrop === \"static\") return;\n\n  // istanbul ignore else @preserve\n  if (\n    !(selection && selection.toString().length) &&\n    ((!element.contains(target) &&\n      backdrop &&\n      // istanbul ignore next @preserve\n      (!trigger || triggers.includes(target))) ||\n      (offCanvasDismiss &&\n        offCanvasDismiss.contains(target)))\n  ) {\n    self.relatedTarget = offCanvasDismiss && offCanvasDismiss.contains(target)\n      ? offCanvasDismiss\n      : undefined;\n    self.hide();\n  }\n\n  // istanbul ignore next @preserve\n  if (trigger && trigger.tagName === \"A\") e.preventDefault();\n};\n\n/**\n * Handles the `keydown` event listener for offcanvas\n * to hide it when user type the `ESC` key.\n *\n * @param e the `Event` object\n */\nconst offcanvasKeyDismissHandler = ({ code, target }: KeyboardEvent) => {\n  const element = querySelector(\n    offcanvasActiveSelector,\n    getDocument(target as Node),\n  );\n  const self = element && getOffcanvasInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n\n  // istanbul ignore else @preserve\n  if (self.options.keyboard && code === keyEscape) {\n    self.relatedTarget = undefined;\n    self.hide();\n  }\n};\n\n/**\n * Handles the `transitionend` when showing the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst showOffcanvasComplete = (self: Offcanvas) => {\n  const { element } = self;\n  removeClass(element, offcanvasTogglingClass);\n\n  removeAttribute(element, ariaHidden);\n  setAttribute(element, ariaModal, \"true\");\n  setAttribute(element, \"role\", \"dialog\");\n\n  dispatchEvent(element, shownOffcanvasEvent);\n\n  toggleOffCanvasDismiss(self, true);\n  focus(element);\n  toggleFocusTrap(element);\n};\n\n/**\n * Handles the `transitionend` when hiding the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst hideOffcanvasComplete = (self: Offcanvas) => {\n  const { element, triggers } = self;\n\n  setAttribute(element, ariaHidden, \"true\");\n  removeAttribute(element, ariaModal);\n  removeAttribute(element, \"role\");\n  setElementStyle(element, { visibility: \"\" });\n\n  const visibleTrigger = showOffcanvasEvent.relatedTarget ||\n    triggers.find(isVisible);\n  // istanbul ignore else @preserve\n  if (visibleTrigger) focus(visibleTrigger);\n\n  removeOverlay(element);\n\n  dispatchEvent(element, hiddenOffcanvasEvent);\n  removeClass(element, offcanvasTogglingClass);\n  toggleFocusTrap(element);\n\n  // must check for open instances\n  if (!getCurrentOpen(element)) {\n    toggleOffCanvasDismiss(self);\n  }\n};\n\n// OFFCANVAS DEFINITION\n// ====================\n/** Returns a new `Offcanvas` instance. */\nexport default class Offcanvas extends BaseComponent {\n  static selector = offcanvasSelector;\n  static init = offcanvasInitCallback;\n  static getInstance = getOffcanvasInstance;\n  declare element: HTMLElement;\n  declare options: OffcanvasOptions;\n  declare triggers: HTMLElement[];\n  declare relatedTarget: EventTarget & HTMLElement | undefined;\n\n  /**\n   * @param target usually an `.offcanvas` element\n   * @param config instance options\n   */\n  constructor(\n    target: Element | string,\n    config?: Partial<OffcanvasOptions>,\n  ) {\n    super(target, config);\n\n    // instance element\n    const { element } = this;\n\n    // all the triggering buttons\n    this.triggers = [\n      ...querySelectorAll<HTMLElement>(\n        offcanvasToggleSelector,\n        getDocument(element),\n      ),\n    ].filter(\n      (btn) => getTargetElement(btn) === element,\n    );\n\n    // additional instance property\n    this.relatedTarget = undefined;\n\n    // attach event listeners\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return offcanvasComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return offcanvasDefaults;\n  }\n\n  // OFFCANVAS PUBLIC METHODS\n  // ========================\n  /** Shows or hides the offcanvas from the user. */\n  toggle() {\n    if (hasClass(this.element, showClass)) this.hide();\n    else this.show();\n  }\n\n  /** Shows the offcanvas to the user. */\n  show() {\n    const { element, options, relatedTarget } = this;\n    let overlayDelay = 0;\n\n    // istanbul ignore else @preserve\n    if (hasClass(element, showClass)) return;\n\n    showOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n    shownOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n    dispatchEvent(element, showOffcanvasEvent);\n\n    // istanbul ignore else @preserve\n    if (showOffcanvasEvent.defaultPrevented) return;\n\n    // we elegantly hide any opened modal/offcanvas\n    const currentOpen = getCurrentOpen(element);\n    if (currentOpen && currentOpen !== element) {\n      const that = getOffcanvasInstance(currentOpen) ||\n        // istanbul ignore next @preserve\n        getInstance<typeof BaseComponent & { hide: () => void }>(\n          currentOpen,\n          modalComponent,\n        );\n\n      // istanbul ignore else @preserve\n      if (that) that.hide();\n    }\n\n    if (options.backdrop) {\n      if (!hasPopup(overlay)) appendOverlay(element, true);\n      else toggleOverlayType();\n\n      overlayDelay = getElementTransitionDuration(overlay);\n      showOverlay();\n\n      setTimeout(() => beforeOffcanvasShow(this), overlayDelay);\n    } else {\n      beforeOffcanvasShow(this);\n      // istanbul ignore next @preserve - this test was done on Modal\n      if (currentOpen && hasClass(overlay, showClass)) hideOverlay();\n    }\n  }\n\n  /** Hides the offcanvas from the user. */\n  hide() {\n    const { element, relatedTarget } = this;\n\n    // istanbul ignore else @preserve\n    if (!hasClass(element, showClass)) return;\n\n    hideOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n    hiddenOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n    dispatchEvent(element, hideOffcanvasEvent);\n\n    // istanbul ignore else @preserve\n    if (hideOffcanvasEvent.defaultPrevented) return;\n\n    addClass(element, offcanvasTogglingClass);\n    removeClass(element, showClass);\n    beforeOffcanvasHide(this);\n  }\n\n  /**\n   * Toggles on/off the `click` event listeners.\n   *\n   * @param self the `Offcanvas` instance\n   * @param add when *true*, listeners are added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    this.triggers.forEach((btn) => {\n      // istanbul ignore else @preserve\n      if (!isDisabled(btn)) {\n        action(btn, mouseclickEvent, offcanvasTriggerHandler);\n      }\n    });\n  };\n\n  /** Removes the `Offcanvas` from the target element. */\n  dispose() {\n    const { element } = this;\n    const isOpen = hasClass(element, showClass);\n    const callback = () => setTimeout(() => super.dispose(), 1);\n\n    this.hide();\n    this._toggleEventListeners();\n\n    if (isOpen) emulateTransitionEnd(element, callback);\n    // istanbul ignore next @preserve\n    else callback();\n  }\n}\n","/** @type {string} */\nconst popoverString = \"popover\";\nexport default popoverString;\n","/** @type {string} */\nconst popoverComponent = \"Popover\";\nexport default popoverComponent;\n","/** @type {string} */\nconst tooltipString = \"tooltip\";\nexport default tooltipString;\n","import tooltipString from \"../strings/tooltipString\";\n\n/**\n * Returns a template for Popover / Tooltip.\n *\n * @param tipType the expected markup type\n * @returns the template markup\n */\nconst getTipTemplate = (tipType: string) => {\n  const isTooltip = tipType === tooltipString;\n  const bodyClass = isTooltip ? `${tipType}-inner` : `${tipType}-body`;\n  const header = !isTooltip ? `<h3 class=\"${tipType}-header\"></h3>` : \"\";\n  const arrow = `<div class=\"${tipType}-arrow\"></div>`;\n  const body = `<div class=\"${bodyClass}\"></div>`;\n  return `<div class=\"${tipType}\" role=\"${tooltipString}\">${\n    header + arrow + body\n  }</div>`;\n};\n\nexport default getTipTemplate;\n","const tipClassPositions = {\n  top: \"top\",\n  bottom: \"bottom\",\n  left: \"start\",\n  right: \"end\",\n};\n\nexport default tipClassPositions;\n","import {\n  createCustomEvent,\n  dispatchEvent,\n  getBoundingClientRect,\n  getDocumentElement,\n  getElementStyle,\n  getNodeScroll,\n  getRectRelativeToOffsetParent,\n  isHTMLElement,\n  isRTL,\n  setElementStyle,\n  toLowerCase,\n} from \"@thednp/shorty\";\n\nimport tipClassPositions from \"./tipClassPositions\";\nimport Tooltip from \"../components/tooltip\";\nimport type { TooltipEvent } from \"../interface/tooltip\";\nimport type { PopoverEvent } from \"../interface/popover\";\n\n/**\n * Style popovers and tooltips.\n *\n * @param self the `Popover` / `Tooltip` instance\n */\nconst styleTip = (self: Tooltip) => {\n  requestAnimationFrame(() => {\n    const tipClasses = /\\b(top|bottom|start|end)+/;\n    const { element, tooltip, container, offsetParent, options, arrow } = self;\n\n    // istanbul ignore if @preserve\n    if (!tooltip) return;\n    const RTL = isRTL(element);\n    const { x: scrollLeft, y: scrollTop } = getNodeScroll(offsetParent);\n\n    // reset tooltip style (top: 0, left: 0 works best)\n    setElementStyle(tooltip, {\n      top: \"\",\n      left: \"\",\n      right: \"\",\n      bottom: \"\",\n    });\n    const { offsetWidth: tipWidth, offsetHeight: tipHeight } = tooltip;\n    const { clientWidth: htmlcw, clientHeight: htmlch, offsetWidth: htmlow } =\n      getDocumentElement(element);\n    let { placement } = options;\n    const { clientWidth: parentCWidth, offsetWidth: parentOWidth } = container;\n    const parentPosition = getElementStyle(\n      container,\n      \"position\",\n    );\n    const fixedParent = parentPosition === \"fixed\";\n    const scrollbarWidth = fixedParent\n      ? Math.abs(parentCWidth - parentOWidth)\n      : Math.abs(htmlcw - htmlow);\n    const leftBoundry = RTL && fixedParent\n      ? /* istanbul ignore next @preserve */ scrollbarWidth\n      : 0;\n    const rightBoundry = htmlcw - (!RTL ? scrollbarWidth : 0) - 1;\n\n    // reuse observer entry bounding box\n    const observerEntry = self._observer.getEntry(element);\n    const {\n      width: elemWidth,\n      height: elemHeight,\n      left: elemRectLeft,\n      right: elemRectRight,\n      top: elemRectTop,\n    } = observerEntry?.boundingClientRect ||\n      getBoundingClientRect(element, true);\n\n    const {\n      x: elemOffsetLeft,\n      y: elemOffsetTop,\n    } = getRectRelativeToOffsetParent(\n      element,\n      offsetParent,\n      { x: scrollLeft, y: scrollTop },\n    );\n\n    // reset arrow style\n    setElementStyle(arrow as HTMLElement, {\n      top: \"\",\n      left: \"\",\n      right: \"\",\n      bottom: \"\",\n    });\n    let topPosition: number | string = 0;\n    let bottomPosition: number | string = \"\";\n    let leftPosition: number | string = 0;\n    let rightPosition: number | string = \"\";\n    let arrowTop: number | string = \"\";\n    let arrowLeft: number | string = \"\";\n    let arrowRight: number | string = \"\";\n\n    const arrowWidth = arrow.offsetWidth || 0;\n    const arrowHeight = arrow.offsetHeight || 0;\n    const arrowAdjust = arrowWidth / 2;\n\n    // check placement\n    let topExceed = elemRectTop - tipHeight - arrowHeight < 0;\n    let bottomExceed =\n      elemRectTop + tipHeight + elemHeight + arrowHeight >= htmlch;\n    let leftExceed = elemRectLeft - tipWidth - arrowWidth < leftBoundry;\n    let rightExceed =\n      elemRectLeft + tipWidth + elemWidth + arrowWidth >= rightBoundry;\n\n    const horizontals = [\"left\", \"right\"];\n    const verticals = [\"top\", \"bottom\"];\n\n    topExceed = horizontals.includes(placement)\n      ? elemRectTop + elemHeight / 2 - tipHeight / 2 - arrowHeight < 0\n      : topExceed;\n    bottomExceed = horizontals.includes(placement)\n      ? elemRectTop + tipHeight / 2 + elemHeight / 2 + arrowHeight >= htmlch\n      : bottomExceed;\n    leftExceed = verticals.includes(placement)\n      ? elemRectLeft + elemWidth / 2 - tipWidth / 2 < leftBoundry\n      : leftExceed;\n    rightExceed = verticals.includes(placement)\n      ? elemRectLeft + tipWidth / 2 + elemWidth / 2 >= rightBoundry\n      : rightExceed;\n\n    // first remove side positions if both left and right limits are exceeded\n    // we usually fall back to top|bottom\n    placement = horizontals.includes(placement) && leftExceed && rightExceed\n      ? \"top\"\n      : placement;\n    // recompute placement\n    placement = placement === \"top\" && topExceed ? \"bottom\" : placement;\n    placement = placement === \"bottom\" && bottomExceed ? \"top\" : placement;\n    placement = placement === \"left\" && leftExceed ? \"right\" : placement;\n    placement = placement === \"right\" && rightExceed\n      ? \"left\"\n      // istanbul ignore next @preserve\n      : placement;\n\n    // update tooltip/popover class\n    // istanbul ignore else @preserve\n    if (!tooltip.className.includes(placement)) {\n      tooltip.className = tooltip.className.replace(\n        tipClasses,\n        tipClassPositions[placement],\n      );\n    }\n\n    // compute tooltip / popover coordinates\n    // istanbul ignore else @preserve\n    if (horizontals.includes(placement)) {\n      // secondary|side positions\n      if (placement === \"left\") {\n        // LEFT\n        leftPosition = elemOffsetLeft - tipWidth - arrowWidth;\n      } else {\n        // RIGHT\n        leftPosition = elemOffsetLeft + elemWidth + arrowWidth;\n      }\n\n      // adjust top and arrow\n      if (topExceed && bottomExceed) {\n        topPosition = 0;\n        bottomPosition = 0;\n        arrowTop = elemOffsetTop + elemHeight / 2 - arrowHeight / 2;\n      } else if (topExceed) {\n        topPosition = elemOffsetTop;\n        bottomPosition = \"\";\n        arrowTop = elemHeight / 2 - arrowWidth;\n      } else if (bottomExceed) {\n        topPosition = elemOffsetTop - tipHeight + elemHeight;\n        bottomPosition = \"\";\n        arrowTop = tipHeight - elemHeight / 2 - arrowWidth;\n      } else {\n        topPosition = elemOffsetTop - tipHeight / 2 + elemHeight / 2;\n        arrowTop = tipHeight / 2 - arrowHeight / 2;\n      }\n    } else if (verticals.includes(placement)) {\n      if (placement === \"top\") {\n        topPosition = elemOffsetTop - tipHeight - arrowHeight;\n      } else {\n        // BOTTOM\n        topPosition = elemOffsetTop + elemHeight + arrowHeight;\n      }\n\n      // adjust left | right and also the arrow\n      if (leftExceed) {\n        leftPosition = 0;\n        arrowLeft = elemOffsetLeft + elemWidth / 2 - arrowAdjust;\n      } else if (rightExceed) {\n        leftPosition = \"auto\";\n        rightPosition = 0;\n        arrowRight = elemWidth / 2 + rightBoundry - elemRectRight - arrowAdjust;\n      } else {\n        leftPosition = elemOffsetLeft - tipWidth / 2 + elemWidth / 2;\n        arrowLeft = tipWidth / 2 - arrowAdjust;\n      }\n    }\n\n    // apply style to tooltip/popover\n    setElementStyle(tooltip, {\n      top: `${topPosition}px`,\n      bottom: bottomPosition === \"\" ? \"\" : `${bottomPosition}px`,\n      left: leftPosition === \"auto\" ? leftPosition : `${leftPosition}px`,\n      right: rightPosition !== \"\" ? `${rightPosition}px` : \"\",\n    });\n\n    // update arrow placement\n    // istanbul ignore else @preserve\n    if (isHTMLElement(arrow)) {\n      if (arrowTop !== \"\") {\n        arrow.style.top = `${arrowTop}px`;\n      }\n      if (arrowLeft !== \"\") {\n        arrow.style.left = `${arrowLeft}px`;\n      } else if (arrowRight !== \"\") {\n        arrow.style.right = `${arrowRight}px`;\n      }\n    }\n    const updatedTooltipEvent = createCustomEvent<\n      Record<string, unknown>,\n      TooltipEvent | PopoverEvent\n    >(\n      `updated.bs.${toLowerCase(self.name)}`,\n    );\n    dispatchEvent(element, updatedTooltipEvent);\n  });\n};\n\nexport default styleTip;\n","import getTipTemplate from \"./getTipTemplate\";\nimport tooltipString from \"../strings/tooltipString\";\nimport { TooltipOptions } from \"../interface/tooltip\";\n\nconst tooltipDefaults: TooltipOptions = {\n  template: getTipTemplate(tooltipString),\n  title: \"\",\n  customClass: \"\",\n  trigger: \"hover focus\",\n  placement: \"top\",\n  sanitizeFn: undefined,\n  animation: true,\n  delay: 200,\n  container: document.body,\n  content: \"\",\n  dismissible: false,\n  btnClose: \"\",\n};\nexport default tooltipDefaults;\n","const m = (e) => e != null && typeof e == \"object\" || !1, p = (e) => m(e) && typeof e.nodeType == \"number\" && [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].some(\n  (t) => e.nodeType === t\n) || !1, h = (e) => p(e) && e.nodeType === 1 || !1, w = (e) => typeof e == \"function\" || !1, k = \"1.0.2\", a = \"PositionObserver Error\";\nclass v {\n  entries;\n  static version = k;\n  _tick;\n  _root;\n  _callback;\n  /**\n   * The constructor takes two arguments, a `callback`, which is called\n   * whenever the position of an observed element changes and an `options` object.\n   * The callback function should take an array of `PositionObserverEntry` objects\n   * as its only argument, but it's not required.\n   *\n   * @param callback the callback that applies to all targets of this observer\n   * @param options the options of this observer\n   */\n  constructor(t, s) {\n    if (!w(t))\n      throw new Error(`${a}: ${t} is not a function.`);\n    this.entries = /* @__PURE__ */ new Map(), this._callback = t, this._root = h(s?.root) ? s.root : document?.documentElement, this._tick = 0;\n  }\n  /**\n   * Start observing the position of the specified element.\n   * If the element is not currently attached to the DOM,\n   * it will NOT be added to the entries.\n   *\n   * @param target an `Element` target\n   */\n  observe = (t) => {\n    if (!h(t))\n      throw new Error(\n        `${a}: ${t} is not an instance of Element.`\n      );\n    this._root.contains(t) && this._new(t).then((s) => {\n      s && !this.getEntry(t) && this.entries.set(t, s), this._tick || (this._tick = requestAnimationFrame(this._runCallback));\n    });\n  };\n  /**\n   * Stop observing the position of the specified element.\n   *\n   * @param target an `HTMLElement` target\n   */\n  unobserve = (t) => {\n    this.entries.has(t) && this.entries.delete(t);\n  };\n  /**\n   * Private method responsible for all the heavy duty,\n   * the observer's runtime.\n   */\n  _runCallback = () => {\n    if (!this.entries.size) return;\n    const t = new Promise((s) => {\n      const r = [];\n      this.entries.forEach(\n        ({ target: i, boundingClientRect: n }) => {\n          this._root.contains(i) && this._new(i).then(({ boundingClientRect: o, isIntersecting: u }) => {\n            if (!u) return;\n            const { left: f, top: _, bottom: l, right: b } = o;\n            if (n.top !== _ || n.left !== f || n.right !== b || n.bottom !== l) {\n              const c = { target: i, boundingClientRect: o };\n              this.entries.set(i, c), r.push(c);\n            }\n          });\n        }\n      ), s(r);\n    });\n    this._tick = requestAnimationFrame(async () => {\n      const s = await t;\n      s.length && this._callback(s, this), this._runCallback();\n    });\n  };\n  /**\n   * Calculate the target bounding box and determine\n   * the value of `isVisible`.\n   *\n   * @param target an `Element` target\n   */\n  _new = (t) => new Promise((s) => {\n    new IntersectionObserver(\n      ([i], n) => {\n        n.disconnect(), s(i);\n      }\n    ).observe(t);\n  });\n  /**\n   * Find the entry for a given target.\n   *\n   * @param target an `HTMLElement` target\n   */\n  getEntry = (t) => this.entries.get(t);\n  /**\n   * Immediately stop observing all elements.\n   */\n  disconnect = () => {\n    cancelAnimationFrame(this._tick), this.entries.clear(), this._tick = 0;\n  };\n}\nexport {\n  v as default\n};\n//# sourceMappingURL=index.mjs.map\n","/**\n * Global namespace for `data-bs-title` attribute.\n */\nconst dataOriginalTitle = \"data-original-title\";\nexport default dataOriginalTitle;\n","/** @type {string} */\nconst tooltipComponent = \"Tooltip\";\nexport default tooltipComponent;\n","import {\n  isArray,\n  isFunction,\n  isHTMLElement,\n  isNode,\n  isNodeList,\n  isString,\n} from \"@thednp/shorty\";\n\n/**\n * Append an existing `Element` to Popover / Tooltip component or HTML\n * markup string to be parsed & sanitized to be used as popover / tooltip content.\n *\n * @param element target\n * @param content the `Element` to append / string\n * @param sanitizeFn a function to sanitize string content\n */\nconst setHtml = (\n  element: HTMLElement,\n  content: Node[] | Node | string,\n  sanitizeFn?: (s: string) => string,\n) => {\n  // istanbul ignore else @preserve\n  if (isString(content) && content.length) {\n    let dirty = content.trim(); // fixing #233\n    if (isFunction(sanitizeFn)) dirty = sanitizeFn(dirty);\n\n    const domParser = new DOMParser();\n    const tempDocument = domParser.parseFromString(dirty, \"text/html\");\n    element.append(...[...tempDocument.body.childNodes]);\n  } else if (isHTMLElement(content)) {\n    element.append(content);\n  } else if (\n    isNodeList(content) || (isArray(content) && content.every(isNode))\n  ) {\n    element.append(...[...content]);\n  }\n};\nexport default setHtml;\n","import {\n  addClass,\n  createElement,\n  hasClass,\n  isHTMLElement,\n  isRTL,\n  querySelector,\n  setAttribute,\n} from \"@thednp/shorty\";\n\nimport tooltipComponent from \"../strings/tooltipComponent\";\nimport tooltipString from \"../strings/tooltipString\";\nimport popoverString from \"../strings/popoverString\";\nimport fadeClass from \"../strings/fadeClass\";\nimport tipClassPositions from \"./tipClassPositions\";\nimport setHtml from \"./setHtml\";\nimport Tooltip from \"../components/tooltip\";\nimport Popover from \"../components/popover\";\n\n/**\n * Creates a new tooltip / popover.\n *\n * @param self the `Tooltip` / `Popover` instance\n */\nconst createTip = (self: Tooltip | Popover) => {\n  const isTooltip = self.name === tooltipComponent;\n\n  const { id, element, options } = self;\n  const {\n    title,\n    placement,\n    template,\n    animation,\n    customClass,\n    sanitizeFn,\n    dismissible,\n    content,\n    btnClose,\n  } = options;\n  const tipString = isTooltip ? tooltipString : popoverString;\n  const tipPositions = { ...tipClassPositions };\n  let titleParts: Node[] = [];\n  let contentParts: Node[] = [];\n\n  if (isRTL(element)) {\n    tipPositions.left = \"end\";\n    tipPositions.right = \"start\";\n  }\n\n  // set initial popover class\n  const placementClass = `bs-${tipString}-${tipPositions[placement]}`;\n\n  // load template\n  let tooltipTemplate: Node | string;\n  if (isHTMLElement(template)) {\n    tooltipTemplate = template;\n  } else {\n    const htmlMarkup = createElement(\"div\") as HTMLElement;\n    setHtml(htmlMarkup, template, sanitizeFn);\n    tooltipTemplate = htmlMarkup.firstChild as HTMLElement;\n  }\n\n  /* istanbul ignore if @preserve */\n  if (!isHTMLElement(tooltipTemplate)) return;\n\n  // set popover markup\n  self.tooltip = tooltipTemplate.cloneNode(true) as HTMLElement;\n  const { tooltip } = self;\n\n  // set id and role attributes\n  setAttribute(tooltip, \"id\", id);\n  setAttribute(tooltip, \"role\", tooltipString);\n\n  const bodyClass = isTooltip\n    ? `${tooltipString}-inner`\n    : `${popoverString}-body`;\n  const tooltipHeader = isTooltip\n    ? null\n    : querySelector<HTMLElement>(`.${popoverString}-header`, tooltip);\n  const tooltipBody = querySelector<HTMLElement>(`.${bodyClass}`, tooltip);\n\n  // set arrow and enable access for styleTip\n  self.arrow = querySelector<HTMLElement>(\n    `.${tipString}-arrow`,\n    tooltip,\n  ) as HTMLElement;\n  const { arrow } = self;\n\n  if (isHTMLElement(title)) titleParts = [title.cloneNode(true)];\n  else {\n    const tempTitle = createElement(\"div\") as HTMLElement;\n    setHtml(tempTitle, title, sanitizeFn);\n    titleParts = [...[...tempTitle.childNodes]];\n  }\n\n  if (isHTMLElement(content)) contentParts = [content.cloneNode(true)];\n  else {\n    const tempContent = createElement(\"div\") as HTMLElement;\n    setHtml(tempContent, content, sanitizeFn);\n    contentParts = [...[...tempContent.childNodes]];\n  }\n\n  // set dismissible button\n  if (dismissible) {\n    if (title) {\n      if (isHTMLElement(btnClose)) {\n        titleParts = [...titleParts, btnClose.cloneNode(true)];\n      } else {\n        const tempBtn = createElement(\"div\") as HTMLElement;\n        setHtml(tempBtn, btnClose, sanitizeFn);\n        titleParts = [...titleParts, tempBtn.firstChild as Node];\n      }\n    } else {\n      // istanbul ignore else @preserve\n      if (tooltipHeader) tooltipHeader.remove();\n      if (isHTMLElement(btnClose)) {\n        contentParts = [...contentParts, btnClose.cloneNode(true)];\n      } else {\n        const tempBtn = createElement(\"div\") as HTMLElement;\n        setHtml(tempBtn, btnClose, sanitizeFn);\n        contentParts = [...contentParts, tempBtn.firstChild as Node];\n      }\n    }\n  }\n\n  // fill the template with content from options / data attributes\n  // also sanitize title && content\n  // istanbul ignore else @preserve\n  if (!isTooltip) {\n    // istanbul ignore else @preserve\n    if (title && tooltipHeader) {\n      setHtml(tooltipHeader, titleParts, sanitizeFn);\n    }\n    // istanbul ignore else @preserve\n    if (content && tooltipBody) {\n      setHtml(tooltipBody, contentParts, sanitizeFn);\n    }\n    // set btn\n    self.btn = querySelector<HTMLButtonElement>(\".btn-close\", tooltip) ||\n      undefined;\n  } else if (title && tooltipBody) setHtml(tooltipBody, title, sanitizeFn);\n\n  // Bootstrap 5.2.x\n  addClass(tooltip, \"position-absolute\");\n  addClass(arrow, \"position-absolute\");\n\n  // set popover animation and placement\n  // istanbul ignore else @preserve\n  if (!hasClass(tooltip, tipString)) addClass(tooltip, tipString);\n  // istanbul ignore else @preserve\n  if (animation && !hasClass(tooltip, fadeClass)) {\n    addClass(tooltip, fadeClass);\n  }\n  // istanbul ignore else @preserve\n  if (customClass && !hasClass(tooltip, customClass)) {\n    addClass(tooltip, customClass);\n  }\n  // istanbul ignore else @preserve\n  if (!hasClass(tooltip, placementClass)) addClass(tooltip, placementClass);\n};\n\nexport default createTip;\n","import {\n  getDocument,\n  getElementStyle,\n  getParentNode,\n  isShadowRoot,\n  isTableElement,\n} from \"@thednp/shorty\";\n\n/**\n * Returns an `HTMLElement` to be used as default value for *options.container*\n * for `Tooltip` / `Popover` components.\n *\n * @see https://github.com/floating-ui/floating-ui\n *\n * @param element the target\n * @returns the query result\n */\nconst getElementContainer = (element: Element) => {\n  const majorBlockTags = [\"HTML\", \"BODY\"];\n  const containers: HTMLElement[] = [];\n  let { parentNode } = element;\n\n  while (parentNode && !majorBlockTags.includes(parentNode.nodeName)) {\n    parentNode = getParentNode(parentNode) as HTMLElement;\n    // istanbul ignore else @preserve\n    if (!(isShadowRoot(parentNode) || isTableElement(parentNode))) {\n      containers.push(parentNode as HTMLElement);\n    }\n  }\n\n  return (\n    containers.find((c, i) => {\n      if (\n        ((getElementStyle(c, \"position\") !== \"relative\" ||\n          getElementStyle(c, \"position\") === \"relative\" &&\n            c.offsetHeight !== c.scrollHeight) &&\n          containers.slice(i + 1).every((r) =>\n            getElementStyle(r, \"position\") === \"static\"\n          ))\n      ) {\n        return c;\n      }\n      return null;\n    }) ||\n    /* istanbul ignore next: optional guard */\n    getDocument(element).body\n  );\n};\n\nexport default getElementContainer;\n","/* Native JavaScript for Bootstrap 5 | Tooltip\n---------------------------------------------- */\nimport {\n  addClass,\n  ariaDescribedBy,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  focus,\n  focusEvent,\n  focusinEvent,\n  focusoutEvent,\n  getAttribute,\n  getDocument,\n  getElementStyle,\n  getInstance,\n  getUID,\n  getWindow,\n  hasAttribute,\n  hasClass,\n  isApple,\n  mouseclickEvent,\n  mousedownEvent,\n  mouseenterEvent,\n  mousehoverEvent,\n  mouseleaveEvent,\n  ObjectAssign,\n  passiveHandler,\n  removeAttribute,\n  removeClass,\n  setAttribute,\n  Timer,\n  toLowerCase,\n  TouchEvent,\n  touchstartEvent,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\nimport PositionObserver from \"@thednp/position-observer\";\n\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport dataOriginalTitle from \"~/strings/dataOriginalTitle\";\nimport showClass from \"~/strings/showClass\";\nimport tooltipString from \"~/strings/tooltipString\";\nimport tooltipComponent from \"~/strings/tooltipComponent\";\nimport popoverString from \"~/strings/popoverString\";\nimport popoverComponent from \"~/strings/popoverComponent\";\nimport modalString from \"~/strings/modalString\";\nimport offcanvasString from \"~/strings/offcanvasString\";\n\nimport styleTip from \"~/util/styleTip\";\nimport createTip from \"~/util/createTip\";\nimport { appendPopup, hasPopup, removePopup } from \"~/util/popupContainer\";\nimport getElementContainer from \"~/util/getElementContainer\";\nimport tooltipDefaults from \"~/util/tooltipDefaults\";\nimport BaseComponent from \"./base-component\";\nimport type { TooltipEvent, TooltipOptions } from \"~/interface/tooltip\";\nimport type { PopoverEvent, PopoverOptions } from \"~/interface/popover\";\n\n// TOOLTIP PRIVATE GC\n// ==================\nconst tooltipSelector =\n  `[${dataBsToggle}=\"${tooltipString}\"],[data-tip=\"${tooltipString}\"]`;\nconst titleAttr = \"title\";\n\n/**\n * Static method which returns an existing `Tooltip` instance associated\n * to a target `Element`.\n */\nlet getTooltipInstance = (element: Element) =>\n  getInstance<Tooltip>(element, tooltipComponent);\n\n/**\n * A `Tooltip` initialization callback.\n */\nconst tooltipInitCallback = (element: Element) => new Tooltip(element);\n\n// TOOLTIP PRIVATE METHODS\n// =======================\n/**\n * Removes the tooltip from the DOM.\n *\n * @param self the `Tooltip` instance\n */\nconst removeTooltip = (self: Tooltip) => {\n  const { element, tooltip, container } = self;\n  removeAttribute(element, ariaDescribedBy);\n  removePopup(\n    tooltip,\n    container,\n  );\n};\n\n/**\n * Check if container contains the tooltip.\n *\n * @param self Tooltip\n */\nconst hasTip = (self: Tooltip): boolean | undefined => {\n  const { tooltip, container } = self;\n\n  return tooltip &&\n    hasPopup(tooltip, container);\n};\n\n/**\n * Executes after the instance has been disposed.\n *\n * @param self the `Tooltip` instance\n * @param callback the parent dispose callback\n */\nconst disposeTooltipComplete = (self: Tooltip, callback?: () => void) => {\n  const { element } = self;\n  self._toggleEventListeners();\n\n  // istanbul ignore else @preserve\n  if (\n    hasAttribute(element, dataOriginalTitle) && self.name === tooltipComponent\n  ) {\n    toggleTooltipTitle(self);\n  }\n  // istanbul ignore else @preserve\n  if (callback) callback();\n};\n\n/**\n * Toggles on/off the special `Tooltip` event listeners.\n *\n * @param self the `Tooltip` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleTooltipAction = (self: Tooltip, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element } = self;\n\n  action(\n    getDocument(element),\n    touchstartEvent,\n    self.handleTouch,\n    passiveHandler,\n  );\n};\n\n/**\n * Executes after the tooltip was shown to the user.\n *\n * @param self the `Tooltip` instance\n */\nconst tooltipShownAction = (self: Tooltip) => {\n  const { element } = self;\n  const shownTooltipEvent = createCustomEvent<\n    Record<string, never>,\n    TooltipEvent | PopoverEvent\n  >(\n    `shown.bs.${toLowerCase(self.name)}`,\n  );\n\n  toggleTooltipAction(self, true);\n  dispatchEvent(element, shownTooltipEvent);\n  Timer.clear(element, \"in\");\n};\n\n/**\n * Executes after the tooltip was hidden to the user.\n *\n * @param self the `Tooltip` instance\n */\nconst tooltipHiddenAction = (self: Tooltip) => {\n  const { element } = self;\n  const hiddenTooltipEvent = createCustomEvent<\n    Record<string, never>,\n    TooltipEvent | PopoverEvent\n  >(\n    `hidden.bs.${toLowerCase(self.name)}`,\n  );\n\n  toggleTooltipAction(self);\n  removeTooltip(self);\n  dispatchEvent(element, hiddenTooltipEvent);\n\n  Timer.clear(element, \"out\");\n};\n\n/**\n * Toggles on/off the `Tooltip` event listeners that hide/update the tooltip.\n *\n * @param self the `Tooltip` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleTooltipOpenHandlers = (self: Tooltip, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element, tooltip } = self;\n  const parentModal = closest(element, `.${modalString}`);\n  const parentOffcanvas = closest(element, `.${offcanvasString}`);\n\n  if (add) {\n    [element, tooltip]\n      .forEach((target) => self._observer.observe(target));\n  } else self._observer.disconnect();\n\n  // dismiss tooltips inside modal / offcanvas\n  if (parentModal) {\n    action(parentModal, `hide.bs.${modalString}`, self.handleHide);\n  }\n  if (parentOffcanvas) {\n    action(parentOffcanvas, `hide.bs.${offcanvasString}`, self.handleHide);\n  }\n};\n\n/**\n * Toggles the `title` and `data-original-title` attributes.\n *\n * @param self the `Tooltip` instance\n * @param content when `true`, event listeners are added\n */\nconst toggleTooltipTitle = (self: Tooltip, content?: string) => {\n  // [0 - add, 1 - remove] | [0 - remove, 1 - add]\n  const titleAtt = [dataOriginalTitle, titleAttr];\n  const { element } = self;\n\n  setAttribute(\n    element,\n    titleAtt[content ? 0 : 1],\n    content ||\n      getAttribute(element, titleAtt[0]) ||\n      // istanbul ignore next @preserve\n      \"\",\n  );\n  removeAttribute(element, titleAtt[content ? 1 : 0]);\n};\n\n// TOOLTIP DEFINITION\n// ==================\n/** Creates a new `Tooltip` instance. */\nexport default class Tooltip extends BaseComponent {\n  static selector = tooltipSelector;\n  static init = tooltipInitCallback;\n  static getInstance = getTooltipInstance;\n  static styleTip = styleTip;\n  declare element: Element & HTMLOrSVGElement;\n  declare options: TooltipOptions;\n  declare btn?: HTMLElement;\n  declare tooltip: HTMLElement;\n  declare container: HTMLElement;\n  declare offsetParent: Element | Window;\n  declare arrow: HTMLElement;\n  declare enabled: boolean;\n  declare id: string;\n  declare _observer: PositionObserver;\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(target: Element | string, config?: Partial<TooltipOptions>) {\n    super(target, config);\n\n    const { element } = this;\n    const isTooltip = this.name === tooltipComponent;\n    const tipString = isTooltip ? tooltipString : popoverString;\n    const tipComponent = isTooltip ? tooltipComponent : popoverComponent;\n\n    // istanbul ignore next @preserve: this is to set Popover too\n    getTooltipInstance = <T extends Tooltip>(elem: Element) =>\n      getInstance<T>(elem, tipComponent);\n\n    // additional properties\n    this.enabled = true;\n    /** Set unique ID for `aria-describedby`. */\n    this.id = `${tipString}-${getUID(element, tipString)}`;\n\n    // instance options\n    const { options } = this;\n\n    // invalidate\n    // istanbul ignore else @preserve\n    if (((!options.title && isTooltip) || (!isTooltip && !options.content))) {\n      return;\n    }\n\n    // reset default options\n    ObjectAssign(tooltipDefaults, { titleAttr: \"\" });\n\n    // set title attributes and add event listeners\n    // istanbul ignore else @preserve\n    if (\n      hasAttribute(element, titleAttr) && isTooltip &&\n      typeof options.title === \"string\"\n    ) {\n      toggleTooltipTitle(this, options.title);\n    }\n\n    // set containers\n    const container = getElementContainer(element);\n    const offsetParent = [\"sticky\", \"fixed\", \"relative\"].some(\n        (position) =>\n          getElementStyle(container, \"position\") ===\n            position,\n      )\n      ? container\n      : getWindow(element);\n\n    this.container = container;\n    this.offsetParent = offsetParent;\n\n    // create tooltip here\n    createTip(this);\n\n    /* istanbul ignore if @preserve */\n    if (!this.tooltip) return;\n\n    // create observer\n    this._observer = new PositionObserver(() => this.update());\n\n    // attach events\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return tooltipComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return tooltipDefaults;\n  }\n\n  // TOOLTIP PUBLIC METHODS\n  // ======================\n  /** Handles the focus event on iOS. */\n  // istanbul ignore next @preserve - impossible to test without Apple device\n  handleFocus = () => focus(this.element as HTMLElement);\n  /** Shows the tooltip. */\n  handleShow = () => this.show();\n  show() {\n    const { options, tooltip, element, container, id } = this;\n    const { animation } = options;\n    const outTimer = Timer.get(element, \"out\");\n\n    Timer.clear(element, \"out\");\n\n    if (tooltip && !outTimer && !hasTip(this)) {\n      Timer.set(\n        element,\n        () => {\n          const showTooltipEvent = createCustomEvent<\n            Record<string, never>,\n            TooltipEvent | PopoverEvent\n          >(\n            `show.bs.${toLowerCase(this.name)}`,\n          );\n          dispatchEvent(element, showTooltipEvent);\n\n          // istanbul ignore else @preserve\n          if (!showTooltipEvent.defaultPrevented) {\n            // append to container\n            appendPopup(tooltip, container);\n\n            setAttribute(element, ariaDescribedBy, `#${id}`);\n\n            this.update();\n            toggleTooltipOpenHandlers(this, true);\n\n            // istanbul ignore else @preserve\n            if (!hasClass(tooltip, showClass)) addClass(tooltip, showClass);\n            // istanbul ignore else @preserve\n            if (animation) {\n              emulateTransitionEnd(tooltip, () => tooltipShownAction(this));\n            } else tooltipShownAction(this);\n          }\n        },\n        17,\n        \"in\",\n      );\n    }\n  }\n\n  /** Hides the tooltip. */\n  handleHide = () => this.hide();\n  hide() {\n    const { options, tooltip, element } = this;\n    const { animation, delay } = options;\n\n    Timer.clear(element, \"in\");\n\n    // istanbul ignore else @preserve\n    if (tooltip && hasTip(this)) {\n      Timer.set(\n        element,\n        () => {\n          const hideTooltipEvent = createCustomEvent<\n            Record<string, never>,\n            TooltipEvent | PopoverEvent\n          >(\n            `hide.bs.${toLowerCase(this.name)}`,\n          );\n          dispatchEvent(element, hideTooltipEvent);\n\n          // istanbul ignore else @preserve\n          if (!hideTooltipEvent.defaultPrevented) {\n            this.update();\n            removeClass(tooltip, showClass);\n            toggleTooltipOpenHandlers(this);\n\n            // istanbul ignore else @preserve\n            if (animation) {\n              emulateTransitionEnd(tooltip, () => tooltipHiddenAction(this));\n            } else tooltipHiddenAction(this);\n          }\n        },\n        delay + 17,\n        \"out\",\n      );\n    }\n  }\n\n  /** Updates the tooltip position. */\n  update = () => {\n    styleTip(this);\n  };\n\n  /** Toggles the tooltip visibility. */\n  toggle = () => {\n    const { tooltip } = this;\n\n    if (tooltip && !hasTip(this)) this.show();\n    else this.hide();\n  };\n\n  /** Enables the tooltip. */\n  enable() {\n    const { enabled } = this;\n    // istanbul ignore else @preserve\n    if (!enabled) {\n      this._toggleEventListeners(true);\n      this.enabled = !enabled;\n    }\n  }\n\n  /** Disables the tooltip. */\n  disable() {\n    const { tooltip, enabled } = this;\n    // istanbul ignore else @preserve\n    if (enabled) {\n      if (tooltip && hasTip(this)) this.hide();\n      this._toggleEventListeners();\n      this.enabled = !enabled;\n    }\n  }\n\n  /** Toggles the `disabled` property. */\n  toggleEnabled() {\n    if (!this.enabled) this.enable();\n    else this.disable();\n  }\n\n  /**\n   * Handles the `touchstart` event listener for `Tooltip`\n   *\n   * @this {Tooltip}\n   * @param {TouchEvent} e the `Event` object\n   */\n  handleTouch = ({ target }: TouchEvent) => {\n    const { tooltip, element } = this;\n\n    // istanbul ignore if @preserve\n    if (\n      (tooltip && tooltip.contains(target)) ||\n      target === element ||\n      (target && element.contains(target))\n    ) {\n      // smile for ESLint\n    } else {\n      this.hide();\n    }\n  };\n\n  /**\n   * Toggles on/off the `Tooltip` event listeners.\n   *\n   * @param add when `true`, event listeners are added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    // btn is only for dismissible popover\n    const { element, options, btn } = this;\n    const { trigger } = options;\n    const isPopover = this.name !== tooltipComponent;\n    const dismissible = isPopover && (options as PopoverOptions).dismissible\n      ? true\n      : false;\n\n    // istanbul ignore else @preserve\n    if (!trigger.includes(\"manual\")) {\n      this.enabled = !!add;\n\n      const triggerOptions = trigger.split(\" \");\n\n      triggerOptions.forEach((tr) => {\n        // istanbul ignore else @preserve\n        if (tr === mousehoverEvent) {\n          action(element, mousedownEvent, this.handleShow);\n          action(element, mouseenterEvent, this.handleShow);\n\n          // istanbul ignore else @preserve\n          if (!dismissible) {\n            action(element, mouseleaveEvent, this.handleHide);\n            action(\n              getDocument(element),\n              touchstartEvent,\n              this.handleTouch,\n              passiveHandler,\n            );\n          }\n        } else if (tr === mouseclickEvent) {\n          action(element, tr, !dismissible ? this.toggle : this.handleShow);\n        } else if (tr === focusEvent) {\n          action(element, focusinEvent, this.handleShow);\n          // istanbul ignore else @preserve\n          if (!dismissible) action(element, focusoutEvent, this.handleHide);\n          // istanbul ignore else @preserve\n          if (isApple()) {\n            action(element, mouseclickEvent, this.handleFocus);\n          }\n        }\n        // istanbul ignore else @preserve\n        if (dismissible && btn) {\n          action(btn, mouseclickEvent, this.handleHide);\n        }\n      });\n    }\n  };\n\n  /** Removes the `Tooltip` from the target element. */\n  dispose() {\n    const { tooltip, options } = this;\n    const clone = { ...this, name: this.name };\n    const callback = () =>\n      setTimeout(\n        () => disposeTooltipComplete(clone, () => super.dispose()),\n        17,\n      );\n\n    if (options.animation && hasTip(clone)) {\n      this.options.delay = 0; // reset delay\n      this.hide();\n      emulateTransitionEnd(tooltip, callback);\n    } else {\n      callback();\n    }\n  }\n}\n","/* Native JavaScript for Bootstrap 5 | Popover\n---------------------------------------------- */\nimport { focus, getInstance, ObjectAssign } from \"@thednp/shorty\";\n\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport popoverString from \"~/strings/popoverString\";\nimport popoverComponent from \"~/strings/popoverComponent\";\n\nimport getTipTemplate from \"~/util/getTipTemplate\";\nimport styleTip from \"~/util/styleTip\";\nimport tooltipDefaults from \"~/util/tooltipDefaults\";\nimport Tooltip from \"./tooltip\";\n\nimport type { PopoverOptions /* , PopoverEvent */ } from \"~/interface/popover\";\n\n// POPOVER PRIVATE GC\n// ==================\nconst popoverSelector =\n  `[${dataBsToggle}=\"${popoverString}\"],[data-tip=\"${popoverString}\"]`;\n\nconst popoverDefaults: PopoverOptions = ObjectAssign({}, tooltipDefaults, {\n  template: getTipTemplate(popoverString),\n  content: \"\",\n  dismissible: false,\n  btnClose: '<button class=\"btn-close\" aria-label=\"Close\"></button>',\n});\n\n/**\n * Static method which returns an existing `Popover` instance associated\n * to a target `Element`.\n */\nconst getPopoverInstance = (element: Element) =>\n  getInstance<Popover>(element, popoverComponent);\n\n/**\n * A `Popover` initialization callback.\n */\nconst popoverInitCallback = (element: Element) => new Popover(element);\n\n// POPOVER DEFINITION\n// ==================\n/** Returns a new `Popover` instance. */\nexport default class Popover extends Tooltip {\n  static selector = popoverSelector;\n  static init = popoverInitCallback;\n  static getInstance = getPopoverInstance;\n  static styleTip = styleTip;\n  declare options: PopoverOptions;\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(target: Element | string, config?: Partial<PopoverOptions>) {\n    super(target, config);\n  }\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return popoverComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return popoverDefaults;\n  }\n\n  /* extend original `show()` */\n  show = () => {\n    super.show();\n    // btn only exists within dismissible popover\n    const { options, btn } = this;\n    // istanbul ignore else @preserve\n    if (options.dismissible && btn) setTimeout(() => focus(btn), 17);\n  };\n}\n","/** @type {string} */\nconst scrollspyString = \"scrollspy\";\nexport default scrollspyString;\n","/** @type {string} */\nconst scrollspyComponent = \"ScrollSpy\";\nexport default scrollspyComponent;\n","/* Native JavaScript for Bootstrap 5 | ScrollSpy\n------------------------------------------------ */\nimport {\n  addClass,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  getAttribute,\n  getBoundingClientRect,\n  getDocument,\n  getDocumentElement,\n  getElementById,\n  getElementsByTagName,\n  getInstance,\n  hasClass,\n  mouseclickEvent,\n  MouseEvent,\n  querySelector,\n  removeClass,\n} from \"@thednp/shorty\";\n\nimport PositionObserver from \"@thednp/position-observer\";\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport activeClass from \"~/strings/activeClass\";\nimport scrollspyString from \"~/strings/scrollspyString\";\nimport scrollspyComponent from \"~/strings/scrollspyComponent\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport { ScrollSpyEvent, ScrollSpyOptions } from \"~/interface/scrollspy\";\n\n// SCROLLSPY PRIVATE GC\n// ====================\nconst scrollspySelector = '[data-bs-spy=\"scroll\"]';\nconst scrollSpyAnchorSelector = \"[href]\";\n\nconst scrollspyDefaults: Partial<ScrollSpyOptions> = {\n  offset: 10,\n  target: undefined,\n};\n\ntype ScrollSpyEventProps = {\n  relatedTarget: HTMLElement;\n};\n\n/**\n * Static method which returns an existing `ScrollSpy` instance associated\n * to a target `Element`.\n */\nconst getScrollSpyInstance = (element: Element) =>\n  getInstance<ScrollSpy>(element, scrollspyComponent);\n\n/**\n * A `ScrollSpy` initialization callback.\n */\nconst scrollspyInitCallback = (element: Element) => new ScrollSpy(element);\n\n// SCROLLSPY CUSTOM EVENT\n// ======================\nconst activateScrollSpy = createCustomEvent<\n  ScrollSpyEventProps,\n  ScrollSpyEvent\n>(`activate.bs.${scrollspyString}`);\n\n// SCROLLSPY PRIVATE METHODS\n// =========================\n/**\n * Update the state of all items.\n *\n * @param self the `ScrollSpy` instance\n */\nconst updateSpyTargets = (self: ScrollSpy) => {\n  const {\n    target,\n    _itemsLength,\n    _observables,\n  } = self;\n\n  const links = getElementsByTagName<HTMLAnchorElement>(\"A\", target);\n  const doc = getDocument(target);\n\n  // only update items once or with each mutation\n  // istanbul ignore else @preserve\n  if (!links.length || _itemsLength === _observables.size) return;\n  // reset arrays & update\n  _observables.clear();\n\n  Array.from(links).forEach((link) => {\n    const hash = getAttribute(link, \"href\")?.slice(1);\n    const targetItem = hash?.length ? doc.getElementById(hash) : null;\n\n    if (targetItem && !isDisabled(link)) {\n      self._observables.set(targetItem, link);\n    }\n  });\n  self._itemsLength = self._observables.size;\n};\n\n/**\n * Clear all items of the target.\n *\n * @param target a single item\n */\nconst clear = (target: Element) => {\n  Array.from(getElementsByTagName<HTMLAnchorElement>(\"A\", target)).forEach(\n    (item) => {\n      if (hasClass(item, activeClass)) removeClass(item, activeClass);\n    },\n  );\n};\n\n/**\n * Activates a new item.\n *\n * @param self the `ScrollSpy` instance\n * @param item a single item\n */\nconst activate = (self: ScrollSpy, item: HTMLElement) => {\n  const { target, element } = self;\n\n  // istanbul ignore else @preserve\n  clear(target);\n\n  self._activeItem = item;\n  addClass(item, activeClass);\n\n  // activate all parents\n  let parentItem = item;\n  while (parentItem !== target) {\n    parentItem = parentItem.parentElement as HTMLElement;\n    if (\n      [\"nav\", \"dropdown-menu\", \"list-group\"].some((c) =>\n        hasClass(parentItem, c)\n      )\n    ) {\n      const parentLink = parentItem.previousElementSibling as\n        | HTMLElement\n        | null;\n\n      // istanbul ignore else @preserve\n      if (parentLink && !hasClass(parentLink, activeClass)) {\n        addClass(parentLink, activeClass);\n      }\n    }\n  }\n\n  // dispatch\n  activateScrollSpy.relatedTarget = item;\n  dispatchEvent(element, activateScrollSpy);\n};\n\nconst getOffset = (self: ScrollSpy, target: HTMLElement) => {\n  const { scrollTarget, element, options } = self;\n\n  return (scrollTarget !== element\n    ? getBoundingClientRect(target).top + scrollTarget.scrollTop\n    : target.offsetTop) - (options.offset as number || 10);\n};\n\n// SCROLLSPY DEFINITION\n// ====================\n/** Returns a new `ScrollSpy` instance. */\nexport default class ScrollSpy extends BaseComponent {\n  static selector = scrollspySelector;\n  static init = scrollspyInitCallback;\n  static getInstance = getScrollSpyInstance;\n  declare element: HTMLElement;\n  declare options: ScrollSpyOptions;\n  declare target: HTMLElement;\n  declare scrollTarget: HTMLElement;\n  declare _itemsLength: number;\n  declare _activeItem: HTMLElement | null;\n  declare _observables: Map<HTMLElement, HTMLElement>;\n  declare _observer: PositionObserver; //| IntersectionObserver;\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(\n    target: Element | string,\n    config?: Partial<ScrollSpyOptions>,\n  ) {\n    super(target, config);\n\n    // initialization element & options\n    const { element, options } = this;\n\n    // get target\n    const spyTarget = querySelector(\n      options.target,\n      getDocument(element),\n    );\n\n    // invalidate\n    if (!spyTarget) return;\n    this.target = spyTarget;\n\n    // set initial state\n    this.scrollTarget = element.clientHeight < element.scrollHeight\n      ? element\n      : getDocumentElement(element);\n    this._observables = new Map();\n\n    // run an initial burst, we need to know the targets\n    this.refresh();\n    // updateSpyTargets(this);\n\n    // create observer\n    this._observer = new PositionObserver(() => {\n      requestAnimationFrame(() => this.refresh());\n    }, {\n      root: this.scrollTarget,\n    });\n\n    // add event handlers\n    this._toggleEventListeners(true);\n  }\n\n  /* eslint-disable */\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return scrollspyComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return scrollspyDefaults;\n  }\n  /* eslint-enable */\n\n  // SCROLLSPY PUBLIC METHODS\n  // ========================\n  /** Updates all items. */\n  refresh = () => {\n    const { target, scrollTarget } = this;\n    // check if target is visible and invalidate\n    // istanbul ignore if @preserve\n    if (!target || target.offsetHeight === 0) return;\n\n    updateSpyTargets(this);\n    const { _itemsLength, _observables, _activeItem } = this;\n\n    // istanbul ignore if @preserve\n    if (!_itemsLength) return;\n    const entries = _observables.entries().toArray();\n\n    const { scrollTop, scrollHeight, clientHeight } = scrollTarget;\n\n    if (scrollTop >= scrollHeight - clientHeight) {\n      const newActiveItem = entries[_itemsLength - 1]?.[1];\n\n      // istanbul ignore else @preserve\n      if (_activeItem !== newActiveItem) activate(this, newActiveItem);\n      return;\n    }\n\n    const firstOffset = entries[0]?.[0]\n      ? getOffset(this, entries[0][0])\n      : /* istanbul ignore next */ null;\n    if (\n      firstOffset !== null && scrollTop < firstOffset &&\n      firstOffset > 0\n    ) {\n      this._activeItem = null;\n      clear(target);\n      return;\n    }\n\n    for (let i = 0; i < _itemsLength; i += 1) {\n      const [targetItem, item] = entries[i];\n      const offsetTop = getOffset(this, targetItem);\n      const nextTarget = entries[i + 1]?.[0];\n      const nextOffsetTop = nextTarget\n        ? getOffset(this, nextTarget)\n        : /* istanbul ignore next */ null;\n\n      // istanbul ignore else @preserve\n      if (\n        _activeItem !== item &&\n        scrollTop >= offsetTop &&\n        (nextOffsetTop === null || scrollTop < nextOffsetTop)\n      ) {\n        activate(this, item);\n        break;\n      }\n    }\n  };\n\n  /**\n   * This method provides an event handle\n   * for scrollspy\n   * @param e the event listener object\n   */\n  _scrollTo = (e: MouseEvent<HTMLAnchorElement>) => {\n    const item = closest(e.target, scrollSpyAnchorSelector);\n    const hash = item && getAttribute(item, \"href\")?.slice(1);\n    const targetItem = hash && getElementById(hash, this.target);\n\n    // istanbul ignore else @preserve\n    if (targetItem) {\n      this.scrollTarget.scrollTo({\n        top: targetItem.offsetTop,\n        behavior: \"smooth\",\n      });\n      e.preventDefault();\n    }\n  };\n\n  /**\n   * Toggles on/off the component observer.\n   *\n   * @param self the ScrollSpy instance\n   * @param add when `true`, listener is added\n   */\n  _toggleEventListeners = (\n    add?: boolean,\n  ) => {\n    const { target, _observables, _observer, _scrollTo } = this;\n    const action = add ? addListener : removeListener;\n    action(target, mouseclickEvent, _scrollTo);\n\n    if (add) {\n      _observables?.forEach((_, targetItem) => _observer.observe(targetItem));\n    } else _observer.disconnect();\n  };\n\n  /** Removes `ScrollSpy` from the target element. */\n  dispose() {\n    this._toggleEventListeners();\n    super.dispose();\n  }\n}\n","/** @type {string} */\nconst tabString = \"tab\";\nexport default tabString;\n","/** @type {string} */\nconst tabComponent = \"Tab\";\nexport default tabComponent;\n","/* Native JavaScript for Bootstrap 5 | Tab\n------------------------------------------ */\nimport {\n  addClass,\n  ariaSelected,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  getElementsByClassName,\n  getInstance,\n  hasClass,\n  isHTMLElement,\n  mouseclickEvent,\n  MouseEvent,\n  querySelector,\n  reflow,\n  removeClass,\n  setAttribute,\n  Timer,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport collapsingClass from \"~/strings/collapsingClass\";\nimport activeClass from \"~/strings/activeClass\";\nimport fadeClass from \"~/strings/fadeClass\";\nimport showClass from \"~/strings/showClass\";\nimport dropdownClasses from \"~/strings/dropdownClasses\";\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport tabString from \"~/strings/tabString\";\nimport tabComponent from \"~/strings/tabComponent\";\nimport getTargetElement from \"~/util/getTargetElement\";\nimport BaseComponent from \"./base-component\";\nimport type { /* TabOptions, */ TabEvent } from \"~/interface/tab\";\n\n// TAB PRIVATE GC\n// ================\nconst tabSelector = `[${dataBsToggle}=\"${tabString}\"]`;\n\n/**\n * Static method which returns an existing `Tab` instance associated\n * to a target `Element`.\n */\nconst getTabInstance = (element: Element) =>\n  getInstance<Tab>(element, tabComponent);\n\n/** A `Tab` initialization callback. */\nconst tabInitCallback = (element: Element) => new Tab(element);\n\ntype TabEventProps = {\n  relatedTarget: Element & EventTarget | undefined;\n};\n\n// TAB CUSTOM EVENTS\n// =================\nconst showTabEvent = createCustomEvent<TabEventProps, TabEvent>(\n  `show.bs.${tabString}`,\n);\nconst shownTabEvent = createCustomEvent<TabEventProps, TabEvent>(\n  `shown.bs.${tabString}`,\n);\nconst hideTabEvent = createCustomEvent<TabEventProps, TabEvent>(\n  `hide.bs.${tabString}`,\n);\nconst hiddenTabEvent = createCustomEvent<TabEventProps, TabEvent>(\n  `hidden.bs.${tabString}`,\n);\n\ninterface TabPrivate {\n  tab: HTMLElement | null;\n  content: HTMLElement | null;\n  currentHeight: number;\n  nextHeight: number;\n}\n\n/**\n * Stores the current active tab and its content\n * for a given `.nav` element.\n */\nconst tabPrivate: Map<HTMLElement, TabPrivate> = new Map();\n\n// TAB PRIVATE METHODS\n// ===================\n/**\n * Executes after tab transition has finished.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabEnd = (self: Tab) => {\n  const { tabContent, nav } = self;\n\n  // istanbul ignore else @preserve\n  if (tabContent && hasClass(tabContent, collapsingClass)) {\n    tabContent.style.height = \"\";\n    removeClass(tabContent, collapsingClass);\n  }\n\n  // istanbul ignore else @preserve\n  if (nav) Timer.clear(nav);\n};\n\n/**\n * Executes before showing the tab content.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabShow = (self: Tab) => {\n  const { element, tabContent, content: nextContent, nav } = self;\n  const { tab } = (isHTMLElement(nav) && tabPrivate.get(nav)) ||\n    // istanbul ignore next @preserve\n    { tab: null };\n\n  // istanbul ignore else @preserve\n  if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n    const { currentHeight, nextHeight } = tabPrivate.get(element) ||\n      // istanbul ignore next @preserve\n      { currentHeight: 0, nextHeight: 0 };\n    // istanbul ignore else @preserve: vitest won't validate this branch\n    if (currentHeight !== nextHeight) {\n      // enables height animation\n      setTimeout(() => {\n        tabContent.style.height = `${nextHeight}px`;\n        reflow(tabContent);\n        emulateTransitionEnd(tabContent, () => triggerTabEnd(self));\n      }, 50);\n    } else {\n      triggerTabEnd(self);\n    }\n  } else if (nav) Timer.clear(nav);\n\n  shownTabEvent.relatedTarget = tab as HTMLElement | undefined;\n\n  dispatchEvent(element, shownTabEvent);\n};\n\n/**\n * Executes before hiding the tab.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabHide = (self: Tab) => {\n  const { element, content: nextContent, tabContent, nav } = self;\n  const { tab, content } = (nav && tabPrivate.get(nav)) ||\n    // istanbul ignore next @preserve\n    { tab: null, content: null };\n  let currentHeight = 0;\n\n  // istanbul ignore else @preserve\n  if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n    [content, nextContent].forEach((c) => {\n      // istanbul ignore else @preserve\n      if (c) addClass(c, \"overflow-hidden\");\n    });\n    currentHeight = content\n      ? content.scrollHeight\n      : /* istanbul ignore next @preserve */ 0;\n  }\n\n  // update relatedTarget and dispatch event\n  showTabEvent.relatedTarget = tab as HTMLElement | undefined;\n  hiddenTabEvent.relatedTarget = element as HTMLElement;\n  dispatchEvent(element, showTabEvent);\n\n  // istanbul ignore if @preserve\n  if (showTabEvent.defaultPrevented) return;\n  // istanbul ignore else @preserve\n  if (nextContent) addClass(nextContent, activeClass);\n  // istanbul ignore else @preserve\n  if (content) removeClass(content, activeClass);\n\n  // istanbul ignore else @preserve\n  if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n    const nextHeight = nextContent.scrollHeight;\n    tabPrivate.set(element, {\n      currentHeight,\n      nextHeight,\n      tab: null,\n      content: null,\n    });\n\n    addClass(tabContent, collapsingClass);\n    tabContent.style.height = `${currentHeight}px`;\n    reflow(tabContent);\n    [content, nextContent].forEach((c) => {\n      // istanbul ignore else @preserve\n      if (c) removeClass(c, \"overflow-hidden\");\n    });\n  }\n\n  if (nextContent && nextContent && hasClass(nextContent, fadeClass)) {\n    setTimeout(() => {\n      addClass(nextContent, showClass);\n      emulateTransitionEnd(nextContent, () => {\n        triggerTabShow(self);\n      });\n    }, 1);\n  } else {\n    // istanbul ignore else @preserve\n    if (nextContent) addClass(nextContent, showClass);\n    triggerTabShow(self);\n  }\n\n  // istanbul ignore else @preserve\n  if (tab) dispatchEvent(tab, hiddenTabEvent);\n};\n\n/**\n * Returns the current active tab and its target content.\n *\n * @param self the `Tab` instance\n * @returns the query result\n */\nconst getActiveTab = (\n  self: Tab,\n): { tab: HTMLElement | null; content: HTMLElement | null } => {\n  const { nav } = self;\n  // istanbul ignore next @preserve\n  if (!isHTMLElement(nav)) {\n    return { tab: null, content: null };\n  }\n\n  const activeTabs = getElementsByClassName<HTMLElement>(\n    activeClass,\n    nav,\n  );\n  let tab: HTMLElement | null = null;\n  // istanbul ignore else @preserve\n  if (\n    activeTabs.length === 1 &&\n    !dropdownClasses.some((c) =>\n      hasClass(activeTabs[0].parentElement as HTMLElement, c)\n    )\n  ) {\n    [tab] = activeTabs;\n  } else if (activeTabs.length > 1) {\n    tab = activeTabs[activeTabs.length - 1];\n  }\n  const content = isHTMLElement(tab) ? getTargetElement(tab) : null;\n  return { tab, content };\n};\n\n/**\n * Returns a parent dropdown.\n *\n * @param element the `Tab` element\n * @returns the parent dropdown\n */\nconst getParentDropdown = (element?: HTMLElement) => {\n  // istanbul ignore next @preserve\n  if (!isHTMLElement(element)) return null;\n  const dropdown = closest(element, `.${dropdownClasses.join(\",.\")}`);\n  return dropdown\n    ? querySelector<HTMLElement>(`.${dropdownClasses[0]}-toggle`, dropdown)\n    : null;\n};\n\n// TAB EVENT HANDLER\n// =================\n/**\n * Handles the `click` event listener.\n *\n * @param e the `Event` object\n */\nconst tabClickHandler = (e: MouseEvent<Element>) => {\n  const element = closest(e.target, tabSelector);\n  const self = element && getTabInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n  e.preventDefault();\n  self.show();\n};\n\n// TAB DEFINITION\n// ==============\n/** Creates a new `Tab` instance. */\nexport default class Tab extends BaseComponent {\n  static selector = tabSelector;\n  static init = tabInitCallback;\n  static getInstance = getTabInstance;\n  declare element: HTMLElement;\n  declare nav: HTMLElement | null;\n  declare content: HTMLElement | null;\n  declare tabContent: HTMLElement | null;\n  declare nextContent: HTMLElement | null;\n  declare dropdown: HTMLElement | null;\n\n  /** @param target the target element */\n  constructor(target: Element | string) {\n    super(target);\n\n    // initialization element\n    const { element } = this;\n    const content = getTargetElement(element);\n\n    // no point initializing a tab without a corresponding content\n    // istanbul ignore else @preserve\n    if (!content) return;\n\n    const nav = closest<HTMLElement>(element, \".nav\");\n    const container = closest<HTMLElement>(\n      content as HTMLElement,\n      \".tab-content\",\n    );\n\n    this.nav = nav;\n    this.content = content;\n    this.tabContent = container;\n\n    // event targets\n    this.dropdown = getParentDropdown(element);\n\n    // show first Tab instance of none is shown\n    // suggested on #432\n    const { tab } = getActiveTab(this);\n    if (nav && !tab) {\n      const firstTab = querySelector(tabSelector, nav);\n      const firstTabContent = firstTab && getTargetElement(firstTab);\n\n      // istanbul ignore else @preserve\n      if (firstTabContent) {\n        addClass(firstTab, activeClass);\n        addClass(firstTabContent, showClass);\n        addClass(firstTabContent, activeClass);\n        setAttribute(element, ariaSelected, \"true\");\n      }\n    }\n\n    // add event listener\n    this._toggleEventListeners(true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return tabComponent;\n  }\n\n  // TAB PUBLIC METHODS\n  // ==================\n  /** Shows the tab to the user. */\n  show() {\n    const { element, content: nextContent, nav, dropdown } = this;\n\n    // istanbul ignore else @preserve\n    if ((nav && Timer.get(nav)) || hasClass(element, activeClass)) return;\n    const { tab, content } = getActiveTab(this);\n\n    // istanbul ignore else @preserve\n    if (nav && tab) {\n      tabPrivate.set(nav, { tab, content, currentHeight: 0, nextHeight: 0 });\n    }\n\n    // update relatedTarget and dispatch\n    hideTabEvent.relatedTarget = element as HTMLElement;\n\n    // istanbul ignore if @preserve\n    if (!isHTMLElement(tab)) return;\n\n    dispatchEvent(tab, hideTabEvent);\n\n    // istanbul ignore else @preserve\n    if (hideTabEvent.defaultPrevented) return;\n\n    addClass(element, activeClass);\n    setAttribute(element, ariaSelected, \"true\");\n\n    const activeDropdown = isHTMLElement(tab) && getParentDropdown(tab);\n    if (activeDropdown && hasClass(activeDropdown, activeClass)) {\n      removeClass(activeDropdown, activeClass);\n    }\n\n    // istanbul ignore else @preserve\n    if (nav) {\n      const toggleTab = () => {\n        // istanbul ignore else @preserve\n        if (tab) {\n          removeClass(tab, activeClass);\n          setAttribute(tab, ariaSelected, \"false\");\n        }\n        if (dropdown && !hasClass(dropdown, activeClass)) {\n          addClass(dropdown, activeClass);\n        }\n      };\n\n      if (\n        content &&\n        (hasClass(content, fadeClass) ||\n          (nextContent && hasClass(nextContent, fadeClass)))\n      ) {\n        Timer.set(nav, toggleTab, 1);\n      } else toggleTab();\n    }\n\n    // istanbul ignore else @preserve\n    if (content) {\n      removeClass(content, showClass);\n      if (hasClass(content, fadeClass)) {\n        emulateTransitionEnd(content, () => triggerTabHide(this));\n      } else {\n        triggerTabHide(this);\n      }\n    }\n  }\n\n  /**\n   * Toggles on/off the `click` event listener.\n   *\n   * @param add when `true`, event listener is added\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    action(this.element, mouseclickEvent, tabClickHandler);\n  };\n\n  /** Removes the `Tab` component from the target element. */\n  dispose() {\n    this._toggleEventListeners();\n    super.dispose();\n  }\n}\n","/** @type {string} */\nconst toastString = \"toast\";\nexport default toastString;\n","/** @type {string} */\nconst toastComponent = \"Toast\";\nexport default toastComponent;\n","/* Native JavaScript for Bootstrap 5 | Toast\n-------------------------------------------- */\nimport {\n  addClass,\n  closest,\n  createCustomEvent,\n  dispatchEvent,\n  emulateTransitionEnd,\n  focusinEvent,\n  focusoutEvent,\n  getDocument,\n  getInstance,\n  hasClass,\n  mouseclickEvent,\n  mouseenterEvent,\n  MouseEvent,\n  mouseleaveEvent,\n  querySelector,\n  querySelectorAll,\n  reflow,\n  removeClass,\n  Timer,\n} from \"@thednp/shorty\";\n\nimport { addListener, removeListener } from \"@thednp/event-listener\";\n\nimport fadeClass from \"~/strings/fadeClass\";\nimport showClass from \"~/strings/showClass\";\nimport dataBsDismiss from \"~/strings/dataBsDismiss\";\nimport dataBsToggle from \"~/strings/dataBsToggle\";\nimport toastString from \"~/strings/toastString\";\nimport toastComponent from \"~/strings/toastComponent\";\nimport getTargetElement from \"~/util/getTargetElement\";\nimport isDisabled from \"~/util/isDisabled\";\nimport BaseComponent from \"./base-component\";\nimport { ToastEvent, ToastOptions } from \"~/interface/toast\";\n\n// TOAST PRIVATE GC\n// ================\nconst toastSelector = `.${toastString}`;\nconst toastDismissSelector = `[${dataBsDismiss}=\"${toastString}\"]`;\nconst toastToggleSelector = `[${dataBsToggle}=\"${toastString}\"]`;\nconst showingClass = \"showing\";\n/** @deprecated */\nconst hideClass = \"hide\";\n\nconst toastDefaults = {\n  animation: true,\n  autohide: true,\n  delay: 5000,\n};\n\n/**\n * Static method which returns an existing `Toast` instance associated\n * to a target `Element`.\n */\nconst getToastInstance = (element: Element) =>\n  getInstance<Toast>(element, toastComponent);\n\n/**\n * A `Toast` initialization callback.\n */\nconst toastInitCallback = (element: Element) => new Toast(element);\n\n// TOAST CUSTOM EVENTS\n// ===================\nconst showToastEvent = createCustomEvent<Record<string, never>, ToastEvent>(\n  `show.bs.${toastString}`,\n);\nconst shownToastEvent = createCustomEvent<Record<string, never>, ToastEvent>(\n  `shown.bs.${toastString}`,\n);\nconst hideToastEvent = createCustomEvent<Record<string, never>, ToastEvent>(\n  `hide.bs.${toastString}`,\n);\nconst hiddenToastEvent = createCustomEvent<Record<string, never>, ToastEvent>(\n  `hidden.bs.${toastString}`,\n);\n\n// TOAST PRIVATE METHODS\n// =====================\n/**\n * Executes after the toast is shown to the user.\n *\n * @param self the `Toast` instance\n */\nconst showToastComplete = (self: Toast) => {\n  const { element, options } = self;\n  removeClass(element, showingClass);\n  Timer.clear(element, showingClass);\n\n  dispatchEvent(element, shownToastEvent);\n  // istanbul ignore else @preserve\n  if (options.autohide) {\n    Timer.set(element, () => self.hide(), options.delay, toastString);\n  }\n};\n\n/**\n * Executes after the toast is hidden to the user.\n *\n * @param self the `Toast` instance\n */\nconst hideToastComplete = (self: Toast) => {\n  const { element } = self;\n  removeClass(element, showingClass);\n  removeClass(element, showClass);\n  addClass(element, hideClass); // B/C\n  Timer.clear(element, toastString);\n  dispatchEvent(element, hiddenToastEvent);\n};\n\n/**\n * Executes before hiding the toast.\n *\n * @param self the `Toast` instance\n */\nconst hideToast = (self: Toast) => {\n  const { element, options } = self;\n  addClass(element, showingClass);\n\n  if (options.animation) {\n    reflow(element as HTMLElement);\n    emulateTransitionEnd(element, () => hideToastComplete(self));\n  } else {\n    hideToastComplete(self);\n  }\n};\n\n/**\n * Executes before showing the toast.\n *\n * @param self the `Toast` instance\n */\nconst showToast = (self: Toast) => {\n  const { element, options } = self;\n  Timer.set(\n    element,\n    () => {\n      removeClass(element, hideClass); // B/C\n      reflow(element as HTMLElement);\n      addClass(element, showClass);\n      addClass(element, showingClass);\n\n      if (options.animation) {\n        emulateTransitionEnd(element, () => showToastComplete(self));\n      } else {\n        showToastComplete(self);\n      }\n    },\n    17,\n    showingClass,\n  );\n};\n\n// TOAST EVENT HANDLERS\n// ====================\n/**\n * Handles the `click` event listener for toast.\n *\n * @param e the `Event` object\n */\nconst toastClickHandler = (e: Event) => {\n  const { target } = e;\n\n  const trigger = target && closest(target as HTMLElement, toastToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getToastInstance(element);\n\n  // istanbul ignore if @preserve\n  if (!self) return;\n  // istanbul ignore else @preserve\n  if (trigger && trigger.tagName === \"A\") e.preventDefault();\n  self.relatedTarget = trigger;\n  self.show();\n};\n\n/**\n * Executes when user interacts with the toast without closing it,\n * usually by hovering or focusing it.\n *\n * @param e the `Toast` instance\n */\nconst interactiveToastHandler = (e: MouseEvent<HTMLElement>) => {\n  const element = e.target;\n  const self = getToastInstance(element);\n  const { type, relatedTarget } = e;\n\n  // istanbul ignore if @preserve: a solid filter is required\n  if (\n    !self || element === relatedTarget ||\n    element.contains(relatedTarget as Node)\n  ) return;\n\n  if ([mouseenterEvent, focusinEvent].includes(type)) {\n    Timer.clear(element, toastString);\n  } else {\n    Timer.set(element, () => self.hide(), self.options.delay, toastString);\n  }\n};\n\n// TOAST DEFINITION\n// ================\n/** Creates a new `Toast` instance. */\nexport default class Toast extends BaseComponent {\n  static selector = toastSelector;\n  static init = toastInitCallback;\n  static getInstance = getToastInstance;\n  declare element: HTMLElement;\n  declare options: ToastOptions;\n  declare dismiss: HTMLElement | null;\n  declare triggers: HTMLElement[];\n  declare relatedTarget: HTMLElement | null;\n\n  /**\n   * @param target the target `.toast` element\n   * @param config the instance options\n   */\n  constructor(target: Element | string, config?: Partial<ToastOptions>) {\n    super(target, config);\n    const { element, options } = this;\n\n    // set fadeClass, the options.animation will override the markup\n    if (options.animation && !hasClass(element, fadeClass)) {\n      addClass(element, fadeClass);\n    } else if (!options.animation && hasClass(element, fadeClass)) {\n      removeClass(element, fadeClass);\n    }\n\n    // dismiss button\n    this.dismiss = querySelector<HTMLElement>(toastDismissSelector, element);\n\n    // toast can have multiple triggering elements\n    this.triggers = [\n      ...querySelectorAll<HTMLElement>(\n        toastToggleSelector,\n        getDocument(element),\n      ),\n    ].filter(\n      (btn) => getTargetElement(btn) === element,\n    );\n\n    // add event listener\n    this._toggleEventListeners(true);\n  }\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return toastComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return toastDefaults;\n  }\n  /**\n   * Returns *true* when toast is visible.\n   */\n  get isShown() {\n    return hasClass(this.element, showClass);\n  }\n\n  // TOAST PUBLIC METHODS\n  // ====================\n  /** Shows the toast. */\n  show = () => {\n    const { element, isShown } = this;\n\n    // istanbul ignore if @preserve\n    if (!element || isShown) return;\n\n    dispatchEvent(element, showToastEvent);\n    if (!showToastEvent.defaultPrevented) showToast(this);\n  };\n\n  /** Hides the toast. */\n  hide = () => {\n    const { element, isShown } = this;\n\n    // istanbul ignore if @preserve\n    if (!element || !isShown) return;\n\n    dispatchEvent(element, hideToastEvent);\n    if (!hideToastEvent.defaultPrevented) hideToast(this);\n  };\n\n  /**\n   * Toggles on/off the `click` event listener.\n   *\n   * @param add when `true`, it will add the listener\n   */\n  _toggleEventListeners = (add?: boolean) => {\n    const action = add ? addListener : removeListener;\n    const { element, triggers, dismiss, options, hide } = this;\n\n    // istanbul ignore else @preserve\n    if (dismiss) {\n      action(dismiss, mouseclickEvent, hide);\n    }\n\n    // istanbul ignore else @preserve\n    if (options.autohide) {\n      [focusinEvent, focusoutEvent, mouseenterEvent, mouseleaveEvent].forEach(\n        (e) => action(element, e, interactiveToastHandler),\n      );\n    }\n    // istanbul ignore else @preserve\n    if (triggers.length) {\n      triggers.forEach((btn) => {\n        // istanbul ignore else @preserve\n        if (!isDisabled(btn)) action(btn, mouseclickEvent, toastClickHandler);\n      });\n    }\n  };\n\n  /** Removes the `Toast` component from the target element. */\n  dispose() {\n    const { element, isShown } = this;\n    this._toggleEventListeners();\n    Timer.clear(element, toastString);\n\n    if (isShown) removeClass(element, showClass);\n\n    super.dispose();\n  }\n}\n","import { Data, getElementsByTagName, matches } from \"@thednp/shorty\";\n\nimport { addListener } from \"@thednp/event-listener\";\n\nimport Alert from \"../components/alert\";\nimport Button from \"../components/button\";\nimport Carousel from \"../components/carousel\";\nimport Collapse from \"../components/collapse\";\nimport Dropdown from \"../components/dropdown\";\nimport Modal from \"../components/modal\";\nimport Offcanvas from \"../components/offcanvas\";\nimport Popover from \"../components/popover\";\nimport ScrollSpy from \"../components/scrollspy\";\nimport Tab from \"../components/tab\";\nimport Toast from \"../components/toast\";\nimport Tooltip from \"../components/tooltip\";\n\nconst componentsList = new Map<\n  string,\n  | typeof Alert\n  | typeof Button\n  | typeof Carousel\n  | typeof Collapse\n  | typeof Dropdown\n  | typeof Modal\n  | typeof Offcanvas\n  | typeof Popover\n  | typeof ScrollSpy\n  | typeof Tab\n  | typeof Toast\n  | typeof Tooltip\n>();\n\ntype Component =\n  | Alert\n  | Button\n  | Carousel\n  | Collapse\n  | Dropdown\n  | Modal\n  | Offcanvas\n  | Popover\n  | ScrollSpy\n  | Tab\n  | Toast\n  | Tooltip;\n\n[\n  Alert,\n  Button,\n  Carousel,\n  Collapse,\n  Dropdown,\n  Modal,\n  Offcanvas,\n  Popover,\n  ScrollSpy,\n  Tab,\n  Toast,\n  Tooltip,\n].forEach((c) => componentsList.set(c.prototype.name, c));\n\n/**\n * Initialize all matched `Element`s for one component.\n *\n * @param callback\n * @param collection\n */\nconst initComponentDataAPI = (\n  callback: (el: Element) => Component,\n  collection: HTMLCollectionOf<Element> | Element[],\n) => {\n  [...collection].forEach((x) => callback(x));\n};\n\n/**\n * Remove one component from a target container element or all in the page.\n *\n * @param component the component name\n * @param context parent `Node`\n */\nconst removeComponentDataAPI = <T>(component: string, context: ParentNode) => {\n  const compData = Data.getAllFor(component) as Map<Element, T>;\n\n  if (compData) {\n    [...compData].forEach(([element, instance]) => {\n      if (context.contains(element)) {\n        (instance as T & { dispose: () => void }).dispose();\n      }\n    });\n  }\n};\n\n/**\n * Initialize all BSN components for a target container.\n *\n * @param context parent `Node`\n */\nexport const initCallback = (context?: ParentNode) => {\n  const lookUp = context && context.nodeName ? context : document;\n  const elemCollection = [...getElementsByTagName<Element>(\"*\", lookUp)];\n\n  componentsList.forEach((cs) => {\n    const { init, selector } = cs;\n    initComponentDataAPI(\n      init,\n      elemCollection.filter((item) => matches(item, selector)),\n    );\n  });\n};\n\n/**\n * Remove all BSN components for a target container.\n *\n * @param context parent `Node`\n */\nexport const removeDataAPI = (context?: ParentNode) => {\n  const lookUp = context && context.nodeName ? context : document;\n\n  componentsList.forEach((comp) => {\n    removeComponentDataAPI(comp.prototype.name, lookUp);\n  });\n};\n\n// Bulk initialize all components\nif (document.body) initCallback();\nelse {\n  addListener(document, \"DOMContentLoaded\", () => initCallback(), {\n    once: true,\n  });\n}\n"],"names":["De","Oe","J","Pe","Be","Fe","ct","at","it","ft","gt","vt","Et","yt","wt","At","Ot","zt","It","Qt","je","Yt","on","sn","rn","cn","gn","$t","Jt","L","W","zn","t","e","ee","R","n","o","s","Q","j","oe","Qn","Gn","qn","Yn","Zn","b","l","u","h","D","to","I","k","G","K","d","N","se","q","g","ie","ue","so","r","a","i","ao","P","T","uo","f","c","p","E","fo","mo","vo","bo","Eo","O","le","v","ho","yo","de","x","fe","pe","Ao","m","w","So","S","ko","me","A","ve","be","Ee","we","Co","F","H","y","Ae","Se","Do","zo","Vo","Uo","ke","Ro","Ne","jo","Go","fadeClass","showClass","dataBsDismiss","alertString","alertComponent","Version","version","BaseComponent","target","config","element","isElement","isString","querySelector","prevInstance","Data","ObjectKeys","normalizeOptions","prop","isDisabled","hasClass","getAttribute","alertSelector","alertDismissSelector","getAlertInstance","getInstance","alertInitCallback","Alert","closeAlertEvent","createCustomEvent","closedAlertEvent","alertTransitionEnd","self","dispatchEvent","removeClass","emulateTransitionEnd","add","action","addListener","removeListener","dismiss","close","mouseclickEvent","activeClass","dataBsToggle","buttonString","buttonComponent","buttonSelector","getButtonInstance","buttonInitCallback","Button","setAttribute","ariaPressed","isActive","addClass","dataBsTarget","carouselString","carouselComponent","dataBsParent","dataBsContainer","getTargetElement","targetAttr","doc","getDocument","att","attValue","closest","carouselSelector","carouselItem","dataBsSlideTo","dataBsSlide","pausedClass","carouselDefaults","getCarouselInstance","carouselInitCallback","Carousel","startX","currentX","endX","carouselSlideEvent","carouselSlidEvent","carouselTransitionEndHandler","index","direction","slides","options","activeItem","getActiveIndex","orientation","directionClass","Timer","carouselPauseHandler","carouselResumeHandler","carouselIndicatorHandler","newIndex","carouselControlsHandler","carouselKeyHandler","code","querySelectorAll","isElementInScrollRange","RTL","isRTL","keyArrowRight","keyArrowLeft","carouselDragHandler","carouselPointerDownHandler","controls","indicators","el","toggleCarouselTouchHandlers","carouselPointerMoveHandler","carouselPointerUpHandler","activateCarouselIndicator","pointermoveEvent","passiveHandler","pointerupEvent","getElementsByClassName","activeIndex","transitionItem","matches","ar","isPaused","idx","next","eventProperties","ObjectAssign","getElementTransitionDuration","reflow","touch","pause","interval","keyboard","mouseenterEvent","mouseleaveEvent","pointerdownEvent","touchstartEvent","dragstartEvent","arrow","indicator","keydownEvent","isAnimating","clone","collapsingClass","collapseString","collapseComponent","collapseSelector","collapseToggleSelector","collapseDefaults","getCollapseInstance","collapseInitCallback","Collapse","showCollapseEvent","shownCollapseEvent","hideCollapseEvent","hiddenCollapseEvent","expandCollapse","parent","triggers","noop","setElementStyle","btn","ariaExpanded","collapseContent","collapseClickHandler","trigger","isHTMLElement","activeCollapse","activeCollapseInstance","dropdownMenuClasses","dropdownComponent","dropdownMenuClass","isEmptyAnchor","parentAnchor","hasAttribute","dropdownString","dropupString","dropstartString","dropendString","dropdownClasses","dropdownSelector","getDropdownInstance","dropdownInitCallback","Dropdown","dropdownMenuEndClass","verticalClass","horizontalClass","menuFocusTags","dropdownDefaults","showDropdownEvent","shownDropdownEvent","hideDropdownEvent","hiddenDropdownEvent","updatedDropdownEvent","styleDropdown","menu","parentElement","offset","getElementStyle","menuEnd","style","positionClass","dropdownMargin","dropdownPosition","menuWidth","menuHeight","clientWidth","clientHeight","getDocumentElement","targetLeft","targetTop","targetWidth","targetHeight","getBoundingClientRect","leftFullExceed","rightFullExceed","bottomExceed","bottomFullExceed","topExceed","leftExceed","rightExceed","posAjust","margins","getMenuItems","firstElementChild","toggleDropdownDismiss","dropdownDismissHandler","focusEvent","dropdownPreventScroll","keyupEvent","dropdownKeyHandler","getCurrentOpenDropdown","currentParent","type","isForm","mousedownEvent","dropdownClickHandler","keyArrowDown","keyArrowUp","activeElement","open","menuItems","focus","keyEscape","dropdownIntersectionHandler","entry","currentElement","currentInstance","modalString","modalComponent","offcanvasComponent","fixedTopClass","fixedBottomClass","stickyTopClass","positionStickyClass","getFixedItems","resetScrollbar","bd","getDocumentBody","fixedItems","fixed","measureScrollbar","innerWidth","getWindow","setScrollbar","overflow","bodyPad","sbWidth","itemPadValue","itemMValue","offcanvasString","popupContainer","createElement","appendPopup","customContainer","containerIsBody","isNode","lookup","BODY","removePopup","hasPopup","backdropString","modalBackdropClass","offcanvasBackdropClass","modalActiveSelector","offcanvasActiveSelector","overlay","getCurrentOpen","toggleOverlayType","isModal","targetClass","appendOverlay","hasFade","showOverlay","hideOverlay","removeOverlay","isVisible","modalSelector","modalToggleSelector","modalDismissSelector","modalStaticClass","modalDefaults","getModalInstance","modalInitCallback","Modal","showModalEvent","shownModalEvent","hideModalEvent","hiddenModalEvent","setModalScrollbar","scrollbarWidth","scrollHeight","modalHeight","modalScrollHeight","modalOverflow","padStyle","toggleModalDismiss","modalDismissHandler","modalKeyHandler","afterModalHide","relatedTarget","focusElement","toggleFocusTrap","afterModalShow","beforeModalShow","removeAttribute","ariaHidden","ariaModal","beforeModalHide","modalClickHandler","currentTarget","isStatic","modalDialog","backdrop","selectedText","targetInsideDialog","staticTransitionEnd","duration","overlayDelay","currentOpen","that","callback","offcanvasSelector","offcanvasToggleSelector","offcanvasDismissSelector","offcanvasTogglingClass","offcanvasDefaults","getOffcanvasInstance","offcanvasInitCallback","Offcanvas","showOffcanvasEvent","shownOffcanvasEvent","hideOffcanvasEvent","hiddenOffcanvasEvent","setOffCanvasScrollbar","toggleOffCanvasDismiss","offcanvasKeyDismissHandler","offcanvasDismissHandler","beforeOffcanvasShow","showOffcanvasComplete","beforeOffcanvasHide","hideOffcanvasComplete","offcanvasTriggerHandler","offCanvasDismiss","selection","visibleTrigger","isOpen","popoverString","popoverComponent","tooltipString","getTipTemplate","tipType","isTooltip","bodyClass","header","body","tipClassPositions","styleTip","tipClasses","tooltip","container","offsetParent","scrollLeft","scrollTop","getNodeScroll","tipWidth","tipHeight","htmlcw","htmlch","htmlow","placement","parentCWidth","parentOWidth","fixedParent","leftBoundry","rightBoundry","observerEntry","elemWidth","elemHeight","elemRectLeft","elemRectRight","elemRectTop","elemOffsetLeft","elemOffsetTop","getRectRelativeToOffsetParent","topPosition","bottomPosition","leftPosition","rightPosition","arrowTop","arrowLeft","arrowRight","arrowWidth","arrowHeight","arrowAdjust","horizontals","verticals","updatedTooltipEvent","toLowerCase","tooltipDefaults","_","dataOriginalTitle","tooltipComponent","setHtml","content","sanitizeFn","dirty","isFunction","tempDocument","isNodeList","isArray","createTip","id","title","template","animation","customClass","dismissible","btnClose","tipString","tipPositions","titleParts","contentParts","placementClass","tooltipTemplate","htmlMarkup","tooltipHeader","tooltipBody","tempTitle","tempContent","tempBtn","getElementContainer","majorBlockTags","containers","parentNode","getParentNode","isShadowRoot","isTableElement","tooltipSelector","titleAttr","getTooltipInstance","tooltipInitCallback","Tooltip","removeTooltip","ariaDescribedBy","hasTip","disposeTooltipComplete","toggleTooltipTitle","toggleTooltipAction","tooltipShownAction","shownTooltipEvent","tooltipHiddenAction","hiddenTooltipEvent","toggleTooltipOpenHandlers","parentModal","parentOffcanvas","titleAtt","tipComponent","elem","getUID","position","PositionObserver","outTimer","showTooltipEvent","delay","hideTooltipEvent","enabled","tr","mousehoverEvent","focusinEvent","focusoutEvent","isApple","popoverSelector","popoverDefaults","getPopoverInstance","popoverInitCallback","Popover","scrollspyString","scrollspyComponent","scrollspySelector","scrollSpyAnchorSelector","scrollspyDefaults","getScrollSpyInstance","scrollspyInitCallback","ScrollSpy","activateScrollSpy","updateSpyTargets","_itemsLength","_observables","links","getElementsByTagName","link","hash","targetItem","clear","item","activate","parentItem","parentLink","getOffset","scrollTarget","spyTarget","_activeItem","entries","newActiveItem","firstOffset","offsetTop","nextTarget","nextOffsetTop","getElementById","_observer","_scrollTo","tabString","tabComponent","tabSelector","getTabInstance","tabInitCallback","Tab","showTabEvent","shownTabEvent","hideTabEvent","hiddenTabEvent","tabPrivate","triggerTabEnd","tabContent","nav","triggerTabShow","nextContent","tab","currentHeight","nextHeight","triggerTabHide","getActiveTab","activeTabs","getParentDropdown","dropdown","tabClickHandler","firstTab","firstTabContent","ariaSelected","activeDropdown","toggleTab","toastString","toastComponent","toastSelector","toastDismissSelector","toastToggleSelector","showingClass","hideClass","toastDefaults","getToastInstance","toastInitCallback","Toast","showToastEvent","shownToastEvent","hideToastEvent","hiddenToastEvent","showToastComplete","hideToastComplete","hideToast","showToast","toastClickHandler","interactiveToastHandler","isShown","hide","componentsList","initComponentDataAPI","collection","removeComponentDataAPI","component","context","compData","instance","initCallback","lookUp","elemCollection","cs","init","selector","removeDataAPI","comp"],"mappings":"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","x_google_ignoreList":[0,1,53]}